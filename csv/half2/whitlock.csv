#,Status,Project,Tracker,Priority,Subject,Assigned to,Category,Target version,Author,Start,Due date,% Done,Estimated time,Created,Updated,Likelihood,Severity,Found in Version,Impact,Expected Use,OS,Support Group,Description
999,Resolved,VisIt,Feature,High,Add UNC path support on Windows.,Kathleen Biagas,"",2.13.2,Brad Whitlock,03/21/2012,"",100,"",03/21/2012 01:20 pm,05/22/2018 02:18 pm,"","",2.12.1,4 - High,4 - Common,Windows,Any,"Al Nichols reported that VisIt does not handle UNC-style paths on Windows. A UNC path is apparently a slightly different form of path that helps a Windows computer access files shared on a network. They are of the form: \\server\path\to\file.ext

We must be doing some drive-related funny-business that's making this not work. Perhaps the problem is only browsing the files in the mdserver since we pass down a string for filenames. 

Al wants VisIt to support this style of path in the Windows version of VisIt. "
3009,Resolved,VisIt,Bug,Normal,Crash creating lineout.,Kathleen Biagas,"",2.13.1,Brad Whitlock,02/08/2018,"",100,1.0,02/08/2018 04:08 pm,02/26/2018 01:14 pm,3 - Occasional,4 - Crash / Wrong Results,2.12.3,"","",All,Any,"I ran a short script I was making for debugging and found that it had some other problems that caused VisIt to crash. I tried the trunk and 2.13 and both crash.

./visit -cli -nowin -np 2 -dump -s lineout.py 

<code><pre>
OpenDatabase(""noise.silo"")
AddPlot(""Pseudocolor"", ""hgslice"")
DrawPlots()
Lineout((0., 0., 0.), (10., 10., 0.))
SetActiveWindow(2)
SaveWindow()
</pre></code>

Rank 1:
<code><pre>
(lldb) bt
* thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGKILL
  * frame #0: 0x000000010f5dba8d libmpich.10.dylib`MPIDI_CH3I_Progress + 1677
    frame #1: 0x000000010f588bcd libmpich.10.dylib`MPIC_Recv + 429
    frame #2: 0x000000010f58a0b7 libmpich.10.dylib`MPIC_Recv_ft + 135
    frame #3: 0x000000010f612fbf libmpich.10.dylib`MPIR_Bcast_binomial + 703
    frame #4: 0x000000010f6125dd libmpich.10.dylib`MPIR_Bcast_intra + 861
    frame #5: 0x000000010f614434 libmpich.10.dylib`MPIR_Bcast_impl + 132
    frame #6: 0x000000010f60ef3f libmpich.10.dylib`MPIR_Allreduce_intra + 1023
    frame #7: 0x000000010f610d64 libmpich.10.dylib`MPIR_Allreduce_impl + 148
    frame #8: 0x000000010f4e69af libpmpich.10.dylib`MPI_Allreduce + 1983
    frame #9: 0x000000011179760b libavtpipeline_par.dylib`avtParallelContext::GetUniqueMessageTags(this=0x0000000111840920, tags=0x00007fff5073855c, ntags=3) at avtParallelContext.C:2435
    frame #10: 0x0000000111791b05 libavtpipeline_par.dylib`GetUniqueMessageTags(tags=0x00007fff5073855c, ntags=3) at avtParallel.C:1461
    frame #11: 0x0000000110dcf8e5 libavtfilters_par.dylib`avtCurveConstructorFilter::Execute(this=0x00007fcdb0c50b00) at avtCurveConstructorFilter.C:201
</pre></code> 
"
3014,Resolved,VisIt,Bug,Normal,Audit query over time test for issues.,Kathleen Biagas,"",2.13.1,Brad Whitlock,02/14/2018,"",100,"",02/14/2018 06:30 pm,03/05/2018 04:05 pm,3 - Occasional,3 - Major Irritation,2.12.3,"","",All,Any,"I've been running the test suite quite a bit with --mode=scalable,parallel,icet and tests/queries/queriesOverTime.py is failing on/off for me. Partway through, and it varies, there will be a blank image and then the other images are okay. This suggests to me that there may be an engine crash and it gets restarted.

Also, when I ran with --vargs=""-debug 5 -dump"", I'd sometimes see a crash when VisIt was trying to write the dump file for the avtMultiCurveFilter.

This was on surface with a release build.
"
3022,Resolved,VisIt,Bug,Normal,130K domain dataset causes machine to run out of memory.,Brad Whitlock,"",2.13.1,Brad Whitlock,02/27/2018,"",100,"",02/27/2018 05:57 pm,03/19/2018 03:05 pm,3 - Occasional,2 - Minor Irritation,2.12.3,"","",All,Any,"I have a 130K dataset that is 1.6Gb and plot3d. It has a ton of small 9x9x9 domains (not ideal). When I run on a Mac with 64Gb memory using 8 engines, I see memory usage get huge to the point that the machine runs out of memory and freezes up.

I was making a Subset plot of domains and forcing SR mode before clicking the Draw button. I noted in top that the viewer at some point grows to beyond 15Gb of memory usage. We're supposed to be sending it an SR image, which should not require that kind of memory usage.

I later reduced the number of domains to 1/2 using the Subset window and used the Mac's Instruments program to measure viewer memory allocations. I found that 1) the parallel axis colleague in the vis window is trying to create 130k axes and we're not even in parallel coordinates mode and 2) the legend for the Subset window is creating 130K text actors for the legend.

I have a fix for number 1."
1950,Resolved,VisIt,Bug,Normal,Save window resolution limited to screen resolution.,Kathleen Biagas,"",2.13.0,Brad Whitlock,08/13/2014,"",100,"",08/13/2014 12:20 pm,10/23/2017 11:22 am,3 - Occasional,3 - Major Irritation,2.7.3,"","",Windows,Any,"Several users on the visitusers.org forum have reported that saving images with screen capture off on Windows causes saved images to be limited to the resolution of the Windows desktop screen.

http://visitusers.org/forum/YaBB.pl?num=1402500180"
2896,Resolved,VisIt,Bug,Normal,Crash in mdserver when reading Exodus data on Mac.,Brad Whitlock,"",2.13.0,Brad Whitlock,08/23/2017,"",100,"",08/23/2017 06:21 pm,08/23/2017 06:56 pm,3 - Occasional,4 - Crash / Wrong Results,2.12.3,"","",OSX,Any,"I run into a problem on Mac where we build HDF4 and NETCDF as shared libraries. When I try and read an Exodus file, the mdserver crashes. Run visit -o foo.exo

Apparently, things are going fine through the NETCDF library and then when trying to call NC_var_shape, the mdserver crashes. The reported crash is inside libmfhdf.dylib, which is an HDF4 shared library! That file is defining some NETCDF functions!!! IT seems to me that HDF4 should not be defining HDF4 functions. Also, we don't link the Exodus or NETCDF readers with HDF4. IF we load any HDF4 plugins (like Enzo or ZeusMP) then the NC_var_shape from HDF4 is being called instead of the symbol from libnetcdf.6.dylib.

Maybe libmfhdf could be patched in build_visit so it does not define NETCDF symbols.

<code><pre>
optimusprime:lib bjw$ nm libmfhdf.dylib | grep ""NC_var_shape""
0000000000018f30 T _NC_var_shape

(lldb) bt
* thread #1, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x452)
  * frame #0: 0x00000001087e10ad libmfhdf.dylib`NC_var_shape + 381
    frame #1: 0x00000001092889f4 libnetcdf.6.dylib`nc_get_NC + 3556
    frame #2: 0x0000000109269cb8 libnetcdf.6.dylib`nc3__open_mp + 216
    frame #3: 0x00000001092563a0 libnetcdf.6.dylib`nc_open_file + 560
    frame #4: 0x00000001091d5d59 libMExodusDatabase.dylib`avtExodusFileFormat::GetFileHandle(this=0x00000001040353d0) at avtExodusFileFormat.C:1568
    frame #5: 0x00000001091d7c84 libMExodusDatabase.dylib`avtExodusFileFormat::GetTimesteps(this=0x00000001040353d0, ntimes=0x00007fff5fbf7194, times=0x0000000000000000) at avtEx
</pre></code>
"
2587,Resolved,VisIt,Bug,Normal,Use of expressions in situ causes crash due to failed dynamic_casts.,Brad Whitlock,"",2.12.0,Brad Whitlock,04/07/2016,"",100,"",04/07/2016 11:09 pm,10/28/2016 05:07 pm,4 - Common,5 - Very Serious,2.10.0,"","",All,Any,"I'm was running on titan using a statically linked VisIt built using the Intel compiler. I used the libsimV2_static_par.a to link against a fortran simulation and tried using expressions to set up some plots via a session file and VisItRestoreSessions. The simulation crashed in the expression evaluator filter on a dynamic_cast. I changed how I link so the C++ compiler links the whole thing and that made no difference.

This problem can be replicated using the batch.c sim example with some small changes."
2013,Resolved,VisIt,Bug,Normal,Setting Contour plot multicolor value via Python scripting can lead to out of range error.,Kathleen Biagas,"",2.11.0,Brad Whitlock,10/06/2014,"",0,"",10/06/2014 08:22 pm,06/28/2016 03:37 pm,2 - Rare,2 - Minor Irritation,2.7.3,"","",All,Any,"This code was derived from an example at visitusers.org's forum. The loop is able to complete successfully twice but on the last iteration, the CLI issues an error message about the index for the multicolor being invalid and the code fails. The error message is something like: ""index (8) exceeds the maximum (7).""

<pre>
OpenDatabase(""noise.silo"")
AddPlot(""Contour"", ""hardyglobal"", 1, 1)
DrawPlots()

Sets = [[1,5.5,11],[1,5.5,11],[1,5.5,8]]
for r in Sets :
	print ""******************"", r, ""*********************""
    	p = ContourAttributes()
	p.contourMethod = p.Level  # Level, Value, Percent
	p.contourNLevels=r[2]
	p.colorType = p.ColorByMultipleColors
	p.singleColor = (255, 0, 0, 25)
	p.SetMultiColor(0, (255,0,0,64))
	p.SetMultiColor(1, (0,255,0,64))
	p.SetMultiColor(2, (0,0,255,64))
	p.SetMultiColor(3, (0,255,255,64))
	p.SetMultiColor(4, (255,0,255,64))
	p.SetMultiColor(5, (255,255,0,64))
	p.SetMultiColor(6, (255, 135, 0, 255))
	p.SetMultiColor(7, (255, 0, 135, 255))
	if r[2] > 8 :
		p.SetMultiColor(8, (168, 168, 168, 255))
		p.SetMultiColor(9, (255, 68, 68, 255))
		p.SetMultiColor(10, (99, 255, 99, 255))

	p.min=r[0]
	p.minFlag=1
	p.max=r[1]
	p.maxFlag=1
        print p
	SetPlotOptions(p)
        SaveWindow()
</pre>"
2017,Resolved,VisIt,Bug,High,viewercore introduces _ser library dependencies into simV2runtime_par.,Brad Whitlock,"",2.11.0,Brad Whitlock,10/09/2014,"",100,"",10/09/2014 03:40 pm,06/28/2016 03:37 pm,3 - Occasional,3 - Major Irritation,2.7.3,"","",All,Any,"The viewercore library contains the core parts of the viewer and it is used to add viewer functionality to libsim. Since viewercore relies on some AVT stuff and was destined for the viewer, it ends up linking with some _ser avt libraries. When viewercore is linked into the parallel simV2runtime_par library, it brings along its _ser dependencies, even though we really want only the _par versions of the avt libraries.

The best thing might be to build the viewercore sources directly into the simV2runtime libraries instead of linking with viewercore. This would permit us to use the _ser and _par libraries that we want explicitly. We could also omit files like ViewerFileServer and ViewerEngineManager, which are not needed by the simV2runtime, and have some _ser dependencies of their own due to libraries like engineproxy. Furthermore, by not using some of those classes, we could revert to not building libraries like mdserverrpc, mdserverproxy, launcherrpc, launcherproxy, when we're doing engine-only builds.

As things stand on the trunk, engine-only builds are broken because the simv2 runtimes can't be linked with viewercore, which is not built."
2590,Rejected,VisIt,Bug,Normal,Pseudocolor issues a bunch of warnings when Auto apply is enabled.,"","",2.11.0,Brad Whitlock,04/08/2016,"",0,"",04/08/2016 05:39 pm,06/28/2016 03:39 pm,4 - Common,3 - Major Irritation,2.10.0,"","",All,Any,"Make a Pseudocolor plot. Turn on auto apply. Double click the plot in the plot list to open the window. When I did this, I got a bunch of warning messages.

Check the window for proper use of blockSignals.
Check the window's GetCurrentValues method for correctness.
Check the window's slot functions so they don't cause updates to the window (SetUpdate(false))


The value(s) for 'Opacity Min' were invalid. Resetting to the last good value(s) of 0.

Shortly thereafter, the following occured...

The value(s) for 'Opacity Max' were invalid. Resetting to the last good value(s) of 1.

Shortly thereafter, the following occured...

The value(s) for 'tube radius' were invalid. Resetting to the last good value(s) of 0.005.

Shortly thereafter, the following occured...

The value(s) for 'Tube variable radius factor' were invalid. Resetting to the last good value(s) of 10.

Shortly thereafter, the following occured...

The value(s) for 'endPoint radius' were invalid. Resetting to the last good value(s) of 0.05.

Shortly thereafter, the following occured...

The value(s) for 'endPoint ratio' were invalid. Resetting to the last good value(s) of 5."
2566,Resolved,VisIt,Bug,Normal,Pick of reflected Subset plot fails.,Kathleen Biagas,"",2.10.3,Brad Whitlock,03/23/2016,"",100,1.0,03/23/2016 11:37 pm,06/01/2016 07:10 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",All,Any,"1. Open noise.silo
2. Make a Subset plot of Mesh
3. Add a Reflect operator
4. Draw plots
5. Enter node pick mode
6. click on the top of the plot -- this will be fine
7. Click on the bottom, reflected part of the plot and pick will issue an error

A:  noise.silo
Mesh 
Point: <0.204082, 2.2449, 10>
Node:  124025
Incident Zones:  116693  116742  116694  116743  


Shortly thereafter, the following occured...

Pick encountered an internal error (could not find closest node).
Please contact a VisIt developer"
2571,Resolved,VisIt,Bug,Normal,Crash that seems related to color tables that have transparency.,Kathleen Biagas,"",2.10.3,Brad Whitlock,03/30/2016,"",100,2.0,03/30/2016 10:16 pm,04/14/2016 07:44 pm,3 - Occasional,4 - Crash / Wrong Results,2.10.0,"","",Windows,Any,"This was on Windows using 2.10.1 but it may happen elsewhere.
1. This script will crash the viewer when it makes the new color table.
2. The CLI will also crash when you exit via Ctrl^Z , Enter.
<pre>
def MakeRGBColorTable(name, ct):
    ccpl = ColorControlPointList()
    for pt in ct:
        p = ColorControlPoint()
        p.colors = (pt[0] * 255, pt[1] * 255, pt[2] * 255, pt[3]*255)
        p.position = pt[4]
        print p
        ccpl.AddControlPoints(p)
    AddColorTable(name, ccpl)

OpenDatabase(""globe.silo"")
AddPlot(""Pseudocolor"", ""speed"")
pc = PseudocolorAttributes()
pc.colorTableName = ""Default""
pc.opacityType = pc.ColorTable
SetPlotOptions(pc)
DrawPlots()

MakeRGBColorTable(""demo"", ((1.,1.,1.,0.,0.), (0,0,0,1.,1.)))
SetActiveContinuousColorTable(""demo"")
</pre>

"
2582,Resolved,VisIt,Bug,Normal,Silo export flag to write a single file is broken.,Mark Miller,"",2.10.3,Brad Whitlock,04/05/2016,"",80,"",04/05/2016 09:28 pm,06/14/2016 01:51 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",All,Any,"I opened a .visit file that contained NBLOCKS VTK files so I could plot some multidomain data. I then wanted to export that data back out to Silo, ideally to a single file. When I checked the ""single file"" checkbox on the Silo export, I still got 8 domain files and a root file. It seems to be broken. I was running a 4 processor engine.
"
2534,Resolved,VisIt,Bug,Normal,Deliberate misuse of SPH operator crashes engine.,Kevin Griffin,"",2.10.2,Brad Whitlock,02/18/2016,"",100,"",02/18/2016 01:35 pm,03/24/2016 09:48 pm,3 - Occasional,4 - Crash / Wrong Results,2.10.0,"","",All,Any,"1. Open multi_rect3d.silo
2. Add a Pseudocolor of d
3. Add SPH operator  (yes, it's already a structured dataset)
4. Draw plots

The engine crashes.

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000000
0x00000001050cd7d0 in vtkDataArrayTemplate<double>::GetTupleValue ()
(gdb) where
#0  0x00000001050cd7d0 in vtkDataArrayTemplate<double>::GetTupleValue ()
#1  0x00000001050cfd28 in vtkDataArrayTemplate<double>::InsertTuple ()
#2  0x0000000104c897bd in vtkDataSetAttributes::CopyData ()
#3  0x0000000102bad117 in vtkRectilinearGridFacelistFilter_ProcessFaces<vtkDirectAccessor<double> > (nX=10, nY=10, nZ=10, outPointData=0x118994160, inPointData=0x118981d10, x=@0x7fff5fbf9238, y=@0x7fff5fbf9210, z=@0x7fff5fbf91e8, p=@0x7fff5fbf91c0) at vtkRectilinearGridFacelistFilter.C:199
#4  0x0000000102ba75c9 in vtkRectilinearGridFacelistFilter::RequestData (this=0x11898ed80, unnamed_arg=0x1189939f0, inputVector=0x1189913f0, outputVector=0x118991030) at vtkRectilinearGridFacelistFilter.C:443
#5  0x0000000104bd028d in vtkExecutive::CallAlgorithm ()
#6  0x0000000104bcc2ea in vtkDemandDrivenPipeline::ExecuteData ()
#7  0x0000000104bca841 in vtkCompositeDataPipeline::ExecuteData ()
#8  0x0000000104bce88e in vtkDemandDrivenPipeline::ProcessRequest ()
#9  0x0000000104be78f8 in vtkStreamingDemandDrivenPipeline::ProcessRequest ()
#10 0x0000000104bcdfbc in vtkDemandDrivenPipeline::UpdateData ()
#11 0x0000000104be60d7 in vtkStreamingDemandDrivenPipeline::Update ()
#12 0x0000000101b80dc3 in avtFacelistFilter::Take3DFaces (this=0x10a1d3c70, in_ds=0x11895f2d0, domain=0, label=@0x7fff5fbf9cf0, forceFaceConsolidation=false, mustCreatePolyData=false, info=@0x118984da8, fl=0x0) at avtFacelistFilter.C:561
#13 0x0000000101b82e9a in avtFacelistFilter::FindFaces (this=0x10a1d3c70, in_dr=0x118984d40, info=@0x118984da8, create3DCellNumbers=false, forceFaceConsolidation=false, createEdgeListFor2DDatasets=false, mustCreatePolyData=false, fl=0x0) at avtFacelistFilter.C:409
#14 0x0000000101b8365d in avtFacelistFilter::ExecuteDataTree (this=0x10a1d3c70, in_dr=0x118984d40) at avtFacelistFilter.C:299
#15 0x00000001026dfd94 in avtSIMODataTreeIterator::ExecuteDataTreeOnThread (cbdata=0x10a1d2d90) at avtSIMODataTreeIterator.C:268
#16 0x00000001026e01e8 in avtSIMODataTreeIterator::Execute (this=0x10a1d3c70, inDT=@0x7fff5fbfa138, outDT=@0x7fff5fbfa110) at avtSIMODataTreeIterator.C:357
#17 0x00000001026e0d63 in avtSIMODataTreeIterator::Execute (this=0x10a1d3c70) at avtSIMODataTreeIterator.C:160
#18 0x00000001026e0c66 in virtual thunk to avtSIMODataTreeIterator::Execute() () at avtSIMODataTreeIterator.C:206
#19 0x00000001026c4b93 in avtFilter::Update (this=0x10a1d3d00, contract=@0x7fff5fbfa648) at avtFilter.C:292
#20 0x00000001026c43a1 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:149
#21 0x00000001025d8313 in avtDataObject::Update (this=0x10a1d3d70, contract=@0x7fff5fbfa6b0) at avtDataObject.C:131
#22 0x00000001027023b5 in avtDataObjectSink::UpdateInput (this=0x10a1d3048, spec=@0x7fff5fbfa8f0) at avtDataObjectSink.C:157
#23 0x00000001026c4892 in avtFilter::Update (this=0x10a1d3008, contract=@0x7fff5fbfaee0) at avtFilter.C:258
#24 0x0000000101b8ec22 in avtGhostZoneAndFacelistFilter::Execute (this=0x10a1d2900) at avtGhostZoneAndFacelistFilter.C:376
#25 0x0000000101b8d5e6 in virtual thunk to avtGhostZoneAndFacelistFilter::Execute() () at avtGhostZoneAndFacelistFilter.C:439
#26 0x00000001026c4b93 in avtFilter::Update (this=0x10a1d2990, contract=@0x7fff5fbfb678) at avtFilter.C:292
#27 0x00000001026c43a1 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:149
#28 0x00000001025d8313 in avtDataObject::Update (this=0x10a1d2a00, contract=@0x7fff5fbfb6e0) at avtDataObject.C:131
#29 0x00000001027023b5 in avtDataObjectSink::UpdateInput (this=0x10a1d2088, spec=@0x7fff5fbfb920) at avtDataObjectSink.C:157
#30 0x00000001026c4892 in avtFilter::Update (this=0x10a1d2048, contract=@0x7fff5fbfbb98) at avtFilter.C:258
#31 0x00000001026c43a1 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:149
#32 0x00000001025d8313 in avtDataObject::Update (this=0x10a1d2550, contract=@0x7fff5fbfbc00) at avtDataObject.C:131
#33 0x00000001027023b5 in avtDataObjectSink::UpdateInput (this=0x10a1d5700, spec=@0x7fff5fbfbe40) at avtDataObjectSink.C:157
#34 0x00000001026c4892 in avtFilter::Update (this=0x10a1d56c0, contract=@0x7fff5fbfc0b8) at avtFilter.C:258
#35 0x00000001026c43a1 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:149
#36 0x00000001025d8313 in avtDataObject::Update (this=0x10a1d5730, contract=@0x7fff5fbfc120) at avtDataObject.C:131
#37 0x00000001027023b5 in avtDataObjectSink::UpdateInput (this=0x10a1d43a8, spec=@0x7fff5fbfc360) at avtDataObjectSink.C:157
#38 0x00000001026c4892 in avtFilter::Update (this=0x10a1d4368, contract=@0x7fff5fbfc5d8) at avtFilter.C:258
#39 0x00000001026c43a1 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:149
#40 0x00000001025d8313 in avtDataObject::Update (this=0x10a1d43e0, contract=@0x7fff5fbfc640) at avtDataObject.C:131
#41 0x00000001027023b5 in avtDataObjectSink::UpdateInput (this=0x10a1d4a10, spec=@0x7fff5fbfc880) at avtDataObjectSink.C:157
#42 0x00000001026c4892 in avtFilter::Update (this=0x10a1d49d0, contract=@0x7fff5fbfcaf8) at avtFilter.C:258
#43 0x00000001026c43a1 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:149
#44 0x00000001025d8313 in avtDataObject::Update (this=0x10a1d4a40, contract=@0x7fff5fbfd208) at avtDataObject.C:131
#45 0x0000000102718357 in avtTerminatingSink::Execute (this=0x118980150, contract=@0x7fff5fbfd718) at avtTerminatingSink.C:208
#46 0x0000000101769985 in avtPlot::Execute (this=0x10a1d1cd0, input=@0x7fff5fbfd938, contract=@0x7fff5fbfd928, atts=0x10a800028) at avtPlot.C:624
#47 0x0000000100035696 in DataNetwork::GetWriter (this=0x10a1a7220, dob=@0x7fff5fbfdbb8, contract=@0x7fff5fbfdba8, atts=0x10a800028) at DataNetwork.C:247
#48 0x00000001000cbfc8 in NetworkManager::GetOutput (this=0x1055636b0, respondWithNullData=false, calledForRender=false, cellCountMultiplier=0x7fff5fbfe260) at NetworkManager.C:2565
#49 0x000000010008796a in EngineRPCExecutor<ExecuteRPC>::Execute (this=0x10552bbb0, rpc=0x10583bd38) at Executors.h:1005
#50 0x00000001000993c4 in EngineRPCExecutor<ExecuteRPC>::Update (this=0x10552bbb0, s=0x10583bd68) at EngineRPCExecutor.h:67
#51 0x0000000104149872 in Subject::Notify (this=0x10583bd68) at Subject.C:193
#52 0x0000000103e48d01 in AttributeSubject::Notify (this=0x10583bd38) at AttributeSubject.C:99
#53 0x00000001041cf884 in Xfer::Process (this=0x1055218a0) at Xfer.C:416
#54 0x0000000100075d27 in Engine::ProcessInput (this=0x105521770) at Engine.C:1881
#55 0x0000000100079ef0 in Engine::EventLoop (this=0x105521770) at Engine.C:1825
#56 0x000000010001497d in EngineMain (argc=4, argv=0x7fff5fbfe738) at main.C:331
#57 0x0000000100014b50 in main (argc=12, argv=0x7fff5fbfe738) at main.C:394
(gdb) "
2366,Resolved,VisIt,Bug,Normal,Qt installation issues on Mac hinder building plugins against installed version.,Kevin Griffin,"",2.10.1,Brad Whitlock,08/25/2015,"",100,"",08/25/2015 03:12 pm,10/23/2015 08:04 pm,2 - Rare,4 - Crash / Wrong Results,trunk,"","",OSX,Any,"I built VisIt on Mac and installed it using ""make install"" to ~/visit. I then used the xml tools in that installation to try and build a new plot plugin. The GUI window failed to build because it could not find QString.

The QtCore directory was missing from /Users/bjw/visit/2.10.0b/darwin-x86_64/include/qt/include.

The /Users/bjw/visit/2.10.0b/darwin-x86_64/archives directory was also missing. That directory contains the libQtUiTools.a file.

When I copied these 2 missing directories into the installed VisIt's Qt and archives directory, I was able to build my plugin. Qt installation on Mac via ""make install"" needs some fixes."
1360,Resolved,VisIt,Feature,Normal,Add line style to 2D line annotation objects.,Kathleen Biagas,"",2.10,Brad Whitlock,03/04/2013,"",100,2.0,03/04/2013 02:46 pm,07/14/2015 12:42 am,"","","",2 - Low,2 - Rare,All,Any,"Add line style to 2D line annotation objects. If any other options are missing, add those too."
1999,Resolved,VisIt,Bug,Urgent,Audit MPI types vs passed-in buffer type.,Kevin Griffin,"",2.10,Brad Whitlock,09/24/2014,"",100,"",09/24/2014 05:23 pm,09/17/2015 09:01 pm,3 - Occasional,4 - Crash / Wrong Results,2.7.3,"","",All,Any,"One of the CDash builds has revealed warnings where the MPI type used in an MPI call does not match the passed-in buffer type. For example, avtCompactnessQuery contains some code where there is MPI_Bcast that is using MPI_FLOAT but the buffer was changed to double instead of float. That example needs to be changed to MPI_DOUBLE in the MPI call. This must be bad at runtime.

This build uses clang and flags several of these errors. Building with clang might be enough to flag all of these problems.

http://missmarple.lbl.gov/CDash/viewBuildError.php?type=1&buildid=2783"
2162,Resolved,VisIt,Bug,High,VisIt VTK reader does not support VTM files.,Kathleen Biagas,"",2.10,Brad Whitlock,02/26/2015,"",0,"",02/26/2015 03:28 pm,08/18/2015 06:48 pm,3 - Occasional,3 - Major Irritation,2.8.2,"","",All,Any,"VTK has an XML ""VTM"" file that looks a lot like a .visit file for grouping domains into a single multidomain dataset. The current VTK reader does not support VTM files. This came up when trying to look at some OpenFOAM VTK data in VisIt - a classic ""paraview can read this fine"" situation.
"
2350,Resolved,VisIt,Bug,Normal,Splatting volume renderer can interfere with Pseudocolor plot texturing.,Brad Whitlock,"",2.10,Brad Whitlock,08/05/2015,"",100,"",08/05/2015 02:00 pm,08/06/2015 06:34 pm,3 - Occasional,4 - Crash / Wrong Results,2.8.2,"","",All,Any,"The splatting volume renderer interferes with the Pseudocolor plot's color texturing in certain cases. That splatting renderer must not be saving/restoring enough GL state and some of its changes affect the Pseudocolor plot's color texturing.

1. Make a Volume plot of scalar_s.silo
2. Change to the orangehot color table
3. Set the min to 0.0001 and do log scaling
4. Open dem.nc
5. Add a Pseudocolor plot of 384x192_sl_dem10m.txt
6. Change the Pseudocolor plot to the greens color table
7. Apply an Elevate operator to the Pseudocolor plot
8. Draw the plots.
9. Interactively move the plots and the Pseudocolor plot will turn a little orange.

The discoloration persists even if you remove the Volume plot. If you clear the Pseudcolor plot and regenerate it, the plot will turn the right color again. It will discolor again if you rotate the plot.

1. This issue does not come up if you turn off ""apply color using textures"".
2. This issue does not come up if you force zonal centering on the Pseudocolor plot.

This really looks to be a texturing GL state bug in the Splatting volume renderer."
2381,Resolved,VisIt,Bug,Normal,New Save session dialog usability issues,Brad Whitlock,"",2.10,Brad Whitlock,09/18/2015,"",100,"",09/18/2015 08:55 pm,09/23/2015 03:09 pm,4 - Common,5 - Very Serious,trunk,"","",All,Any,"The new ""Save session"" dialog has some usability issues:

1. The placement of the filename and filter above the directory and file lists does not match what system file dialogs. Many system dialogs place the filename under any directory or file lists that might be present. Typically, the filter is found down there too. It would make more sense to move filename and filter to the bottom of the window and make filter a combo box with just ""*.session"" in it. I liked the system dialog we were using to save session previously and would like to see the new one be a closer match for usability's sake.

2. The old behavior was to make a default filename that would be put into the file dialog in case the user wanted to just name the file ""visit1.session"" or whatever it made up. The new dialog just presents an empty filename and the widget does not have focus. I'd like the default added back in with the filename widget getting focus *and* the text in the filename line edit highlighted so the next character I type will override the whole filename."
2388,Resolved,VisIt,Bug,Normal,Contour crashes the engine when given a value that will not produce a surface.,Brad Whitlock,"",2.10,Brad Whitlock,09/23/2015,"",100,"",09/23/2015 07:00 pm,09/23/2015 08:17 pm,4 - Common,5 - Very Serious,trunk,"","",All,Any,"I merged a bunch of trunk changes to my IL repo and noticed my fvIso plot stopped working. I was able to reproduce the crash on the 2.10RC using the Contour plot. I'm going to try and fix it but may need some help.

OpenDatabase(""~/Development/data/noise.silo"")
AddPlot(""Contour"", ""hardyglobal"")
ContourAtts = ContourAttributes()
ContourAtts.contourValue = (0)
ContourAtts.contourMethod = ContourAtts.Value  # Level, Value, Percent
ContourAtts.minFlag = 0
ContourAtts.maxFlag = 0
SetPlotOptions(ContourAtts)
DrawPlots()

"
2409,Resolved,VisIt,Bug,Normal,VTK writer crashes in parallel when creating vtm file for XML output.,Kathleen Biagas,"",2.10,Brad Whitlock,10/06/2015,"",0,"",10/06/2015 04:51 pm,10/07/2015 11:45 am,4 - Common,4 - Crash / Wrong Results,trunk,"","",All,Any,"avtVTKWriter::WriteRootFile fails crashes parallel because the fileNames vector used only represents the local processor's filenames rather than the fileNames generated on all ranks. The nblocks value is the total of chunk files across all ranks so the code walks off the end of the fileNames vector. The code needs to gather all fileNames in parallel since it looks like the types of files could possibly vary.

1. Run on 2 processors
2. Open multi_rect3d.silo
3. Add a Pseudocolor plot of u and a Slice operator.
4. Draw plots
5. Export to VTK, turn on the ""XML"" option."
2223,Resolved,VisIt,Bug,Normal,Problem specifying zlib location to CGNS build in build_visit.,Kevin Griffin,"",2.9.2,Brad Whitlock,04/09/2015,"",100,"",04/09/2015 04:47 pm,04/30/2015 06:00 pm,3 - Occasional,2 - Minor Irritation,2.9.0,"","",All,Any,"A user at visitusers.org reported this:

./build_visit2_9_0 --prefix /home/kwangjin/local/gcc-4.4.6/applic/visit-2.9.0 --parallel --required --optional --all-io --makeflags ""-j 4"" &>log 

When it gets to building CGNS, this happens:

...
checking for concatenation operator... yes
checking if building a shared library... yes
checking if using HDF5... /home/kwangjin/Downloads/visit-2.9.0-build-complete/visit/hdf5/1.8.7/linux-x86_64_gcc-4.4
checking if using zlib... /home/kwangjin/Downloads/visit-2.9.0-build-complete/visit/zlib/1.2.7/linux-x86_64_gcc-4.4/lib
configure: error: /home/kwangjin/Downloads/visit-2.9.0-build-complete/visit/zlib/1.2.7/linux-x86_64_gcc-4.4/lib directory does not contain zlib.h

It might be that build_cgns is passing zlib to CGNS's configure improperly. It is passing the name of the library. On Linux, maybe it should pass the name of the directory containing zlib lib,include instead?

The user worked around the issue copying zlib.h into zlib's lib directory."
2182,Resolved,VisIt,Bug,Normal,Nektar++ variable names in build_visit are not supported across all Linux shells.,Eric Brugger,"",2.9.1,Brad Whitlock,03/16/2015,"",100,2.0,03/16/2015 01:20 pm,04/21/2015 03:53 pm,3 - Occasional,4 - Crash / Wrong Results,2.8.2,"","",All,Any,"This is a build_visit bug reported at visitusers.org:

 I get the following error when trying to run build_visit2_9_0 on RHEL 6:
 build_visit2_9_0: line 13096: `bv_nektar++_initialize': not a valid identifier
 It appears not to like the +'s in the function declarations.  Commenting out out the nektar++ functions allows the script to run, but of course bombs later when these functions are called.

It probably makes sense to replace all variable names in build_visit so they are valid identifiers ""nektarplusplus"" instead of ""nektar++""
"
907,Resolved,VisIt,Bug,High,Update EnSight reader.,Kathleen Biagas,"",2.8,Brad Whitlock,11/30/2011,"",0,"",11/30/2011 03:06 pm,04/02/2014 06:53 pm,2 - Rare,3 - Major Irritation,2.3.2,"","",All,Any,"The EnSight reader contains some old VTK classes that were pulled out of vtkIO. Since we've upgraded to VTK 5.8, we should remove all of those old sources and update the reader so it uses the classes from vtkIO.
"
1495,Resolved,VisIt,Feature,Normal,Enhance cmake build so we can pass a lists of DB plugins to build.,Kathleen Biagas,"",2.8,Brad Whitlock,06/10/2013,"",100,"",06/10/2013 06:30 pm,05/13/2014 05:18 pm,"","","",3 - Medium,2 - Rare,All,Any,"The build system will currently build all of the plugins that it can build based on the available 3rd party I/O libraries. It would be nice for the sake of static executable sizes and build times if we could pass a shorter list of the plugins that we actually want to build. This way, we could cherry pick the plugins that we want.

I'm thinking something along the lines of a variable that can be set inside of a config-site cmake file.

SET(VISIT_SELECTED_DATABASE_PLUGINS
Curve2d
Silo
VTK
Xmdv
)

The src/databases/CMakeLists.txt functions could check for a plugin belonging to the VISIT_SELECTED_DATABASE_PLUGINS variable before deciding to actually add it to the build. If the VISIT_SELECTED_DATABASE_PLUGINS variable is not set then the plugins get built normally.
"
1841,Resolved,VisIt,Bug,Immediate,2D meshes in libsim are BROKEN!!!,Kathleen Biagas,"",2.8,Brad Whitlock,05/12/2014,"",0,"",05/12/2014 04:21 pm,05/16/2014 12:57 pm,3 - Occasional,5 - Very Serious,trunk,"","",All,Any,"I was trying to test with libsim's updateplots example, which provides a 2D mesh and the simulation crashed when I attempted to plot the mesh. When I ran under a debugger, the Z coordinate field for the rectilinear grid was NULL when some code was trying to access it. It appears that recent changes to template the code via a macro have broken support for 2D. I connected successfully to the ""unstructured"" simulation and plotted its mesh. The mesh there is 3D. When I connected to another 2D simulation. ""material"", the same crash happened."
1862,Resolved,VisIt,Bug,Normal,Bad behavior in Curve plot window with auto apply.,Kathleen Biagas,"",2.8,Brad Whitlock,05/30/2014,"",0,0.5,05/30/2014 05:05 pm,06/04/2014 02:54 pm,4 - Common,4 - Crash / Wrong Results,2.7.2,"","",All,Any,"1. Turn on ""Auto apply""
2. Open curve database A
3. Make a curve plot of A
4. Open curve database B
5. Make a curve plot of B
6. Make the first plot be active
7. Open the Curve plot attributes window (this will cause some error message about time cue)
8. Set the first plot's color to custom and make it pink
9. Make plot 2 active in the plot list
10. Set the second plot's color to custom and make it blue
11. Turn off the labels
12. Make plot 1 active in the plot list

The second curve plot's attributes will get overwritten with those from plot 1.
This means that it turns pink and the labels come back on.

There are likely some widgets in the window that are causing signals when we don't want them (i.e. missing blockSignals).
The error message about the time cue when the window is opened is another example."
1919,Resolved,VisIt,Feature,Normal,Add checkbox to Export window to export all time steps.,Brad Whitlock,"",2.8,Brad Whitlock,07/22/2014,"",100,"",07/22/2014 06:33 pm,08/04/2014 06:01 pm,"","","",3 - Medium,3 - Occasional,All,Any,We anticipate FieldView/VisIt users wanting to export all of the time steps of a dataset to XDB format. This currently requires some Python scripting. A check box on the Export Window to output all time steps would make this operation a lot easier. VisIt can than take care of exporting the entire time series automatically.
1920,Resolved,VisIt,Bug,High,Ensure VisIt 2.8 binaries contain XDB output plugin.,Brad Whitlock,"",2.8,Brad Whitlock,07/22/2014,"",100,"",07/22/2014 06:38 pm,09/02/2014 06:17 pm,3 - Occasional,2 - Minor Irritation,2.7.3,"","",All,Any,"It is really important to Intelligent Light to be able to release the XDB plugin to VisIt users.

We have released the code to the repo. There is a closed-source binary portion of the plugin that is susceptible to changes in AVT and I have needed to periodically rebuild it when AVT objects change. I'll need to rebuilt that VXDB layer using the ""as close to final sources as possible"" versions of the code so the LLNL builds can be built with XDB support.

By the way, the LLNL builds will need to set -DVISIT_ENABLE_XDB:BOOL=ON to build the XDB plugin."
1446,Resolved,VisIt,Feature,Normal,Better OpenMPI support in build_visit.,Eric Brugger,"",2.7.2,Brad Whitlock,05/03/2013,"",100,2.0,05/03/2013 04:59 pm,02/28/2014 07:48 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Users on Linux who have OpenMPI and build parallel VisIt will often get through most of a VisIt build and then the engine will fail to link because OpenMPI needs an additional C++ library.

There are a couple of ways this might be fixed:
1. Use the mpicxx compiler to detect MPI in the generated config-site file.
2. Define -DOMPI_SKIP_MPICXX in the parallel CXXFLAGS so the MPI code will not need the C++ bindings.

Linking CXX shared library ../../lib/libengineproxy.so
[ 32%] Built target engineproxy
Scanning dependencies of target engine_par_exe
[ 32%] Building CXX object engine/main/CMakeFiles/engine_par_exe.dir/main.C.o
Linking CXX executable ../../exe/engine_par
../../lib/libengine_par.so: undefined reference to `ompi_mpi_cxx_op_intercept'
../../lib/libengine_par.so: undefined reference to `MPI::Datatype::Free()'
../../lib/libengine_par.so: undefined reference to `MPI::Comm::Comm()'
../../lib/libengine_par.so: undefined reference to `MPI::Win::Free()'
collect2: error: ld returned 1 exit status
make[2]: *** [exe/engine_par] Error 1
make[1]: *** [engine/main/CMakeFiles/engine_par_exe.dir/all] Error 2
make: *** [all] Error 2
Processing bsd license.
Processing bsd license."
1647,Resolved,VisIt,Bug,Normal,Python state object generation a little broken for objects that have a base class.,Mark Miller,"",2.7.2,Brad Whitlock,11/07/2013,"",0,2.0,11/07/2013 02:05 pm,02/24/2014 08:15 pm,2 - Rare,3 - Major Irritation,2.7.0,"","",All,Any,"Suppose I have state object A which is the base class for object B and I generate Python bindings for them using xml2python. Suppose A has fields x,y and B adds field z.

This works:
b = B()
b.x = 5

This appears to work but sets an error that stops the script:
b = B()
b.z = 5

The issue is how _setattr is implemented in the Python bindings. B_setattr calls A_setattr first and attempts to set field ""z"" but since A does not have a field ""z"" an error condition is set. The remaining code in B_setattr works but since A_setattr set an error, the script later fails. B_setattr needs to clear the error set by A_setattr before going on to the rest of its code. Then it works.

In GeneratePython.h, change:
        if (custombase)
        {
            c << ""    if (Py""<<baseClass<<""_setattr(self, name, args) != -1)"" << Endl;
            c << ""        return 0;"" << Endl;
            c << Endl;
        }

to:

        if (custombase)
        {
            c << ""    if (Py""<<baseClass<<""_setattr(self, name, args) != -1)"" << Endl;
            c << ""        return 0;"" << Endl;
            c << ""    else"" << Endl;
            c << ""        PyErr_Clear();"" << Endl;
            c << Endl;
        }"
1753,Resolved,VisIt,Bug,Normal,Failure in ADIOS reader,Eric Brugger,"",2.7.2,Brad Whitlock,02/26/2014,"",100,1.0,02/26/2014 07:17 pm,03/11/2014 07:48 pm,2 - Rare,3 - Major Irritation,2.7.1,"","",All,Any,"This bug comes from the visitusers.org forum. It looks like there is an error in the ADIOS plugin. It looks like dims[0] = m->dimensions[0]; is supposed to be dims[2] = m->dimensions[0];

Here is the email.

I am using ADIOS I/O format and I want to visualize the contents of my .bp file with VisIt 2.7.1. At present time, I successfully built VisIt with the required dependencies from reading such files and I successfully opened a .bp file and visualized a 3D data thanks to the Contour method. However, I also want to visualize the mesh which is associated to this 3D data and it fails.
I am using the Adios VizSchema APIs to generate the data and the associated rectilinear 3D mesh. After some investigations, I think that there is a bug within the following file in the VisIt sources :

visit2.7.1/src/databases/ADIOS/avtADIOSSchemaFileFormat.C

... and more precisely by the end of MakeRectilinearMesh :

    else if (m->num_dimensions == 3)
    {
        dims[0] = m->dimensions[2];
        dims[1] = m->dimensions[1];
        dims[0] = m->dimensions[0];
        rg->SetXCoordinates(xyz[2]);
        rg->SetYCoordinates(xyz[1]);
        rg->SetZCoordinates(xyz[0]);
    }

... I think that there is something wrong with the filling of the array dims in the 3D case.


What should I do to bypass this problem ? I may use the Structured mesh format (which is ok) but it is more memory consuming than Rectilinear format.

Many thanks in adv"
1754,Resolved,VisIt,Bug,Normal,build_visit fails on mpich 3.0.4 on Mac 10.8.5,Cyrus Harrison,"",2.7.2,Brad Whitlock,02/26/2014,"",0,"",02/26/2014 07:51 pm,03/17/2014 06:48 pm,2 - Rare,3 - Major Irritation,2.7.1,"","",OSX,Any,"I was rebuilding my 3rd party libraries to pick up new versions of libraries(like VTK). Apparently MPICH was updated to 3.0.4 and this fails to build on my 10.8.5 Mac. MPICH 3.0.1 was the last one I built using build_visit and that worked. Maybe MPICH 3.1 needs to be used instead?

Here's where the build fails:
 Making all in .
  CC       bsci_init.lo
  CCLD     libhydra.la
  CCLD     hydra_persist
  CCLD     hydra_nameserver
  CCLD     hydra_pmi_proxy
  CCLD     mpiexec.hydra
 duplicate symbol _HYD_pmcd_pmip in:
    hydra_pmi_proxy-pmip.o
    hydra_pmi_proxy-pmip_cb.o
 duplicate symbol _HYD_pmcd_pmip in:
    hydra_pmi_proxy-pmip.o
    hydra_pmi_proxy-pmip_utils.o
 ld: 2 duplicate symbols for architecture x86_64
 collect2: ld returned 1 exit status
 make[3]: *** [hydra_pmi_proxy] Error 1
 make[3]: *** Waiting for unfinished jobs....
 make[2]: *** [all-recursive] Error 1
 make[1]: *** [all-recursive] Error 1
 make: *** [all] Error 2
"
1483,Resolved,VisIt,Bug,Normal,Audit proposed change to visit-install.,Mark Miller,"",2.7.1,Brad Whitlock,06/03/2013,"",40,1.0,06/03/2013 04:47 pm,01/08/2014 02:32 pm,2 - Rare,1 - Not Serious,2.6.2,"","",All,Any,"We had a suggested change to visit-install from an external customer. Testing the change would be more convenient when we are building a release so I'm submitting this ticket as a reminder.

email:
======
I had some problems installing visit 2.6.2 on mac 10.8â€¦in particular, I had to modify a few files as follows.  I thought I would pass this information on to you.

Regards,
 Cecilia Castillo

Also, line 721 of visit2.6.2/src/svn_bin/visit-install.orig gives an error message:

./svn_bin/visit-install: line 721: cd: ../data: No such file or directory


I modified this line to be
   cd ../../../../data
And modified line 723 to be
   cd ../"
1656,Resolved,VisIt,Bug,Normal,SLIVR renderer crashes on Windows with noise.silo,Kathleen Biagas,"",2.7.1,Brad Whitlock,11/14/2013,"",0,"",11/14/2013 04:53 pm,01/10/2014 05:17 pm,3 - Occasional,4 - Crash / Wrong Results,2.7.0,"","",All,Any,The 2.7.0 build for Windows crashes when I made a SLIVR Volume plot of noise.silo. I don't understand why that would be the case since IL VisIt built under VS2012 on the same Windows 8 computer has a working SLIVR volume renderer.
1657,Resolved,VisIt,Bug,Normal,Large operator-created-variable leak in the viewer.,Kathleen Biagas,"",2.7.1,Brad Whitlock,11/14/2013,"",0,"",11/14/2013 04:58 pm,11/20/2013 05:05 pm,3 - Occasional,2 - Minor Irritation,2.7.0,"","",All,Any,I ran valgrind on the viewer and found a large leak with the ExpressionList objects created by operator plugins (look for GetCreatedExpressions in the viewer). Nearly all of the cases where that method is called in the viewer results in memory leaks. A bunch of operators create expressions now and for large variable lists this leaks several megabytes. This would probably eventually take down the viewer when playing through animations of datasets that have time-varying metadata.
1658,Resolved,VisIt,Bug,Normal,Ordering of plane tool radio buttons in Clip window.,Kathleen Biagas,"",2.7.1,Brad Whitlock,11/14/2013,"",0,"",11/14/2013 05:00 pm,11/19/2013 07:44 pm,2 - Rare,2 - Minor Irritation,2.7.0,"","",All,Any,"The ordering of ""plane tool controls"" radio buttons in the Clip window goes: plane 1, plane 3, plane 2.

That ordering doesn't make much sense."
1055,Resolved,VisIt,Feature,Normal,Reformulate makemovie.py movie encoding using visit_utils.,Brad Whitlock,"",2.7,Brad Whitlock,05/11/2012,"",100,"",05/11/2012 06:43 pm,04/05/2013 05:06 pm,"","","",3 - Medium,3 - Occasional,All,Any,"I needed to encode a movie using ffmpeg but I didn't know the flags so I copied the flags from makemovie.py. Those flags didn't work with the ffmpeg that was in my path. I tried Cyrus' visit_utils.encoding package and it worked. Let's change makemovie.py so it uses the visit_utils package to encode movies, making whatever enhancements to makemovie or visit_utils to make it happen."
1193,Resolved,VisIt,Bug,Normal,VisIt can't connect client/server to sims when ssh tunneling is on.,Brad Whitlock,"",2.7,Brad Whitlock,09/06/2012,"",100,"",09/06/2012 08:33 pm,08/20/2013 03:13 pm,3 - Occasional,3 - Major Irritation,2.5.2,"","",All,Any,"VisIt isn't successfully connecting client/server to sims when ssh tunneling is on. It works when ssh tunneling is off. However, when tunneling is on, the connection seems to be made but the type representations read in the sim contains all zeros. Maybe the socket bridge in vcl is to blame?

This is happening on the trunk but I think I have also seen it in released versions of VisIt."
1379,Resolved,VisIt,Feature,Normal,Update OpenFOAM reader,Kathleen Biagas,"",2.7,Brad Whitlock,03/13/2013,"",0,"",03/13/2013 12:28 pm,08/28/2013 04:36 pm,"","","",3 - Medium,2 - Rare,All,Any,"This is from a user who points out that VisIt's OpenFOAM reader does not work -- but PV's does work. He asks that we update our reader.

Dear VisIt support,
There has been an OpenFOAM reader in VisIt since version 1.5.4 (year 2006), however this does not work with any present release of OpenFOAM.  To view OpenFOAM files, one has to convert them first to VTK files.  This may not seem like a big issue, but the additional post processing step can be both time and disk space intensive.

Is anyone at least aware that the OpenFOAM reader in VisIt does not work with the last five years of OpenFOAM releases?  If so, is anyone taking steps to write a new reader?  Please note that because of this one issue, I use Paraview instead of VisIt for my post-processing.

I look forward to your response.

Kind regards,
William Case


"
1393,Resolved,VisIt,Bug,Normal,Outdated error checking in DataBinning operator.,Brad Whitlock,"",2.7,Brad Whitlock,03/25/2013,"",100,"",03/25/2013 05:00 pm,03/26/2013 01:49 pm,3 - Occasional,2 - Minor Irritation,2.6.1,"","",All,Any,"1. Open noise.silo
2. Make a plot of operators/DataBinning/2D/Mesh
3. Open DataBinning attributes window and set Dimension 1's ""bin based on"" to X.
4. Set Dimension 2's ""bin based on"" to Y.
5. Change the ""Reduction Operator"" to ""Maximum"" and set the variable to hardyglobal.
6. Draw the plot. It looks good -just like I wanted.
7. Do a lineout

You get an error message about an invalid variable ""default"" being chosen. I can only assume that the error checking predates the addition of X and Y as bin options. I left the variable set to ""default"" for the coordinates but I'm telling the operator to instead use the X and Y coordinates for the bins.

I was trying to come up with a reproducer for a topic in the forum (lost the link though).

ERROR: Curve:  (VisItException)
viewer: engine_ser: You specified the first dimension of the data binning as ""default"", but your plotting variable (which ""default"" resolves to) is of the output of the data binning.  This is a recursion definition.  Please change the first dimension of the data binning to be something besides ""default""."
1406,Resolved,VisIt,Bug,Normal,Issue with running VisIt's installed Python.,Brad Whitlock,"",2.7,Brad Whitlock,04/03/2013,"",100,"",04/03/2013 03:24 pm,04/05/2013 12:34 pm,3 - Occasional,4 - Crash / Wrong Results,2.6.1,"","",Linux,Any,"I got this from Gunther, who forwarded it to me from one of his users. Apparently the installed Python is using a shared Python library, which means that frontendlauncher needs to be setting LD_LIBRARY_PATH.

We'll probably see this on various external Linux boxes.

======
I just upgraded my computer to VisIt 2.6.2 only to discover that it refuses to run. Specifically, it complains 

/opt/visit/bin/../current/linux-x86_64/bin/python: error while loading shared libraries: libpython2.6.so.1.0: cannot open shared object file: No such file or directory

The problem is that LD_LIBRARY_PATH is not set to /opt/visit/current/linux-x86_64/lib inside the shell script. I can, of course, patch this manually, but it may be worth fixing upstream.

Best,
Dmitriy"
1414,Resolved,VisIt,Bug,Normal,CMFE causing engine crash on Windows.,Kathleen Biagas,"",2.7,Brad Whitlock,04/09/2013,"",0,8.0,04/09/2013 01:39 pm,06/27/2013 01:56 pm,2 - Rare,4 - Crash / Wrong Results,2.6.2,"","",Windows,Any,"Fred Stecher sent 2 sets of 3 VTK files representing 2 time steps of a simulation. The first has a variable called ""hx"", the second has ""hy"" and the third has ""hz"". He wants to use cmfe to bring all fields onto the hx mesh so he can create a vector expression {hx, hy, hz}.

1. Open lens3d-hx-*.vtk database
2. Open the ""Data level comparison"" wizard and place ""lens3d-hy-*.vtk database""'s hy variable on hx's mesh and call the variable cmfe_hy.
3. Repeat step 2 for hz
4. make an expression H = {hx, cmfe_hy, cmfe_hz}
5. Try making a Pseudocolor plot of cmfe_hy.
6. Draw

The engine will crash. Note that we have only attempted one mapping of hy onto hz here.

Other observations:
1. The data do not look right on Windows when even plotting hx.
2. There are a bunch of '\' escape characters in the created expressions. I don't know whether those pose a problem. I think they were put there to solve Windows path issues."
1418,Resolved,VisIt,Bug,Normal,Fix Manta stuff in Molecule plot's CMakeLists.txt,Kathleen Biagas,"",2.7,Brad Whitlock,04/10/2013,"",0,"",04/10/2013 05:23 pm,10/09/2013 05:08 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,"The Molecule plot's CMakeLists.txt file cannot be automatically regenerated because of some Manta-related coding. If VisIt is being built with Manta then some additional source files are added to the plugin's build.

I suggest that the Manta sources always get added so the CMakeLists.txt file can be autogenerated. Then some conditional compilation in the Manta source files can determine whether the file actually produces anything in its object file.
"
1419,Resolved,VisIt,Bug,Normal,PeaksOverThreshold CMakeLists.txt cannot be autogenerated,Kathleen Biagas,"",2.7,Brad Whitlock,04/10/2013,"",0,"",04/10/2013 05:30 pm,10/09/2013 05:11 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,"The CMakeLists.txt file for PeaksOverThreshold operator has a lot of customizations that prevent autogeneration.

1. the XML files is missing some custom source files
2. The CMakeLists.txt has conditionals based on the presence of NETCDF. What?"
1420,Resolved,VisIt,Bug,Normal,CartographicProjection operator's CMakeLists.txt cannot be autogenerated.,"","",2.7,Brad Whitlock,04/10/2013,"",0,"",04/10/2013 05:33 pm,10/09/2013 05:36 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,The CMakeLists.txt file adds more target link libraries for AVT and vtkGeovisCore. These can probably be added in the XML file.
1430,Resolved,VisIt,Bug,Normal,Problem reading certain GMV files.,Brad Whitlock,"",2.7,Brad Whitlock,04/22/2013,"",100,"",04/22/2013 01:37 pm,04/26/2013 07:54 pm,2 - Rare,3 - Major Irritation,2.6.2,"","",All,Any,"Michael Jähn, an external VisIt user, reported a failure with reading data from GMV files. Files are attached.

Email #2:
=========
I already found out that VisIt shows some strange cut cells in my example. You may have a look at the attached files.
There, VisIt is at least able to open these files. But when I go to higher resolutions, I get an error message (c.f. link from my last mail).
If I open these files in GMV, everything is looking 'normal'.


Email #1:
=========
I have a very similar problem to this one: https://elist.ornl.gov/pipermail/visit-users/2012-August/012792.html
It is about a file that contains topographical data (cartesian grid, cut cells) that can be opened with GMV but no with VisIt.
I used the current VisIt version (2.6.2) on Mac OS Darwin 10.6.3 and on Ubuntu 12.04.

Was this bug solved in any ways? I could also send you my file but is has a size of 24 MB.
"
1449,Resolved,VisIt,Bug,Normal,Update GDAL and build_visit.,Kathleen Biagas,"",2.7,Brad Whitlock,05/07/2013,"",40,2.0,05/07/2013 02:14 pm,07/15/2013 03:40 pm,2 - Rare,2 - Minor Irritation,2.6.2,"","",All,Any,"The link we have to download GDAL in our build_visit sript is stale since GDAL has moved their download pages.

The correct link for GDAL 1.7.1's tarball is now: http://download.osgeo.org/gdal/gdal-1.7.1.tar.gz

We should also consider updating to a newer GDAL version since they are on version 1.10 now."
1459,Resolved,VisIt,Bug,Normal,We might need to link the avtviswindow_* libraries explicitly with objC on the Mac.,Brad Whitlock,"",2.7,Brad Whitlock,05/14/2013,"",100,"",05/14/2013 07:29 pm,05/17/2013 02:19 pm,2 - Rare,3 - Major Irritation,2.6.2,"","",OSX,Any,"An external user building on Mac 10.8 ran into this build problem. It appears we have some Objective C code in the library and this is forcing us to need to link in objC.

Linking CXX shared library ../../lib/libavtviswindow_ser.dylib
Undefined symbols for architecture x86_64:
  ""_objc_msgSend"", referenced from:
      VisWinRenderingCocoa::HideRenderWindow(void*)   in VisWinRenderingCocoaHideWindow.mm.o
  ""_objc_msgSend_fixup"", referenced from:
      l_objc_msgSend_fixup_autorelease in VisWinRenderingCocoaHideWindow.mm.o
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
make[2]: *** [lib/libavtviswindow_ser.dylib] Error 1
make[1]: *** [avt/VisWindow/CMakeFiles/avtviswindow_ser.dir/all] Error 2"
1464,Resolved,VisIt,Bug,Normal,Python libsim module now has unwanted shared library dependency.,Brad Whitlock,"",2.7,Brad Whitlock,05/17/2013,"",100,"",05/17/2013 02:29 pm,05/17/2013 05:12 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,"The Python wrapper for libsim has some Python functions that allow libsim frontend functions to be called. The libsim functions used to be satisfied by linking the static libsimV2.a into it. Apparently, this was not a good practice and we changed over to linking against the shared library version of libsimV2dyn.so.

When you go to use the Python libsim now, you point Python to VisIt's lib directory so the module can be imported. Unfortunately, the module will not import because it references libsimV2dyn.so, which is in the libsim/V2/lib directory in installed versions of VisIt. A VisIt user ran into this and had to set LD_LIBRARY_PATH outside of Python, which isn't a very good solution.

Since the Python libsim module should be self-contained, it should probably just include the sources from the front end directly it its build so no shared library dependency is introduced.
"
1492,Rejected,VisIt,Bug,Normal,Viewer crashes on startup.,Eric Brugger,"",2.7,Brad Whitlock,06/08/2013,"",0,"",06/08/2013 01:09 am,08/15/2013 05:59 pm,3 - Occasional,4 - Crash / Wrong Results,2.6.2,"","",All,Any,"I built VisIt's trunk on my Ubuntu 12.04 system and the viewer crashes on startup. I have nvidia drivers installed and VisIt builds pre-VTK-6.0 worked fine. The crash is in VTK.

<code><pre>
Program received signal SIGSEGV, Segmentation fault.
0x00007ffff597059f in ?? () from /lib/x86_64-linux-gnu/libc.so.6
(gdb) where
#0  0x00007ffff597059f in ?? () from /lib/x86_64-linux-gnu/libc.so.6
#1  0x00007ffff595b190 in ?? () from /lib/x86_64-linux-gnu/libc.so.6
#2  0x00007ffff594f350 in vsscanf () from /lib/x86_64-linux-gnu/libc.so.6
#3  0x00007ffff593a317 in sscanf () from /lib/x86_64-linux-gnu/libc.so.6
#4  0x0000000001082a37 in vtkOpenGLExtensionManager::ReadOpenGLExtensions() ()
#5  0x0000000001082270 in vtkOpenGLExtensionManager::Update() ()
#6  0x0000000001081ebd in vtkOpenGLExtensionManager::ExtensionSupported(char const*) ()
#7  0x000000000105dd2a in vtkOpenGLRenderWindow::OpenGLInitContext() ()
#8  0x0000000001fa06ed in QGLWidget::glInit() ()
#9  0x0000000001fecd34 in QGLWidget::resizeEvent(QResizeEvent*) ()
#10 0x000000000193eb1c in QWidget::event(QEvent*) ()
#11 0x0000000001fa2378 in QGLWidget::event(QEvent*) ()
#12 0x00000000018fb944 in QApplicationPrivate::notify_helper(QObject*, QEvent*)
    ()
#13 0x00000000019006f0 in QApplication::notify(QObject*, QEvent*) ()
#14 0x000000000210285c in QCoreApplication::notifyInternal(QObject*, QEvent*)
    ()
#15 0x0000000001939585 in QWidgetPrivate::sendPendingMoveAndResizeEvents(bool, bool) ()
#16 0x00000000019411a4 in QWidgetPrivate::show_helper() ()
#17 0x00000000019417ed in QWidget::setVisible(bool) ()
#18 0x00000000019410ec in QWidgetPrivate::showChildren(bool) ()
---Type <return> to continue, or q <return> to quit---
#19 0x00000000019411c0 in QWidgetPrivate::show_helper() ()
#20 0x00000000019417ed in QWidget::setVisible(bool) ()
#21 0x00000000009e18cc in QWidget::show (this=0x375c460)
    at /home/brad/Development/thirdparty_static/2.7.0/qt/4.8.3/linux-x86_64_gcc-4.6/include/QtGui/qwidget.h:494
#22 0x0000000000c8a09d in VisWinRenderingWithWindow::RealizeRenderWindow (
    this=0x37fbe00)
    at /home/brad/Development/MAIN/trunk/src/avt/QtVisWindow/VisWinRenderingWithWindow.C:143
#23 0x0000000000c92c38 in VisWinRendering::Realize (this=0x37fbe00)
    at /home/brad/Development/MAIN/trunk/src/avt/VisWindow/Colleagues/VisWinRendering.C:878
#24 0x0000000000cbf173 in VisWindow::Realize (this=0x375c6b0)
    at /home/brad/Development/MAIN/trunk/src/avt/VisWindow/VisWindow/VisWindow.C:2046
#25 0x0000000000af6fea in ViewerWindow::Realize (this=0x37536b0)
    at /home/brad/Development/MAIN/trunk/src/viewer/main/ViewerWindow.C:735
#26 0x0000000000b0cc75 in ViewerWindowManager::ShowAllWindows (this=0x35c1e80)
    at /home/brad/Development/MAIN/trunk/src/viewer/main/ViewerWindowManager.C:1199
#27 0x0000000000ad881f in ViewerSubject::ShowAllWindows (this=0x354cf20)
    at /home/brad/Development/MAIN/trunk/src/viewer/main/ViewerSubject.C:3472
#28 0x0000000000ae2044 in ViewerSubject::HandleViewerRPCEx (this=0x354cf20)
</pre></code>"
1572,Resolved,VisIt,Bug,Normal,xml2info generates incorrect plugin skeleton code.,Kathleen Biagas,"",2.7,Brad Whitlock,08/13/2013,"",100,2.0,08/13/2013 05:50 pm,08/28/2013 06:33 pm,1 - Exceptional,3 - Major Irritation,2.6.3,"","",All,Any,"1. The viewer plugin info C code contains an extra copy of GetClientAttributes that contains 2 extra bool arguments. This code should probably not be generated since it is handled in the ViewerPlotPluginInfo base class.

2. The viewer plugin info C code's InitializePlotAttributes method passes a ViewerPlot and it used to be const to prevent the plugin from modifying the plot. That constness was relaxed recently. The header is right but the C code is still generated with a const, which is not right.

These 2 issues lead to incorrect skeleton code being generated."
1397,Resolved,VisIt,Bug,Normal,GUI crash on startup on iSRD network with GNOME desktop.,Eric Brugger,"",2.6.3,Brad Whitlock,03/27/2013,"",100,"",03/27/2013 02:05 pm,06/20/2013 02:29 pm,4 - Common,4 - Crash / Wrong Results,2.6.0,"","",Linux,Any,"If you run VisIt 2.6.0 or later on the GNOME desktop on the LLNL iSRD network, the gui will crash on startup. I was able to look at a stack and I saw that the crash was in Qt's rendering of the GTK style. To avoid the GTK style, I added ""-style windows"" to the command line and then the gui came up fine and everything worked. Version 2.6.0 switched us to a new Qt and it is apparently not too happy with our version of GNOME. The crash does not happen on KDE desktops.

I edited the customlauncher for versions 2.6.{0,1,2} and made the scripts add ""-style windows"" to the command line so users would not run into the crash.

Inside the Customize() method, I added:

 if self.generalArgs.exe_name == ""gui"":
     self.generalArgs.arguments = self.generalArgs.arguments + [""-style"", ""windows""]

Bottom line: We should investigate why GTK style crashes on our GNOME desktops -- or failing that, make the customlauncher changes permanent for LLNL's closed customlauncher."
1497,Resolved,VisIt,Bug,Normal,Remove Brad's LLNL email from VisIt web site.,Eric Brugger,"",2.6.3,Brad Whitlock,06/13/2013,"",100,3.0,06/13/2013 12:00 pm,06/18/2013 05:38 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,"The ""VisIt webmaster"" links in the VisIt web site contain ""whitlock@llnl.gov"" as one of the ""mailto:"" email addresses from when I maintained the web site. That email address should be removed since it will be closed down soon. This probably affects most of the pages in the VisIt web site."
1332,Resolved,VisIt,Bug,High,Silo's configure can't properly detect Qt on Linux due to how build_visit configures Qt,Mark Miller,"",2.6.2,Brad Whitlock,02/07/2013,"",0,2.0,02/07/2013 12:27 pm,03/07/2013 10:36 pm,3 - Occasional,3 - Major Irritation,2.6.1,"","",All,Any,"When I run build_visit on Linux such that I have ""--qt --silo"" enabled, Silo's configure fails. This appears to be a flaw in the AX_HAVE_QT macro used in Silo's configure. I've run into this on newer Linux distros like Ubuntu 12 but it also happens at LC on rzmerl.

<code><pre>
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for Qt... sed: unrecognized option '--with-Qt-lib=QtGui/lib/lib@@'
Usage: sed [OPTION]... {script-only-if-no-other-script} [input-file]...

  -n, --quiet, --silent
                 suppress automatic printing of pattern space
  -e script, --expression=script
                 add the script to the commands to be executed
  -f script-file, --file=script-file
                 add the contents of script-file to the commands to be executed
  --follow-symlinks
                 follow symlinks when processing in place; hard links
                 will still be broken.
  -i[SUFFIX], --in-place[=SUFFIX]
                 edit files in place (makes backup if extension supplied).
                 The default operation mode is to break symbolic and hard links.
                 This can be changed with --follow-symlinks and --copy.
  -c, --copy
                 use copy instead of rename when shuffling files in -i mode.
                 While this will avoid breaking links (symbolic or hard), the
                 resulting editing operation is not atomic.  This is rarely
                 the desired mode; --follow-symlinks is usually enough, and
                 it is both faster and more secure.
  -l N, --line-length=N
                 specify the desired line-wrap length for the `l' command
  --posix
                 disable all GNU extensions.
  -r, --regexp-extended
                 use extended regular expressions in the script.
  -s, --separate
                 consider files as separate rather than as a single continuous
                 long stream.
  -u, --unbuffered
                 load minimal amounts of data from the input files and flush
                 the output buffers more often
      --help     display this help and exit
      --version  output version information and exit

If no -e, --expression, -f, or --file option is given, then the first
non-option argument is taken as the sed script to interpret.  All
remaining arguments are names of input files; if no input files are
specified, then the standard input is read.

GNU sed home page: <http://www.gnu.org/software/sed/>.
General help using GNU software: <http://www.gnu.org/gethelp/>.
ls: unrecognized option '--with-Qt-lib=QtGui/lib/libQt*'
Try `ls --help' for more information.
yes:
    QT_CXXFLAGS=-I/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/include -I/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/include/Qt -I/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/include/QtCore -I/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/include/QtGui
    QT_DIR=/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui
    QT_LIBS=-L/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/lib -l  -lSM -lICE  -lX11 -lXext -lXmu -lXt -lXi 
    QT_UIC=
    QT_MOC=/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/bin/moc
    QT_LRELEASE=/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/bin/lrelease
    QT_LUPDATE=/usr/gapps/visit/thirdparty_shared_2_7_0/qt/4.8.3/linux-x86_64_gcc-4.4/ --with-Qt-lib=QtGui/bin/lupdate
checking correct functioning of Qt installation... failure
configure: error: Failed to find matching components of a complete
                  Qt installation. Try using more options,
                  see ./configure --help.

</pre></code>"
1355,Resolved,VisIt,Bug,Normal,"GUI crashes when running ""VisIt with Debug logging"" shortcut on Windows.",Brad Whitlock,"",2.6.2,Brad Whitlock,02/27/2013,"",100,"",02/27/2013 03:22 pm,03/12/2013 02:04 pm,2 - Rare,4 - Crash / Wrong Results,2.6.0,"","",Windows,Any,"When I select ""VisIt with Debug logging"" from the Windows start menu, I get a gui crash. When I run ""visit.exe -debug 5"" from a command line, things work fine.

This was with version 2.6.1 installed on Windows 7.

Object[47] = ViewerRPC
Object[48] = FileOpenOptions
Object[49] = SelectionProperties
Object[50] = SelectionList
QvisGUIApplication::HeavyInitialization: heavyInitStage=5
QvisGUIApplication::HeavyInitialization: heavyInitStage=6
signalhandler_core: SIGSEGV!"
1232,Resolved,VisIt,Bug,Normal,Python capabilities enabled even when Python is not requested.,Cyrus Harrison,"",2.6.1,Brad Whitlock,11/06/2012,"",0,"",11/06/2012 03:18 pm,12/19/2012 12:07 pm,2 - Rare,2 - Minor Irritation,2.5.2,"","",All,Any,"I wanted to do a really quick build so I turned off most of the packages in my config-site file. I turned off Python and PySide by commenting out their respective lines. When I ran cmake, I still got errors about Python being used in various places. In addition to turning off Python via my config-site, I had to add additional arguments to my cmake configure in order for it to complete:

cmake -DCMAKE_BUILD_TYPE:STRING=Debug -DVISIT_PYTHON_SCRIPTING:BOOL=OFF -DVISIT_PYTHON_FILTERS:BOOL=OFF ../src

I would have expected since I turned off Python by not setting VISIT_PYTHON_DIR that none of the other Python functionality would still be enabled.

"
1239,Resolved,VisIt,Bug,Normal,Transparent plots make time slider $time=0 in parallel.,Brad Whitlock,"",2.6.1,Brad Whitlock,11/13/2012,"",100,"",11/13/2012 06:47 pm,12/10/2012 05:23 pm,3 - Occasional,4 - Crash / Wrong Results,2.5.2,"","",All,Any,"Fady Najjar reported a problem where the time slider in saved images was always showing ""Time=0"". I did some investigation and was able to determine that when VisIt is run in parallel, transparent plots cause the time value used by the time slider to always be zero. When there are no transparent plots, the time slider shows the right values.

Here is a script that reproduces the problem:

# visit -cli -nowin -np 2 -l srun -s reproduce_timeslider.py
OpenDatabase(""/usr/gapps/visit/data/multi_curv2d.silo"")
AddPlot(""Pseudocolor"", ""d"", 1, 1)
AddOperator(""Elevate"", 1)
PseudocolorAtts = PseudocolorAttributes()
PseudocolorAtts.colorTableName = ""hot_desaturated""
SetPlotOptions(PseudocolorAtts)
DrawPlots()

timeslider = CreateAnnotationObject(""TimeSlider"")

# Save a good image
SaveWindow()

# Save a bad image (transparency in parallel to blame)
PseudocolorAtts.opacity = 0.411765
SetPlotOptions(PseudocolorAtts)
DrawPlots()
SaveWindow()
"
1257,Resolved,VisIt,Bug,Normal,Use of loopback interface is being used for parallel engines within mxterm,Brad Whitlock,"",2.6.1,Brad Whitlock,12/03/2012,"",100,"",12/03/2012 03:36 pm,12/06/2012 02:20 pm,4 - Common,5 - Very Serious,2.5.2,"","",All,Any,"1. log into edge
2. mxterm 2 24 480
3. /usr/gapps/visit/bin/visit -cli -forceversion 2.6.0 -np 24 -l srun

The above VisIt command will fail because the internallauncher script still thinks that it is okay for the engine to be run using the loopback network interface. This is fine for 1 mxterm node. When you have 2 mxterm nodes as in this example, VisIt will report that the engine was unable to connect back to the viewer.

If you add -noloopback to the cli command line then the engine will be able to connect back.

We need to have a second look at the lines in the launcher that affect whether loopback can be used during a parallel engine launch. We should probably not be using it. See lines around 1127 in the ConnectionArguments method."
1292,Resolved,VisIt,Bug,Normal,Crash due to not verifying query inputs,Kathleen Biagas,"",2.6.1,Brad Whitlock,01/07/2013,"",0,1.0,01/07/2013 03:30 pm,01/09/2013 06:10 pm,3 - Occasional,5 - Very Serious,2.6.0,"","",All,Any,"I had a 2d plot and I was trying to take a lineout of it using a specific bit of Python coding and I found that I could crash the viewer. Note that I got the query text from command recording.

<code><pre>
Query(""Lineout"", end_point=(0, 0.16, 0), start_point=(0, 0, 0))
</pre></code>

In the above query example, the start_point ends up being interpreted such that it appears to not fill in a doubleVector internally. When the viewer later goes to get ""start_point"", assuming that it is a doubleVector, the vector is length 0. An access to element 2 on the empty vector causes a seg fault.
<code><pre>
ViewerQueryManager::StartLineQuery(const MapNode &queryParams)
{
    string qName = queryParams.GetEntry(""query_name"")->AsString();
    if (qName ==  ""Lineout"")
    {
        doubleVector pt1 = queryParams.GetEntry(""start_point"")->AsDoubleVector(); // THIS GIVES 0 ELEMENT VECTOR
        doubleVector pt2 = queryParams.GetEntry(""end_point"")->AsDoubleVector();
        ...
        else if ((win->GetWindowMode() == WINMODE_2D) &&
                 (pt1[2] != 0 || pt2[2] != 0)) // THIS SEG FAULTS!
</pre></code>

There is no validation of the query input parameters here. Hopefully the validation is done somewhere though. It seems that a check to make sure each vector has 3+ elements would be needed. Also, figure out why the AsDoubleVector() is not working properly.

When I change the Python code to force doubles, the viewer works properly.

<code><pre>
Query(""Lineout"", end_point=(0., 0.16, 0.), start_point=(0., 0., 0.))
</pre></code>

"
1302,Resolved,VisIt,Bug,Normal,File Open window does not let you edit path or filter when connected to remote host.,Brad Whitlock,"",2.6.1,Brad Whitlock,01/11/2013,"",100,"",01/11/2013 02:53 pm,01/14/2013 01:53 pm,3 - Occasional,3 - Major Irritation,2.6.0,"","",OSX,Any,"File Open window does not let you edit path or filter when connected to remote host. If I start VisIt and open the file dialog on the local file system then things are fine. Once I connect to a remote host, the 2 widgets do not let me edit them."
1318,Resolved,VisIt,Bug,Normal,VisIt execution issues and symbolic links,Brad Whitlock,"",2.6.1,Brad Whitlock,01/22/2013,"",100,"",01/22/2013 12:19 pm,01/22/2013 05:44 pm,2 - Rare,3 - Major Irritation,2.6.0,"","",All,Any,"Make a symlink to the <install>/bin/visit command and then run the symlink. You'll get an error message indicating that there is no current version of VisIt.

Report from user:
=================
Something has changed in VisIt 2.6.0 such that symbolic links to the visit executable no longer appear to work. This occurs on linux as well as MacOS.

I used to have a link on Linux: ""/usr/local/bin/visit --> /usr/local/visit/bin/visit"" so that /usr/local/bin is in my PATH, but visit's bin directory is not. This no longer works, and running ""visit"" yields the error ""There is no current version of VisIt."" Similarly, on MacOS I had a link from ~/bin/visit to the visit executable inside of VisIt's MacOS bundle (so I could launch VisIt from the command-line).

Everything works fine when removing the symbolic links and adding /usr/local/visit/bin to the PATH.

Perhaps this is by design. I thought I would report to perhaps save others some time.
"
765,Resolved,VisIt,Feature,Normal,Add low resolution of images from the User Manual to the online documentation.,Brad Whitlock,"",2.6,Brad Whitlock,06/24/2011,"",0,"",06/24/2011 12:51 pm,10/12/2012 08:26 pm,"","","",3 - Medium,3 - Occasional,All,Any,"The online documentation is generated from the OpenOffice XML version of the User's Manual by a Python script called svn_bin/makehelp. Since the conversion to OpenOffice, the script generates tags in the resulting HTML that reference PNG images from the manual. We didn't used to do this since in the early days, image support within Qt was spotty. Now that image support is there, we do generate image tags. The problem is that we don't include the images in the release distribution since it would add 30Mb to the release. That's not such a big deal these days either so we should probably include them. However, putting the images into the src directory would slow our day to day checkouts.

I propose we run makehelp again to generate the lower-res images that we can include in the release. We can then create a tarball of them and check it into the docs/UserManual directory. Then we can change our ""make install"" to copy the images over into the release if the docs/UserManual directory exists as part of the checkout. We'll have to update the visit-dist script so it includes the images. This will inflate our source tarball.

Another avenue might be to put the images on the VisIt web site and change the Help window to try and download them if it can't find them locally.
"
917,Resolved,VisIt,Feature,Normal,Create simulation example that shows how to use domain boundaries object.,Brad Whitlock,"",2.6,Brad Whitlock,12/15/2011,"",100,"",12/15/2011 07:10 pm,08/17/2012 06:09 pm,"","","",2 - Low,2 - Rare,All,Any,"Users have inquired about different types of ghost zones as well as the domain boundaries object, which lets VisIt automatically generate ghost zones. We need a multi-domain example simulation that shows how to use the domain boundaries object to generate ghost zones on the fly.
"
1006,Resolved,VisIt,Bug,Normal,Examine code duplication in CracksClipper operator.,Kathleen Biagas,"",2.6,Brad Whitlock,03/28/2012,"",0,"",03/28/2012 06:14 pm,08/15/2012 05:35 pm,2 - Rare,2 - Minor Irritation,trunk,"","",All,Any,"I've been stuck doing some refactoring in visit_vtk's vtkVisItClipper and vtkVisItSplitter. I've been adding support for double and vtkIdType, making a lot of internal changes to those classes.

When I went to build the whole thing, the CracksClipper operator failed due to my API changes. I looked in the CracksClipper operator and found that vtkCracksClipper is essentially the same as vtkVisItClipper and it makes the same assumptions about float, etc that the old version of vtkVisItClipper did.

Isn't there just some way that the visit_vtk classes can be used instead?"
1148,Resolved,VisIt,Bug,Normal,Problem with pick and Project operator.,Kathleen Biagas,"",2.6,Brad Whitlock,08/02/2012,"",0,"",08/02/2012 06:09 pm,08/16/2012 06:08 pm,3 - Occasional,4 - Crash / Wrong Results,2.5.1,"","",All,DOE/ASC,"An LLNL user was able to get VisIt to to fail when picking on a plot with the Project operator. VisIt produced an error message and pick did not work. When I tried parallel VisIt on 12 processors on rzalastor with 2.5.1, it worked fine. When I did the same thing with a serial engine, pick did not work and produced the message:

Warning: Pick encountered an internal error (could not find zone corresponding to pick point).
Please contact a VisIt developer

1. Open ~whitlocb/ScottWilks/hydropc14030.root
2. Pseudocolor plot of rbin_7
3. Add a Project operator
4. Set the Project operator atts so it uses ""Z-Axis Cylindrical (x <= x, y <= r) for the projection type
5. Draw
6. Enter zone pick mode and click on the plot. You should get the error message.

Again, when I ran in parallel, I did not get the error message. The user reported that he's been doing this operation successfully for years and that maybe the 2.5.x series of VisIt is breaking it.
"
1163,Resolved,VisIt,Bug,Normal,Color by one variable and opacity by another variable is broken in Volume plot.,Brad Whitlock,"",2.6,Brad Whitlock,08/13/2012,"",100,"",08/13/2012 12:47 pm,08/20/2012 08:14 pm,3 - Occasional,4 - Crash / Wrong Results,2.5.1,"","",All,Any,"If you use the Volume plot to color by one variable and do opacity by another, you won't get the desired picture for the splatting and 3d texture renderers. The raycasting renderer will produce the right picture.

1. Open noise.silo
2. Make expression zc = coords(Mesh)[2]
3. Make a Volume plot of zc
4. Set the opacity variable to hardyglobal
5. Select some low values and some high values in the transfer function
6. Apply
7. Draw

The resulting picture will use hardyglobal for the opacity variable as intended but it will also use it for the color variable. So instead of getting a rainbow of values in Z, you'll just get some blue or greenish values, indicating that the color variable came from hardyglobal.
"
1164,Resolved,VisIt,Bug,Normal,INSTALL_NOTES outdated for Mac.,Brad Whitlock,"",2.6,Brad Whitlock,08/13/2012,"",100,"",08/13/2012 12:49 pm,08/15/2012 03:10 pm,2 - Rare,2 - Minor Irritation,2.5.1,"","",All,Any,The INSTALL_NOTES file is outdated for Mac. The instructions still indicate that the user should download a Mac tarball and use visit-install to install it. We should update these instructions to show how to install using the Mac bundle.
1196,Resolved,VisIt,Bug,Normal,Tecplot binary reader doesn't work for time-varying data.,Brad Whitlock,"",2.6,Brad Whitlock,09/12/2012,"",100,"",09/12/2012 03:23 pm,09/21/2012 01:13 pm,3 - Occasional,3 - Major Irritation,2.5.2,"","",All,Any,"The Tecplot binary reader doesn't work for time-varying data. This is yet another instance of PopulateDatabaseMetaData needing to be called prior to GetMesh, GetVariable."
1199,Resolved,VisIt,Bug,Normal,libsim ghost values are restricted incorrectly.,Brad Whitlock,"",2.6,Brad Whitlock,09/21/2012,"",0,"",09/21/2012 01:31 pm,10/15/2012 02:32 pm,3 - Occasional,2 - Minor Irritation,2.5.2,"","",All,Any,"To paraphrase: libsim ghost values have to be in the range 1-6 (or so) where they should be allowed to contain values that are powers of 2 that are or'd together to designate combinations of ghost zone states. Libsim needs to be changed to match what VisIt does internally. There's just an inconsistency at present.


A month ago I asked about issues with libSim and setRealIndicies for 3D
meshes. Using this method for ghost cells, pseudocolor plots produce an
empty bounding box (variable ... yielded no data) because the ghost
cells are marked as interior by default and all the outer surfaces are
ghost cells. I've since attempted to use the newer setGhostNodes
command. For all possible combinations of blank, real, interior,
exterior, etc, I get the same result as with setRealIndicies (VisIt
2.5.2). It plots nothing unless I use the inverse ghost zone filter in
which case it plots surfaces surrounding both the inside and outside of
the ghost cell regions. I can also manually 'invert' by setting what I
expect to be ghost as real and what should be real as blank, but that
doesn't help me produce a plot showing the exterior of the 'real' cells.

I did produce the desired effect with pseudocolor plots in vtk output
files by setting the avtGhostZones variable to 16 (i.e. 1<<4 or
ZONE_EXTERIOR_TO_PROBLEM). Is it possible to set the avtGhostZones value
directly from within the libSim framework? In particular, the current
setGhostCells command only takes integers 0-5 (visit complains that it's
invalid outside that range) which does not allow for combinations of
flags as the avtGhostZones variable does.

It also appears that the examples in ghostcells.c are all 2D meshes. Is
there an example of 3D (structured) meshes where exterior cells are
blanked leaving only a valid internal computational domain visible with
psuedocolor? Any suggestions would be a big help. Thanks again."
1221,Resolved,VisIt,Bug,Normal,Viewer crash on query after failing to set time step.,Brad Whitlock,"",2.6,Brad Whitlock,10/29/2012,"",100,"",10/29/2012 03:18 pm,11/05/2012 03:14 pm,3 - Occasional,4 - Crash / Wrong Results,2.5.2,"","",All,Any,"Jay Salmonson reported this bug where the viewer crashes due to an invalid time step being accessed. In this case, the time step cannot be accessed because file permissions are wrong. Here's a reproducer:

1. mkdir crash
2. cd crash
3. cp /usr/gapps/visit/data/wave00??.silo .
4. chmod 200 wave0050.silo
5. visit -cli -debug 5 -s reproducer.py

Here is reproducer.py:

OpenDatabase(""wave*.silo database"")
AddPlot(""Pseudocolor"", ""pressure"")
DrawPlots()
for i in xrange(TimeSliderGetNStates()):
    SetTimeSliderState(i)
    Query(""Cycle"")"
1241,Resolved,VisIt,Bug,Normal,VisIt frontendlauncher running into problems with LC's python 2.7,Brad Whitlock,"",2.6,Brad Whitlock,11/14/2012,"",0,"",11/14/2012 06:22 pm,11/30/2012 05:06 pm,4 - Common,5 - Very Serious,2.5.2,"","",All,Any,"A VisIt user was running client/server to LC's cab machine and was unable to connect. 2 things caused this:

1. Eric was testing 2.6.0 builds, which copied the new Python frontendlauncher to /usr/gapps/visit/bin/visit
2. The user had ""use python-2.7.1"" in his dot files

When the new frontendlauncher is used against the python from 2.7.1 dotkit, the following happens (and VisIt won't run). When the python interpreter in question runs, it does not fail to load site.

Now that I think about it, this reminds me of something Gunther ran into. In the old PERL versions of the the launch scripts, we set PYTHONHOME. When we run the new frontendlauncher against the old PERL internallauncher, the PYTHONPATH would be set to VisIt's python. That version of python might cause an incompatibility with python 2.7, preventing the site module from opening. I ran into something like this during development, causing me to not set PYTHONPATH in the new launcher. I think Gunther's solution was to edit the old PERL internallauncher to not set the PYTHONPATH.

<code><pre>
edge83{whitlocb}31: use python-2.7.1
Prepending: python-2.7.1 (ok)

edge83{whitlocb}32: visit
Running: gui2.5.2
ImportError: No module named site
Can't execute visit launcher script: /usr/gapps/visit/2.5.2/bin/internallauncher!

edge83{whitlocb}33: which python
/usr/apps/python2.7.1/bin/python

edge83{whitlocb}34: python
Python 2.7.1 (r271:86832, Nov 22 2011, 17:06:42) 
[GCC 4.4.6 20110731 (Red Hat 4.4.6-3)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>>
</pre></code>
"
376,Resolved,VisIt,Bug,Normal,"Python recording does not work if doing ""import visit"" from a regular Python interpreter.",Brad Whitlock,"",2.5.2,Brad Whitlock,09/01/2010,"",100,"",09/01/2010 06:14 pm,07/24/2012 07:49 pm,2 - Rare,2 - Minor Irritation,2.0.1,"","",All,DOE/ASC,"Bob Corey reported this to me.

Run a regular Python interpreter and make it launch VisIt:

import sys
sys.path.append(""/path/to/trunk/src/lib"")
import visit
visit.OpenGUI()

When the GUI comes up, try recording some actions using the Command window. It doesn't work. I noticed some Python messages in my console that are probably related:

>>> visit.OpenGUI()
Running: gui -host 127.0.0.1 -port 5600 -dv -reverse_launch
VisIt: Message - Added a new client to the viewer.
1L
>>> Running: mdserver -host 127.0.0.1 -port 5601 -dv
Message: Added a new client to the viewer.
Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
NameError: name 'ClientMethod' is not defined
Running: engine_ser -host 127.0.0.1 -port 5600 -dv
Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
NameError: name 'ClientMethod' is not defined
"
628,Resolved,VisIt,Bug,Normal,Curves in movies saved by parallel engines are incomplete,Brad Whitlock,"",2.5.2,Brad Whitlock,02/23/2011,"",100,"",02/23/2011 05:46 pm,07/20/2012 08:02 pm,3 - Occasional,3 - Major Irritation,2.1.2,"","",All,Any,"A couple of users have reported a problem generating movies of curves using parallel VisIt. The curve gets truncated vertically. I can reproduce with the following steps on 8 processors of alastor but fewer than 8 processors does not exhibit the error. Thus, the problem might be due to how reduce happens in MPI when we composite frame buffers from different processors. I haven't looked at each processor's frame buffer.

1. Run visit on alastor
2. Open curve_test_data/curve.visit (data from the test suite)
3. Select a parallel profile with 8 processors
4. Make a Curve plot of parabola and Draw
5. Advance to the last time step
6. Go through the Save movie wizard and save PNG files

The resulting images will have missing curve pixels once the parabola gets above the bottom 25% or so of the image. This looks like an image compositing problem.

I didn't notice the problem being dependent on image size or which curve rendering method was used. I used symbols, wide lines, etc. in different tests and each test had the curve truncated at about 25% up from the image bottom."
1037,Resolved,VisIt,Bug,Normal,Saved images don't preserve transparency on Windows.,Kathleen Biagas,"",2.5.2,Brad Whitlock,04/29/2012,"",0,"",04/29/2012 01:07 am,07/25/2012 07:13 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",Windows,Any,"The Windows version (at least 2.4.2 64-bit) is not preserving transparency in saved PNG images, according to a forum user. See http://visitusers.org/forum/YaBB.pl?num=1335485421.

I made a transparent Contour plot of noise.silo and saved a PNG image and the levels were not transparent. I ran into this on some versions of Linux during the VTK 5.8 transition but I believed all of the errors to be corrected. Thanks VTK!

We'll need to try a newer VTK to see if they've corrected some of these problems."
1126,Resolved,VisIt,Bug,Normal,Resample filter in Volume renderer not handling double-precision coordinates 100%.,Kathleen Biagas,"",2.5.2,Brad Whitlock,07/09/2012,"",0,"",07/09/2012 12:40 pm,07/13/2012 01:20 pm,3 - Occasional,3 - Major Irritation,2.5.1,"","",All,Any,"There have been different reports of the Splatting volume renderer not making a picture. I've replicated the problem (I think) using this procedure.

1. Export noise.silo's hardyglobal variable to a VTK file.
2. Edit the VTK file, changing the coordinates to ""double"" instead of ""float"".
3. Open the VTK file
4. Make a Volume plot of ""hardyglobal"".
5. Draw

The Volume plot renderer will not show any output. There will only be an empty bounding box. If you turn off ""Sample data onto regular grid"" then the plot will appear. This suggests that the resampling code is not handling double precision coordinates 100% -- or there is a problem in the Splatting renderer.

"
1127,Resolved,VisIt,Bug,Normal,Crash on visit.Close(),Brad Whitlock,"",2.5.2,Brad Whitlock,07/09/2012,"",100,"",07/09/2012 01:36 pm,07/26/2012 06:29 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",Linux,Any,"A user reported that calling visit.Close() from the VisIt Python module results in a crash.

========
Version: 2.4.2
OS: Linux

I have recently been working with Python scripts that control VisIt, and I have noticed that whenever I call the 'visit.Close()' command I get an ""Abort (core dumped)"" message. This does not seem to prevent the rest of the script from calling other python commands (either built-in or imported from other modules).
 
I'm not sure if this is a bug or if there is a problem with how my scripts interact with VisIt, although I have not noticed any other problems.
 "
1136,Resolved,VisIt,Bug,Normal,Importing visit module into system Python requires setting LD_LIBRARY_PATH.,Brad Whitlock,"",2.5.2,Brad Whitlock,07/24/2012,"",100,"",07/24/2012 07:59 pm,07/26/2012 03:39 pm,3 - Occasional,3 - Major Irritation,2.5.1,"","",All,Any,"With VisIt 2.5.x, I have to start it like this in order to import it into the system Python:

env LD_LIBRARY_PATH=/usr/gapps/visit/2.5.1/linux-x86_64/lib python
>>> import sys
>>> sys.path.append(""/usr/gapps/visit/2.5.1/linux-x86_64/lib/site-packages"")
>>> import visit 
>>> visit.Launch()
>>> visit.ShowAllWindows()

Older versions of VisIt did not require setting of LD_LIBRARY_PATH. There was some code in the old C version of the front end module to load the visitmodule.so. Since the transition to a Python-based front end module, it is now necessary to set LD_LIBRARY_PATH prior to running python.

See http://www.visitusers.org/index.php?title=Using_a_Standard_Python_Interpreter#Version_2.4_and_2.5_Differences for more information about the 2.4 and 2.5 differences.

This problem came up 2-3 times on the help line once VisIt 2.5.1 was made the default."
1137,Resolved,VisIt,Bug,Normal,Problems with some forms of import for VisIt module.,Brad Whitlock,"",2.5.2,Brad Whitlock,07/24/2012,"",100,"",07/24/2012 08:06 pm,07/26/2012 06:17 pm,3 - Occasional,3 - Major Irritation,2.5.1,"","",All,Any,"When importing VisIt into a Python interpreter, you can do the module import a couple different ways:

1. import visit
2. from visit import *

Using the VisIt 2.5.x Python module, option 1 works but there are problems with option 2.

With option 2, the front end module functions seem to get added to the global namespace, which is what we want. However, the Launch() that is done internally to get the rest of the VisIt module to load dynamically still puts its functions into the ""visit"" module namespace. This means that the top level namespace does not get the rest of the VisIt functions.
"
1143,Resolved,VisIt,Bug,Normal,CCM reader does not work with groups of files.,Brad Whitlock,"",2.5.2,Brad Whitlock,07/30/2012,"",100,"",07/30/2012 07:08 pm,07/30/2012 07:34 pm,2 - Rare,3 - Major Irritation,2.5.0,"","",All,Any,"An external user reports that a set of CCM files grouped with automatic file grouping does not work when playing animations. It sounds like the classic problem of grouped ST files not going through all plugin initialization and ending up directly in GetMesh on subsequent time steps.

Email:
======
I have successfully opened a .ccm database which I generated by auto-exporting solution data in STAR-CCM+ every ten iterations. The files successfully open (I can see the filenames on the GUI listed as the active source), and I am able to open one file at a time individually, but if I try pressing the play button to step through the files, I get an error saying
""The compute engine running on lens.ccs.ornl.gov has exited abnormally.

Shortly thereafter, the following occured...

The Pseudocolor plot of ""P"" for the file ""/autofs/na1_home/d7h/FlowAutoExport/FlowAutoExport@*.ccm database"" could not be generated by the compute engine on host ""lens.ccs.ornl.gov"".

I ran VisIt in debug mode and generated debug logs to try to troubleshoot the problem. Can someone take a look at the logs and see if they can tell what's going wrong?
"
1027,Resolved,VisIt,Feature,Normal,Make Pick functions in CLI return results mapnode.,Kathleen Biagas,"",2.5.1,Brad Whitlock,04/16/2012,"",0,"",04/16/2012 01:24 pm,06/14/2012 08:04 pm,"","","",3 - Medium,4 - Common,All,Any,"A user asked about ways to get the pick output in a Python script. I thought I'd try GetQueryOutputValue() but that just returned zero. Next, I tried GetQueryOutputObject(). It returned nothing. I had thought it would return a mapnode of the pick results. Maybe that behavior is just for other queries... Now, since I need help as much as the user, I want Pick and NodePick functions themselves to return a fully populated mapnode so the pick results are easy to access."
1054,Resolved,VisIt,Bug,Normal,VisIt generates plots with gaps in between domains.,Cyrus Harrison,"",2.5.1,Brad Whitlock,05/11/2012,"",100,"",05/11/2012 06:40 pm,06/25/2012 07:36 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",All,Any,"Likely bug in how VisIt handles domain connectivity or ghost zone generation (Ares). The attached image shows that in one instance, VisIt makes plots without gaps where domains abut but the other picture shows gaps at the boundaries. Later experimentation by the user revealed that plotting the dataset in a fresh instance of VisIt caused the gaps to appear. When advancing the time slider, the gaps went away as though some crucial piece of information that VisIt needed to fill in the gaps was cached and available.

User e-mail:
I am using visit to analyze some data in two different ways: 1) On my computer using the visit GUI and 2) on LC using the visit python interface. In the attached PDF (a screenshot) you can see the output from each way on the same data. The plot on the left was from the desktop with the GUI and the one on the right was from the python output. The problem is the lines cutting through the blue chunk in the python output version. And they are not just display artifacts, as they actually affect the results of a subsequent â€œconnected componentsâ€ query I run later. What would be causing this problem with the python version, and how can I fix it?

Cyrus:
It is possible Ares isn't setting the proper Silo flag that tells us the
files' metadata is time varying.

In VisIt's python cli you may want to try:
  SetTreatAllDBsAsTimeVarying(1)

The data sets will still be helpful, b/c this may not be the only issue

Data is on the RZ at: ~whitlocb/JoeWasem/ and it should be group-readable.
"
1058,Resolved,VisIt,Bug,Normal,Rubberband zoom crashes the viewer on Windows.,Kathleen Biagas,"",2.5.1,Brad Whitlock,05/14/2012,"",0,"",05/14/2012 03:17 pm,06/11/2012 08:26 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",Windows,Any,"I was zooming on a elevated 2d dataset using rubber band zoom and the xor mapper that draws the lines was drawing tracks on the plot as though it was not using an xor drawing mode. After I made several zoom rectangles, the viewer crashed.

This was with a 64-bit build of 2.5.1 from May 14.
"
1077,Resolved,VisIt,Bug,Normal,RZ host profiles prevent VisIt from connecting to simulations on RZ.,Brad Whitlock,"",2.5.1,Brad Whitlock,05/22/2012,"",100,"",05/22/2012 03:01 pm,06/08/2012 03:15 pm,3 - Occasional,3 - Major Irritation,2.4.2,"","",All,Any,"The RZ host profiles are geared towards desktop clients that want to access the RZ. As such, they turn on ssh tunneling and use rzgw as a gateway machine. This works fine for client/server.

When using the same host profiles on the RZ machines themselves, they break VisIt's ability to connect to simulations (libsim) that run on the RZ.

The simplest way to fix this would be to have the existing RZ host profiles be the ones that get installed on all clients and then have a separate set of RZ host profiles meant for running ON the RZ. The profiles for running ON the RZ would not use ssh tunneling or a gateway computer.

I edited the host profiles on the RZ for VisIt 2.4.2 so they do not use ssh tunneling or a gateway computer to fix this problem on May 22, 2012.

I verified that the RZ host profiles still work for client/server connections to simulations by connecting VisIt 2.4.2 on my Mac to a simulation running on rzalastor. So, client RZ host profiles should remain unchanged but profiles for running ON the RZ should not have the settings I mentioned.
"
1090,Resolved,VisIt,Bug,Normal,Client/server over long distances is slow with AMR data.,Brad Whitlock,"",2.5.1,Brad Whitlock,06/06/2012,"",100,"",06/06/2012 06:11 pm,06/13/2012 05:32 pm,3 - Occasional,4 - Crash / Wrong Results,2.5.0,"","",All,Any,"An Ares user/developer in Texas using client/server from a Windows 7 computer to LLNL's RZ network reports that VisIt is really slow to send back results. He reports that the slowness happens with an AMR dataset. He also reports that a larger non-AMR dataset sends back results much faster. In the AMR case, the engine reports that about 4 minutes are needed to send the data to the viewer in Texas. The processing of the data on the RZ computer takes 1.3s. I replicated that timing so the network is the issue somehow. I've had the user try various rendering mode options (SR mode, image/geom compression, data compaction) and nothing helps.

========
Hi Jacob,
   I looked at your logs this morning and saw that it takes about 4 minutes to send data back from the engine to your Windows client. The time to read the data and process it is 1.36 seconds and nearly all time is spent writing the bytes over the network out to VisIt's viewer. I guess the time needed to do that could depend on a lot of factors, including your network speed and how much network is between the Lab and your local VisIt. How long does it take you to download 25Mb if you download from Windows to LLNL using scp?

Here is an excerpt from the engine000.timings file, which shows that nearly all time is spent sending bytes back to VisIt. The ""Executing network"" and ""Writing data to viewer"" parts are important.

Timing for    Executing network took 1.366193
Timing for       Calling BalanceLoad in avtTermSrc::Update took 0.000001
Timing for       Calling avtTermSrc::FetchData took 0.000002
Timing for    Writing data to viewer took 246.095413

 I'm not 100% sure of the plots or settings you're using but I did a Pseudocolor plot of ""den"" using the case8a00000.root file that you sent me. I ran VisIt 2.5.0 on a Windows computer, used default plot settings and had geometry sent back to the VisIt viewer so I could manipulate it. The time to process the data is comparable to what you observed. However, the timings show more information, including that 25Mb of data are sent back to the VisIt viewer. In my case, sending the data took 1.9 seconds.

I'm a little confused as to why VisIt gave me more information so it must be taking something of a different path through the code in your case than in mine. Maybe you're in scalable rendering mode. You might try moving your Documents/VisIt 2.5.0/guiconfig and config files out of the way temporarily to run VisIt with default settings.

Timing for    Executing network took 1.307271
Timing for             Calling BalanceLoad in avtTermSrc::Update took 0.000038
Timing for             Calling avtTermSrc::FetchData took 0.000002
Timing for             Calling BalanceLoad in avtTermSrc::Update took 0.000038
Timing for             Calling avtTermSrc::FetchData took 0.000001
Timing for             Calling BalanceLoad in avtTermSrc::Update took 0.000039
Timing for             Calling avtTermSrc::FetchData took 0.000001
Timing for             Calling BalanceLoad in avtTermSrc::Update took 0.000040
Timing for             Calling avtTermSrc::FetchData took 0.000001
Timing for          Collecting data took 0.146268
Timing for          Serializing data for writer took 0.000245
Timing for          Writing 25064921 bytes to socket took 1.807487
Timing for       Collecting data and writing it to viewer took 1.954142
Timing for    Writing data to viewer took 1.954902"
1102,Resolved,VisIt,Bug,Normal,VisIt has trouble launching when several CLI's are launched at the same time.,Brad Whitlock,"",2.5.1,Brad Whitlock,06/18/2012,"",100,"",06/18/2012 06:33 pm,06/20/2012 12:42 pm,4 - Common,4 - Crash / Wrong Results,2.4.2,"","",All,Any,"The Ale3D team maintains a test suite where they launch several VisIt cli's at the same time. They report that sometimes, VisIt does not start up successfully. The problem is likely due to having several VisIts that start at the same time.

Maybe the CLI log file?

The ALE3D test suite uses visit for some of the tests.
Occasionally when running our tests suite we get a failure.
I think it might have something to do with visit launching two jobs near the same time, although I'm not sure about that.  It appears that when we re-run a failed test, it then succeeds when running on its own.   I've created a simple script that demonstrates the problem (you might have to run it a few times to see).

I've given you two files:  visit.csh, and script.py

  Brian

-----

% cat visit.csh


/usr/gapps/visit/bin/visit -cli -nowin -noconfig -s script.py 0 &
/usr/gapps/visit/bin/visit -cli -nowin -noconfig -s script.py 1 &
/usr/gapps/visit/bin/visit -cli -nowin -noconfig -s script.py 2 &
/usr/gapps/visit/bin/visit -cli -nowin -noconfig -s script.py 3 &

wait

-----

% cat script.py

import sys
print ""SCRIPT"", sys.argv
sys.exit(0)

-----

And the output (sometimes) looks like this:

% ./visit.csh 
Running: cli2.4.2 -nowin -noconfig -s script.py 1
Running: cli2.4.2 -nowin -noconfig -s script.py 2
Running: cli2.4.2 -nowin -noconfig -s script.py 0
Running: cli2.4.2 -nowin -noconfig -s script.py 3
Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
visit.VisItException: VisIt's viewer could not launch!
SCRIPT ['/usr/gapps/visit/2.4.2/linux-x86_64/bin/cli', '-nowin', '-noconfig', '-s', 'script.py', '1']
Running: viewer2.4.2 -host 127.0.0.1 -port 5602 -noint -nowin -noconfig 3
Running: viewer2.4.2 -host 127.0.0.1 -port 5601 -noint -nowin -noconfig 1
Running: viewer2.4.2 -host 127.0.0.1 -port 5601 -noint -nowin -noconfig 0
Running: viewer2.4.2 -host 127.0.0.1 -port 5603 -noint -nowin -noconfig 2
SCRIPT ['/usr/gapps/visit/2.4.2/linux-x86_64/bin/cli', '-nowin', '-noconfig', '-s', 'script.py', '3']
SCRIPT ['/usr/gapps/visit/2.4.2/linux-x86_64/bin/cli', '-nowin', '-noconfig', '-s', 'script.py', '2']
"
1104,Resolved,VisIt,Bug,Normal,Linux/sidious build does not contain Python filter support.,Eric Brugger,"",2.5.1,Brad Whitlock,06/20/2012,"",100,2.0,06/20/2012 01:36 pm,06/21/2012 05:47 pm,3 - Occasional,3 - Major Irritation,2.5.0,"","",All,Any,"I told a user to use some Python filters for some custom analysis and he reported that the Linux binaries (built on sidious) did not have Python filter support. When I tried VisIt sidious, I could not get it to run Python filters either. This was with VisIt 2.5.0.

Pseudocolor:  (VisItException)
viewer: engine_ser: Cannot execute Python Filter Expression because VisIt was build without Python Filter support."
909,Resolved,VisIt,Bug,Normal,Fix stereo,Brad Whitlock,"",2.5,Brad Whitlock,12/09/2011,"",100,"",12/09/2011 04:27 pm,07/09/2012 08:12 pm,2 - Rare,4 - Crash / Wrong Results,2.3.2,"","",All,Any,"An external user reported that stereo worked in VisIt 2.3.2 but does not work in 2.4.0, which is after the VTK upgrade."
967,Resolved,VisIt,Feature,Normal,Extend libsim to allow user-defined communicators.,Brad Whitlock,"",2.5,Brad Whitlock,02/15/2012,"",100,"",02/15/2012 01:38 pm,07/26/2012 07:20 pm,"","","",3 - Medium,2 - Rare,All,Any,"Simulations often have several different MPI communicators. VisIt creates a duplicate of MPI_COMM_WORLD and uses that in all of its communication operations. Libsim users would like to be able to tell VisIt to use a specific communicator. This means extending libsim but it is not clear whether there are broader implications for VisIt's use of MPI.

For example, rank 0 in the global communicator is the only processor ever connected to the viewer. Suppose the libsim user passes a communicator to VisIt that does not include rank 0, there could be issues talking to the viewer."
978,Resolved,VisIt,Bug,Normal,VCell database reader creates intermediate static libraries,Brad Whitlock,"",2.5,Brad Whitlock,02/23/2012,"",100,"",02/23/2012 12:48 pm,03/01/2012 08:22 pm,3 - Occasional,3 - Major Irritation,2.4.0,"","",All,Any,"The VCell reader is creating 3 intermediate static libraries and then linking them into the VCell plugin .so's. This is not allowed on newer Linux versions and it's surprising that we have not run into problems with it before. The reader should be changed so it includes the library sources into the plugin directly instead of creating static libraries that then get linked.

Here is a report of the problem from an external user:

Note that linking static libraries into shared libraries (aka partial linking, convenience libraries) is not supported by CMake, they would prefer that you use the source files directly, then CMake will figure out whether to compile them twice (with and without -fPIC).

This problem has shown up again in the VCellMTMD reader. The sources for the ""convenience libraries"" ExpressionParser, zip, and unzip should just be included directly to avoid

Linking CXX shared library ../../plugins/databases/libEVCellMTMDDatabase_par.so
/usr/bin/ld: ../../lib/libExpressionParser.a(Expression.cpp.o): relocation R_X86_64_32 against `std::cout' can not be used when making a shared object; recompile with -fPIC
../../lib/libExpressionParser.a: could not read symbols: Bad value
collect2: ld returned 1 exit status
make[2]: *** [plugins/databases/libEVCellMTMDDatabase_par.so] Error 1
make[1]: *** [databases/VCellMTMD/CMakeFiles/EVCellMTMDDatabase_par.dir/all] Error 2

Also, why is it necessary to unconditionally bundle zip and unzip with this reader instead of being able to link a system version?"
1004,Resolved,VisIt,Bug,Normal,Slicing polyhedral cells from EnSight data causes VisIt to crash after a long time,Brad Whitlock,"",2.5,Brad Whitlock,03/28/2012,"",100,"",03/28/2012 05:34 pm,04/11/2012 06:45 pm,2 - Rare,4 - Crash / Wrong Results,2.4.2,"","",All,Any,"Jean Favre reported that VisIt is unable to slice VTK_POLYHEDRON zones coming from an EnSight file. What ends up happening is that it appears to hang and ultimately crashes. This came up also in #907. 

Here is Jean's stack and we own the vtkSlicer code. I'm currently in there for double-precision work.

This is the trace I was able to find, after doing a control-C to break the infinite loop. Slicing hangs at 42% stage 9/19.

#0  0x00007ffff315f3b4 in vtkUnstructuredGrid::DecomposeAPolyhedronCell(long long, long long*, long long&, vtkCellArray*, vtkIdTypeArray*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#1  0x00007ffff315fe26 in vtkUnstructuredGrid::InsertNextCell(int, long long, long long*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#2  0x00007ffff40c0837 in vtkSlicer::UnstructuredGridExecute() () from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvisit_vtk.so
#3  0x00007ffff312d336 in vtkSource::ProcessRequest(vtkInformation*, vtkInformationVector**, vtkInformationVector*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#4  0x00007ffff2fcc004 in vtkExecutive::CallAlgorithm(vtkInformation*, int, vtkInformationVector**, vtkInformationVector*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#5  0x00007ffff2fbf8ac in vtkDemandDrivenPipeline::ExecuteData(vtkInformation*, vtkInformationVector**, vtkInformationVector*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#6  0x00007ffff2fc28cd in vtkDemandDrivenPipeline::ProcessRequest(vtkInformation*, vtkInformationVector**, vtkInformationVector*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#7  0x00007ffff313414c in vtkStreamingDemandDrivenPipeline::ProcessRequest(vtkInformation*, vtkInformationVector**, vtkInformationVector*) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#8  0x00007ffff2fc13f7 in vtkDemandDrivenPipeline::UpdateData(int) () from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#9  0x00007ffff3135955 in vtkStreamingDemandDrivenPipeline::Update(int) () from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#10 0x00007ffff312c959 in vtkSource::Update() () from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libvtkFiltering.so.5.8
#11 0x00007fffe8e03005 in avtSliceFilter::ExecuteData(vtkDataSet*, int, std::string) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/plugins/operators/libESliceOperator_ser.so
#12 0x00007ffff76a41a2 in avtDataTreeIterator::ExecuteDataTree(vtkDataSet*, int, std::string) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libavtpipeline_ser.so
#13 0x00007ffff76b2080 in avtSIMODataTreeIterator::Execute(ref_ptr<avtDataTree>) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libavtpipeline_ser.so
#14 0x00007ffff76b1e38 in avtSIMODataTreeIterator::Execute(ref_ptr<avtDataTree>) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libavtpipeline_ser.so
#15 0x00007ffff76b1e38 in avtSIMODataTreeIterator::Execute(ref_ptr<avtDataTree>) ()
   from /local/apps/VisIt/2.5.0/2.5.0b/linux-x86_64/lib/libavtpipeline_ser.so
"
1011,Resolved,VisIt,Bug,Normal,Rename VisIt's GLEW library.,Brad Whitlock,"",2.5,Brad Whitlock,04/03/2012,"",100,"",04/03/2012 02:49 pm,04/11/2012 07:00 pm,2 - Rare,3 - Major Irritation,2.4.2,"","",All,Any,"An external user compiling VisIt on Ubuntu ran into a situation where /usr/lib/libGLEW.so was being linked to VisIt. That version of libGLEW did not have all of the GL functions as ours does; it only had the GL extensions and that caused linking errors.

We can rename our libGLEW to libvisitGLEW to avoid these problems in the future.

I think the only files that would need to change are:
src/CMake/FindGLEW.cmake
src/third_party_builtin/glew/CMakeLists.txt
"
1013,Resolved,VisIt,Bug,Normal,PersistentParticles operator can't be applied to Mesh plots.,Brad Whitlock,"",2.5,Brad Whitlock,04/04/2012,"",100,"",04/04/2012 06:43 pm,04/11/2012 06:45 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",All,Any,"The PersistentParticles operator is written to assume that the pipeline will have an active variable. An exception is thrown if this condition is violated and the exception is caught way up in the engine, which causes the engine to quit."
1029,Resolved,VisIt,Bug,Normal,Vis window initially black instead of proper background color.,Brad Whitlock,"",2.5,Brad Whitlock,04/17/2012,"",100,"",04/17/2012 06:31 pm,05/07/2012 01:58 pm,4 - Common,1 - Not Serious,2.4.0,"","",Windows,Any,"Since the upgrade to VTK 5.8, the vis window on Windows systems appears as black until you force it to draw. We should put a render in there to make sure that the vis window appears with the right background color."
1052,Resolved,VisIt,Bug,Normal,VisIt crashes on rzalastor.,Brad Whitlock,"",2.5,Brad Whitlock,05/11/2012,"",0,"",05/11/2012 06:10 pm,05/18/2012 05:53 pm,4 - Common,5 - Very Serious,2.4.2,"","",All,Any,"VisIt crashes on rzalastor. We built with chaos4 libraries and chaos5 libraries and both crash.

rzalastor2{whitlocb}35: visit
Running: gui2.4.2
Running: viewer2.4.2 -host 127.0.0.1 -port 5600 -geometry 1516x1178+404+0 -borders 22,0,0,0 -shift 100,100 -preshift -100,-78 -defer
Running: mdserver2.4.2 -host 127.0.0.1 -port 5601
VisIt's viewer exited abnormally! Aborting the Graphical User Interface. VisIt's developers may be reached via the visit-users mailing list.  Please see:
        http://visit.llnl.gov/FAQ.html#1
"
929,Resolved,VisIt,Bug,Normal,Text titles get truncated on last character.,Brad Whitlock,"",2.4.2,Brad Whitlock,01/05/2012,"",100,"",01/05/2012 05:01 pm,02/27/2012 02:20 pm,4 - Common,3 - Major Irritation,2.4.0,"","",All,Any,"If you look at the database title in the vis window, it often truncates the text on the last letter. A user reported text being truncated when he attempted to set a custom Y axis title for a 2D plot. This has to be due to our VTK upgrade and the problem is likely down in the VTK text mapper."
950,Resolved,VisIt,Feature,Normal,Add new arguments to visit -movie.,Brad Whitlock,"",2.4.2,Brad Whitlock,02/02/2012,"",100,"",02/02/2012 02:29 pm,02/10/2012 07:57 pm,"","","",3 - Medium,3 - Occasional,All,Any,"The visit -movie command provides a -sessionfile argument that lets you set up the visualization that you'll use to make a movie. Users would like to use the session file as a template for other data files. However, in order to do this, the script will need an additional argument that lets users pass the names of new data files. If that argument is given then we'll use RestoreSessionWithSources instead of RestoreSession.

The users would also like another flag that will cause the view to be recentered. This will let them use the same session file to look at files that have different spatial extents."
966,Resolved,VisIt,Bug,Normal,Possible memory leak in GMV reader,Brad Whitlock,"",2.4.2,Brad Whitlock,02/15/2012,"",100,"",02/15/2012 12:27 pm,02/22/2012 12:56 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.0,"","",All,Any,Terry Jordan reported that he was saving a movie of some GMV data and eventually the engine would crash. He didn't indicate which plots or operators but it's worth checking the GMV reader for leaks at a minimum.
973,Resolved,VisIt,Bug,Normal,Cylinder operator is broken.,Brad Whitlock,"",2.4.2,Brad Whitlock,02/22/2012,"",100,"",02/22/2012 12:55 pm,02/22/2012 01:14 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.0,"","",All,Any,"Setting the Cylinder operator's endpoints does not actually produce a cylinder with the desired endpoints. This must be a result of the VTK upgrade.

Set the endpoints to the following on a plot of noise.silo to see what I mean:

Endpoint1 0 0 0
Endpoint2 0 0 50
Radius 2.5"
983,Resolved,VisIt,Feature,Normal,Add --server-components-only and --engine-only flags to build_visit.,Brad Whitlock,"",2.4.2,Brad Whitlock,02/27/2012,"",100,"",02/27/2012 02:08 pm,02/29/2012 08:40 pm,"","","",3 - Medium,2 - Rare,All,Any,VisIt's CMake build has a flag called VISIT_SERVER_COMPONENTS_ONLY that enables the user to skip building the gui/cli/viewer and only build the server components. Also there's a VISIT_ENGINE_ONLY flag. Expose these to build_visit so users can only build the back end components.
912,Resolved,VisIt,Feature,Normal,Enhance Dyna3D reader to support new style of header.,Brad Whitlock,"",2.4.1,Brad Whitlock,12/14/2011,"",100,"",12/14/2011 12:44 pm,01/03/2012 01:18 pm,"","","",3 - Medium,3 - Occasional,All,Any,The header section of Dyna3D files has changed to a new format. We should enhance our reader to also support the new format.
913,Resolved,VisIt,Bug,Normal,Fix up the STL reader.,Brad Whitlock,"",2.4.1,Brad Whitlock,12/14/2011,"",100,"",12/14/2011 02:19 pm,01/27/2012 01:55 pm,2 - Rare,3 - Major Irritation,2.4.0,"","",All,Any,"The STL reader is using an ancient VTK class to read the STL files. Delete that file and use the one in vktIO!

A user reported that his file didn't look right in VisIt. Guess what program rendered it fine.
"
916,Resolved,VisIt,Bug,Normal,SimV2 reader ifdef's out support for array variables.,Brad Whitlock,"",2.4.1,Brad Whitlock,12/15/2011,"",100,"",12/15/2011 04:59 pm,01/03/2012 01:21 pm,2 - Rare,2 - Minor Irritation,2.4.0,"","",All,Any,"Libsim allows users to supply array variables to VisIt. However, in the SimV2 reader, array variable support is ifdef'd out to prevent array variables from being returned in the metadata. It seems like we could safely enable array variables in the SimV2 reader though it should be tested too."
918,Resolved,VisIt,Feature,Normal,Enhance libsim variable metadata so variables can be hidden in the gui.,Brad Whitlock,"",2.4.1,Brad Whitlock,12/15/2011,"",100,"",12/15/2011 07:12 pm,01/03/2012 01:20 pm,"","","",2 - Low,2 - Rare,All,Any,Enhance libsim variable metadata so variables can be hidden in the gui. This capability exists in VisIt's regular metadata but it does not exist in the libsim-exposed version of the metadata. We can expose it.
931,Resolved,VisIt,Bug,Normal,Changing Pseudocolor point type to Point/Sphere doesn't take immediate effect.,Brad Whitlock,"",2.4.1,Brad Whitlock,01/09/2012,"",100,"",01/09/2012 01:47 pm,01/24/2012 08:20 pm,2 - Rare,2 - Minor Irritation,2.4.0,"","",All,Any,"If you change the point type to ""Sphere"" from ""Point"", it won't take effect immediately unless you also set the point size. Switch back to ""Point"" and, again, it won't do anything until you change the point size."
395,Resolved,VisIt,Feature,Normal,Add --fortran build_visit option to enable fortran bindings in 3rd party libraries when they are available.,Mark Miller,"",2.4,Brad Whitlock,09/20/2010,"",100,3.0,09/20/2010 12:10 pm,08/03/2011 01:16 pm,"","","",2 - Low,3 - Occasional,All,Any,"Add --fortran build_visit option to enable fortran bindings in 3rd party libraries when they are available. This was requested by an external user. Another user also wanted an option to enable C++ bindings when available. I think this affects Silo, NETCDF, hdf5. There may be others.

I think the guy that wanted this should do the work."
807,Resolved,VisIt,Bug,Normal,CGNS files cannot be grouped.,Brad Whitlock,"",2.4,Brad Whitlock,08/09/2011,"",100,"",08/09/2011 03:02 pm,10/13/2011 02:25 pm,2 - Rare,4 - Crash / Wrong Results,2.3.0,"","",All,Any,"When files are grouped, PopulateDatabaseMetaData gets skipped for later time steps for readers that are not ""time varying"". This means that the setup step gets skipped and GetVar and GetMesh are called without prior initialization and they fail.


>> As a test case, I've done 2000 copies of simple CGNS file
>> (from cgnslib code examples). After that, I've tried to open the
>> database with these 2000 files in VisIt. Without success:
>> 
>> 
>> The metadata server running on host localhost has exited abnormally.
>> VisIt is trying to restart it.
>> 
>> Shortly thereafter, the following occured...
>> 
>> VisIt was unable to open
>> ""/home/beaver/workspace/tmp-visit/cgns/grid_*.cgns database"".  Each
>> attempt to open it caused VisIt's metadata server to crash.  This can
>> occur when the file is corrupted, or when the underlying file format has
>> changed and VisIt's readers have not been updated yet, or when the
>> reader VisIt is using for your file format is not robust.  Please check
>> whether the file is corrupted and, if not, contact a VisIt developer.
>> 
>> 
>> However each cgns file separately can be plotted successfully.
>> 
>> If to decrease the amount of files in a database (for ex. 3 files),
>> VisIt would
>> be able to open that database and to plot the data from the first file.
>> But if
>> to shift the slider to the other cycle, this would cause the following
>> error
>> (I've plotted the mesh for ""Zone__1""):
>> 
>> 
>> The Mesh plot of variable ""Zone__1"" yielded no data.
>> 
>> 
>> The mesh for that file could be plotted after pressing the ""reopen"" button,
>> but each moving of the time slider causes the same problems again.


"
816,Resolved,VisIt,Bug,Normal,Cannot create CQ selection based on Parallel Coordinates plot.,Brad Whitlock,"",2.4,Brad Whitlock,08/16/2011,"",100,"",08/16/2011 04:51 pm,09/09/2011 08:16 pm,2 - Rare,3 - Major Irritation,2.3.0,"","",All,Any,"1. Open DATA3D.h5part
2. Make Parallel Coordinates trapped, v_par, v_perp, wt, id
3. Click Draw
4. Open Axis selection tool
5. Set min value for trapped to 0.6 using axis restriction tool
6. Set min value for v_perp to 4.5 using a.r. tool
7. Set min value for wt to 0 using a.r. tool
8. Set window layout 1x2
9. Add Pseudocolor wt and Draw
10. Set active window 1
11. Open Selections window
12. Create new selection based on plot
13. Turn on Cumulative query
14. Click on ""Get variable ranges"". <---  unchecks CQ button.
15. Recheck CQ button
16. Clickc apply.

Nothing happens. The selection does not get executed. The problem is that the selection gets created by the plot and the CQ code does not get executed. The result is that we get a bunch of empty histograms.

"
819,Resolved,VisIt,Bug,Normal,Selections need to send expression list to the engine sometimes.,Brad Whitlock,"",2.4,Brad Whitlock,08/17/2011,"",100,"",08/17/2011 05:13 pm,08/22/2011 12:45 pm,3 - Occasional,2 - Minor Irritation,2.3.0,"","",All,Any,"1. Open DATA3D.h5part and set its open options to turn off Fastbit
2. Pseudocolor wt and Draw
3. Create selection1 against database
4. Make CQ
5. Add trapped variable and Update Selection.
6. Set trapped min to 0.5 and Update Selection.
<this gives about 114K cells in the stats>
7. Add v_perp variable and set min to 0.0045
8. Update Selection
<this results 17 cells>
9. Make expression trapped_state_change = abs(trapped-conn_cmfe(<[1]id:trapped>, particles))
10. Go back to the selection and remove the variables
11. Add trapped_state_change as a variable
12. Update Selections

Nothing happens because the trapped_state_change expression is unknown in the
engine. If we make a plot of trapped_state_change before step 11 then it works.
The resulting selection will contain all cells.

Note: mine originally would not redo the selection until I created a new
      selection based on trapped_state_change.

"
893,Resolved,VisIt,Bug,Normal,Mac bundle can't save movies because it can't start the CLI.,Brad Whitlock,"",2.4,Brad Whitlock,11/11/2011,"",100,"",11/11/2011 03:06 pm,11/18/2011 01:57 pm,3 - Occasional,3 - Major Irritation,trunk,"","",OSX,Any,"I made a Mac bundle for the 2.4.0 release with the intent of making it be the new mode of distribution for Mac. I ironed out some issues but here's one more. VisIt can't save movies because it can't start the cli. I get this error when I try using the VisIt.app bundle on my desktop.

VisIt could not connect to the new client /Users/whitlock2/Desktop//bin/visit.

The ""//"" in the path should contain ""Contents/Resources"" in order to activate the visit script.

I don't want to release a bundle until this is fixed."
825,Resolved,VisIt,Bug,Normal,Invalid data limits when plotting a variable with InverseGhostZones operator.,Brad Whitlock,"",2.3.2,Brad Whitlock,08/18/2011,"",100,2.0,08/18/2011 06:21 pm,09/22/2011 05:00 pm,2 - Rare,4 - Crash / Wrong Results,2.3.0,"","",All,Any,"1. Open tmp_data2d.hdf5
2. Create a Pseudocolor plot of component_0
3. Set the limits to use the actual plot's data instead of original
4. Add an InverseGhostZone operator
4. Click Draw

The limits in the legend will be min=1,max=1. That would be correct for all of the real values but the ghost zones in this file all have -1 for their values. Running -dump reveals that all of the data in the resulting VTK files contains -1's.

Where are these bogus 1's coming from? Is the operator not invalidating extents?"
373,Resolved,VisIt,Bug,Normal,Crash when volume rendering operators/DataBinning/3D/Mesh,Brad Whitlock,"",2.3,Brad Whitlock,08/31/2010,"",0,"",08/31/2010 04:34 pm,06/22/2011 01:57 pm,3 - Occasional,4 - Crash / Wrong Results,trunk,"","",All,Any,"1. Open noise.silo
2. Create a Volume plot of operators/DataBinning/3D/Mesh
3. Set DataBinning operator atts so variables 1,2,3 are: hardyglobal,radial,gradient_magnitude. Set the reduction operation to Count.
4. Click Draw

The viewer will crash in the splatting volume renderer (if you're using splatting).
With 3D texturing, the view will be bad so no plot. No crash though. There's an exception in the engine if you try using the software VR.

My guess is that spatial extents are not created for the output mesh made by DataBinning."
381,Resolved,VisIt,Feature,Normal,Enhance VisIt so it can connect to remote machines through an intermediate machine.,Eric Brugger,"",2.3,Brad Whitlock,09/09/2010,"",100,16.0,09/09/2010 04:04 pm,05/25/2011 12:54 pm,"","","",3 - Medium,3 - Occasional,All,Any,"HPC centers often only allow connections to their compute clusters through trusted login machines. Often, this will mean that there is an ssh machine to which outside users connect and from there, they ssh again to the login node of the compute cluster. We've had requests to make it easier to deal with this type of network setup.

I suppose that vcl could run as usual on the ssh machine, tunneling connections back to the viewer on the client's local machine. Then that vcl would launch another vcl on the login node via ssh and that vcl would actually launch the mdserver and engine. Maybe this could be represented by having composite hostnames with a delimiter such as host1,host2,... Such a host name would tell VisIt to first launch vcl on host1 and then from there on host2 and so on. Once vcl is launched where it needs to go and it tunnels connections back through the various layers back to the viewer, it should be possible to just send commands that ultimately end up at the farthest vcl where the components would actually be launched. Of course, I don't know how to handle multiple ssh stages that require different accounts/passwords. That might be common as well."
442,Resolved,VisIt,Bug,Normal,PickByNode query over time doesn't seem to allow multiple variables,Kathleen Biagas,"",2.3,Brad Whitlock,10/22/2010,"",0,40.0,10/22/2010 04:06 pm,03/03/2011 05:12 pm,2 - Rare,3 - Major Irritation,2.1.0,"","",All,Any,"PickByNode query over time doesn't seem to allow multiple variables. Hank Shay wanted to do several queries over time to investigate the behavior of a node so I told him to do a query over time of PickByNode. I tried in my office to use multiple variables since that's what Hank wanted but it didn't seem to work. One variable at a time worked okay.

1. Open wave*.silo database
2. Make a Pseudocolor plot of pressure
3. Draw
4. Make expression Y = coords(quadmesh)[1]
5. Open Query window and do PickByNode for node 17119, an exterior node near the middle of the dataset.
6. Click Time Curve. Since we only used ""default"", it worked fine.
7. Use the Variables button to append variable Y so we have ""default Y"" in the text field
8. Click time curve again.

ERROR: VisIt was unable to determine the variable type for localhost:/Users/whitlock2/data/wave/wave*.silo database's  variable.

9. Change the variables to just Y.
10. Click Time Curve

Now it works fine. It looks like time curve can only do one variable."
455,Resolved,VisIt,Feature,Normal,"Implement ""cumulative query"" selections",Brad Whitlock,"",2.3,Brad Whitlock,10/29/2010,"",70,50.0,10/29/2010 02:55 pm,06/16/2011 12:29 pm,"","","",3 - Medium,3 - Occasional,All,DOE/SciDAC,"A ""cumulative query"" selection is a selection over time. Implement as described at http://www.visitusers.org/index.php?title=Selections"
479,Resolved,VisIt,Feature,Normal,Add Python bindings for libsim,Brad Whitlock,"",2.3,Brad Whitlock,11/17/2010,"",100,16.0,11/17/2010 01:40 pm,03/25/2011 03:39 pm,"","","",3 - Medium,3 - Occasional,All,Any,A user at SC10 wanted Python bindings for libsim. That seems like a good thing to have.
672,Resolved,VisIt,Feature,Normal,Add platform id to the executable download page on VisIt web site.,Eric Brugger,"",2.3,Brad Whitlock,03/31/2011,"",100,2.0,03/31/2011 12:43 pm,06/23/2011 03:28 pm,"","","",3 - Medium,3 - Occasional,All,Any,"We often have users downloading the wrong binary distribution and then they get confused when they run VisIt and it errors out with a warning like ""Could not find linux-intel version"". I know that some recent improvements were made to the VisIt launcher script that tells it what architectures were installed to help shed some light on the fact that the user installed the wrong version.

I think it might be helpful to include more information on the executables download page that tells the user which binary they need to download for their platform. This might take different forms but listing the VisIt platform id (linux-intel, linux-x86_64, darwin-i386, darwin-x86_64) and so on might help. It might help even more if we provided a small script that would identify which binary they need to download. Not sure which binary you need? This script will tell you. Even better This mainly comes up with the selecting 32 vs 64 bit Linux binaries.

I think that the best solution would be to put in some java script into the web page that can identify the user's OS based on the browser properties. See http://www.quirksmode.org/js/detect.html"
676,Resolved,VisIt,Bug,Normal,Scalar tree information messages printed to console,Eric Brugger,"",2.3,Brad Whitlock,04/04/2011,"",100,1.0,04/04/2011 07:48 pm,05/18/2011 12:28 pm,2 - Rare,1 - Not Serious,2.2.0,"","",All,Any,"I opened the CThead_mid.silo dataset and did a Contour plot with a ThreeSlice operator. I noticed a bunch of messages printed to the console. Maybe they should go to debug5.


[dantooine:~] whitlock2% visit -np 2 -o ~/data/CThead_mid.silo
Running: gui2.2.2 -clobber_vlogs -o /Users/whitlock2/data/CThead_mid.silo -launchengine localhost -engineargs ;-np;2
Running: viewer2.2.2 -host 127.0.0.1 -port 5600 -clobber_vlogs -engineargs ;-np;2 -geometry 1506x1173+414+2 -borders 20,0,0,1 -shift 0,0 -preshift 0,0 -defer -launchengine localhost
Running: mdserver2.2.2 -host 127.0.0.1 -port 5601 -clobber_vlogs
Running: mpirun -np 2 /Users/whitlock2/visit/2.2.2/darwin-x86_64/bin/engine_par -host dantooine.llnl.gov -port 5600 -clobber_vlogs -noloopback -plugindir :/Users/whitlock2/.visit/darwin-x86_64/plugins:/Users/whitlock2/visit/2.2.2/darwin-x86_64/plugins -visithome /Users/whitlock2/visit/2.2.2 -visitarchhome /Users/whitlock2/visit/2.2.2/darwin-x86_64
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
Cannot cache SCALAR_TREE for head because dependencies were not satisfied.
This is an informational message, not an error.
"
720,Resolved,VisIt,Bug,Normal,Change file association for .silo on Windows from Silex to VisIt,Kathleen Biagas,"",2.3,Brad Whitlock,05/19/2011,"",0,0.5,05/19/2011 06:59 am,05/26/2011 02:42 pm,3 - Occasional,2 - Minor Irritation,2.2.2,"","",Windows,Any,I don't like that Silex is the default viewer for Silo files on Windows. I want to be able to double-click Silo files and run VisIt -- not Silex. The association used to be for VisIt.
725,Resolved,VisIt,Bug,Normal,Engine crash with time curve of Volume query when material selection is used.,Brad Whitlock,"",2.3,Brad Whitlock,05/23/2011,"",100,"",05/23/2011 06:21 pm,06/01/2011 03:56 am,3 - Occasional,4 - Crash / Wrong Results,2.2.2,"","",Windows,Any,"This issue came up during the VisIt class at ARL. It may be Windows-specific but I don't know at this time.

1. Open wave*.silo database
2. Create a Pseudocolor plot of pressure
3. Turn off materials 1 and 3
4. Execute a Volume query using the ""query over time"" button in the Query window

The engine crashed reliably. When materials are not turned off, the crash does not happen."
733,Resolved,VisIt,Bug,Normal,Data Comparison wizard produces invalid expression for difference variables containing '/'.,Brad Whitlock,"",2.3,Brad Whitlock,06/01/2011,"",100,"",06/01/2011 03:46 am,06/01/2011 09:33 pm,2 - Rare,2 - Minor Irritation,2.2.2,"","",All,Any,"1. Open dbA00.pdb
2. Open dbB00.pdb
3. Open Data Level Comparison wizard
4. Target dbA00.pdb with mesh
5. Donor dbB00.pdb with field mesh/nummm
6. Use connectivity-based CMFE
7. Choose to difference the expression using another variable and use mesh/ireg.

You'll get an expression using conn_cmfe(...) - mesh/ireg

Note that the mesh/ireg expression should be placed in <> to make it work. We need to fix the wizard."
734,Resolved,VisIt,Bug,Normal,CMFE has problems on Windows due to inclusion of drive letters in path,Brad Whitlock,"",2.3,Brad Whitlock,06/01/2011,"",0,"",06/01/2011 03:50 am,06/01/2011 09:32 pm,4 - Common,3 - Major Irritation,2.2.2,"","",Windows,Any,CMFE expressions place the entire path to a file in the expression <C:\path\to\file:var>. Note that the C:\ on Windows seems to interfere with the expression grammar. Perhaps C:\ is not recognized as part of the path. Variables seem to be defined as file:var when maybe they also should accept drive:\file:var to let things work on Windows.
735,Resolved,VisIt,Feature,Normal,Change Windows installer so right-click movie options on session files generate MPEG.,Brad Whitlock,"",2.3,Brad Whitlock,06/01/2011,"",100,"",06/01/2011 03:52 am,06/10/2011 01:12 am,"","","",2 - Low,3 - Occasional,Windows,Any,The Windows installer sets up shortcuts for session files that let you generate movies by right-clicking on them. These shortcuts originally created TIFFs and still do. That no longer is a very good choice. We should change the shortcuts to produce MPEG movies.
659,Resolved,VisIt,Bug,Normal,Single user installation of Windows binaries produces wrong shortcuts on desktop.,Kathleen Biagas,"",2.2.2,Brad Whitlock,03/23/2011,"",0,"",03/23/2011 01:10 pm,04/04/2011 06:33 pm,2 - Rare,3 - Major Irritation,2.2.0,"","",Windows,Any,"I just installed a 32-bit windows version of VisIt 2.2.1 on 32-bit WinXP downloaded from here: https://wci.llnl.gov/codes/visit/2.2.1/visit2.2.1.exe <https://wci.llnl.gov/codes/visit/2.2.1/visit2.2.1.exe> 
 
After I chose a â€œSingle  user(Username)â€ installation option the installation process proceeds flawlessly. The program is then installed in C:\Documents and Settings\Username\Local Settings\Application Data\Programs\LLNL\VisIt 2.2.1 directory.
 
However the shortcuts created on desktop and in the start menu are not working. They point to ""c:\Program Files\LLNL\VisIt 2.2.1"" as they would if I were to choose â€œAll usersâ€ option instead of â€œSingle user(Username)â€.
 
I think this is a bug, and it should be fixed. Thanks a lot.
 
--
Sincerely,
Misha Sekachev
JICS/NICS"
661,Resolved,VisIt,Bug,Normal,Time curves of Min and Max queries do not contain valid values.,Brad Whitlock,"",2.2.2,Brad Whitlock,03/24/2011,"",100,"",03/24/2011 02:08 pm,03/24/2011 02:17 pm,3 - Occasional,4 - Crash / Wrong Results,2.2.0,"","",All,Any,"This was reported by 2 LLNL users.

Reproducer:
1. Open dbA00.pdb
2. Create a Pseudocolor plot of mesh/nummm
3. Do a Time curve of the Min or Max query

The values are all set to FLT_MAX"
443,Resolved,VisIt,Feature,Normal,Give 64-bit Mac different platform name so both 32-bit and 64-bit versions can be installed.,Brad Whitlock,"",2.2.1,Brad Whitlock,10/22/2010,"",0,"",10/22/2010 04:27 pm,01/28/2011 01:24 pm,"","","",3 - Medium,3 - Occasional,All,Any,"We have a collection of 32-bit and 64-bit Macs. We'd like them to each get their best version of VisIt from /usr/gapps/visit. This requires that both versions get installed with a different platform name. Currently both use darwin-i386 for the platform name. Maybe the 64-bit version should use darwin-x86_64. 

This change requires that we update build_visit, internallauncher, CMake build, ""check for updates"". There might be more that I'm forgetting."
562,Resolved,VisIt,Feature,Normal,Add support for using Fortran sources in plugins.,Brad Whitlock,"",2.2.1,Brad Whitlock,01/19/2011,"",100,"",01/19/2011 02:26 pm,02/23/2011 08:08 pm,"","","",3 - Medium,2 - Rare,All,Any,"This is a simple enhancement to xml2cmake. We just need to make sure that when we see sources with .f, .f77, .f90 (case-insensitive and maybe some others) file extensions that we add ENABLE_LANGUAGE(Fortran) to the generated CMakeLists.txt file. Without that line, cmake will not compile the Fortran sources."
572,Resolved,VisIt,Bug,Normal,3D axis labels do not show enough precision in some cases.,Kathleen Biagas,"",2.2.1,Brad Whitlock,01/26/2011,"",0,2.0,01/26/2011 03:24 pm,02/09/2011 02:21 pm,3 - Occasional,2 - Minor Irritation,2.1.2,"","",All,Any,"Katie Boyle reported that her dataset was not shown with enough precision in the X,Y axis labels in 3D.

Here's how to reproduce with noise.silo:
1. Open noise.silo
2. Add a Pseudocolor plot of hardyglobal.
3. Add a Transform operator 
4. Set scaling to x=0.05, y=0.05
5. Set translation to x=0.5, y=0.5
6. Add another Transform operator and turn off ""Apply operators to all plots""
7. Set scaling to x=0.05, y=0.08, z=0.003
8. Set translation to x=-122.85, y=38.75

The resulting plot should show ""123."" for all X labels and ""38."" for all Y labels. Should it do better?

When I play with some annotation settings, I can get the labels to look better. 
1. Turn off ""Auto scale label values"" in the Annotation window's 3D->General 3D tab
2. Set the X and Y label ""Scaling (x10^?)"" value to 1 and then back to 0, applying each time

If I turn on ""Auto scale label values"" again, the labels remain more accurate. I'd say the 3D axes are not being regenerated often enough since some of these settings don't cause them to change once they've changed."
630,Resolved,VisIt,Bug,Normal,node_degree expression only works on 3D cell types,Brad Whitlock,"",2.2.1,Brad Whitlock,02/23/2011,"",100,"",02/23/2011 07:35 pm,02/24/2011 02:58 am,3 - Occasional,3 - Major Irritation,2.1.2,"","",All,Any,"Brian McCandless was using node_degree on a 2D unstructured mesh and was unable to get it to work. It always threw ImproperUseException and he wasted a lot of time trying to get it to work. It turns out that the expression is not implemented for triangles and quads.

I have data at alastor:~whitlocb/BrianMcCandless."
438,Resolved,VisIt,Bug,Normal,visit2_1_0.linux-x86_64-rhel4.tar.gz lacks the Xdmf plugin.,Jeremy Meredith,"",2.2,Brad Whitlock,10/20/2010,"",0,"",10/20/2010 05:54 pm,01/27/2011 05:52 pm,3 - Occasional,2 - Minor Irritation,2.1.0,"","",Linux,Any,"According to a forum user, the visit2_1_0.linux-x86_64-rhel4.tar.gz distribution lacks the Xdmf reader. It doesn't look like this distribution is created at LLNL since ""grep rhel"" in visit-build-open doesn't turn up results. This is mainly a note to whoever builds that distribution that they need to compile libXdmf.
"
445,Resolved,VisIt,Feature,Normal,Add GMV reader for VisIt,Brad Whitlock,"",2.2,Brad Whitlock,10/22/2010,"",0,"",10/22/2010 04:41 pm,10/28/2010 05:12 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Terry Jordan of DOE/NETL has requested a GMV reader for VisIt. Apparently, the LLC that now owns GMV has also expressed interest. Terry sent Brad some data files."
497,Resolved,VisIt,Feature,Normal,Port libsim to Windows,Brad Whitlock,"",2.2,Brad Whitlock,12/01/2010,"",100,"",12/01/2010 02:51 pm,01/18/2011 02:41 am,"","","",4 - High,3 - Occasional,Windows,Any,Port SimV2 to Windows so VisIt can connect to a running Ale3D on Windows.
502,Resolved,VisIt,Bug,Normal,Engine crashes when plotting a Curve plot when -dump is on,Kathleen Biagas,"",2.2,Brad Whitlock,12/06/2010,"",0,2.0,12/06/2010 07:37 pm,12/14/2010 07:54 pm,1 - Exceptional,4 - Crash / Wrong Results,2.1.0,"","",All,Any,"I tried plotting a Curve plot of a file containing a parabola x=[-10,10] and when I used -dump, the engine would crash. Without -dump there is no crash. This happened using 2.1 through the trunk on a Mac and on Linux."
522,Resolved,VisIt,Bug,Normal,H5Part plugin does not build with Fastbit support on Mac,Gunther Weber,"",2.2,Brad Whitlock,12/17/2010,"",0,"",12/17/2010 04:40 pm,01/14/2011 08:04 pm,2 - Rare,3 - Major Irritation,2.1.2,"","",OSX,DOE/SciDAC,"I recently rebuilt all my libraries using build_visit --all-io. This built support for Fastbit. When I build VisIt itself, the build fails in H5Part reader due to array_t type problems.

/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:154: error: â€˜array_tâ€™ was not declared in this scope
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:154: error: expected primary-expression before â€˜>â€™ token
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:154: error: â€˜arrâ€™ was not declared in this scope
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:155: error: expected primary-expression before â€˜constâ€™
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:155: error: ISO C++ forbids initialization of member â€˜getPointValuesâ€™
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:155: error: making â€˜getPointValuesâ€™ static
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:155: error: ISO C++ forbids in-class initialization of non-const static member â€˜getPointValuesâ€™
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:155: error: expected `;' before â€˜constâ€™
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:155: error: template declaration of â€˜int H5_FQ_Variable::getPointValuesâ€™
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:156: error: ISO C++ forbids declaration of â€˜array_tâ€™ with no type
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:156: error: â€˜array_tâ€™ declared as a â€˜virtualâ€™ field
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:156: error: expected â€˜;â€™ before â€˜<â€™ token
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:157: error: ISO C++ forbids declaration of â€˜array_tâ€™ with no type
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:157: error: â€˜array_tâ€™ declared as a â€˜virtualâ€™ field
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:157: error: expected â€˜;â€™ before â€˜<â€™ token
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:158: error: ISO C++ forbids declaration of â€˜array_tâ€™ with no type
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:158: error: â€˜array_tâ€™ declared as a â€˜virtualâ€™ field
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:158: error: expected â€˜;â€™ before â€˜<â€™ token
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:159: error: ISO C++ forbids declaration of â€˜array_tâ€™ with no type
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:159: error: â€˜array_tâ€™ declared as a â€˜virtualâ€™ field
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:159: error: expected â€˜;â€™ before â€˜<â€™ token
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:160: error: ISO C++ forbids declaration of â€˜array_tâ€™ with no type
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:160: error: â€˜array_tâ€™ declared as a â€˜virtualâ€™ field
/Users/whitlock2/Development/2.1RC_trunk/src/databases/H5Part/timestep.h:160: error: expected â€˜;â€™ before â€˜<â€™ token
make[2]: *** [databases/H5Part/CMakeFiles/EH5PartDatabase_par.dir/H5PartCommonPluginInfo.C.o] Error 1
make[1]: *** [databases/H5Part/CMakeFiles/EH5PartDatabase_par.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
"
525,Resolved,VisIt,Bug,High,Building the engine with IceT support breaks in-situ support in parallel.,Brad Whitlock,"",2.2,Brad Whitlock,12/28/2010,"",0,"",12/28/2010 01:49 pm,01/14/2011 01:34 am,3 - Occasional,5 - Very Serious,2.1.1,"","",All,Any,"Matt O'Brien was unable to use libsim in parallel at LC. When I examined the logs, libsim was unable to load the engine runtime because of an unresolved dependency on IceT and the IceT network manager class. We need to put the IceT network manager into the engine runtime library instead of in the engine_par executable so in-situ will work in parallel when IceT support is enabled.

Calling dlopen(/usr/gapps/visit/2.1.1/linux-x86_64/lib/libsimV2runtime_par.so)
dlopen error: /usr/gapps/visit/2.1.1/linux-x86_64/lib/libengine_par.so: undefined symbol: ICET_STRATEGY_REDUCE
"
528,Resolved,VisIt,Bug,Normal,When optimized libraries were rebuilt they were not built on sidious.,Mark Miller,"",2.2,Brad Whitlock,12/29/2010,"",0,"",12/29/2010 06:46 pm,01/05/2011 06:55 pm,3 - Occasional,2 - Minor Irritation,2.0.1,"","",Linux,DOE/ASC,Run build_visit on sidious to generate new optimized libraries in /usr/gapps/visit/thirdparty_shared so sidious is not a doorstop.
529,Resolved,VisIt,Bug,Normal,Rebuild ice-t at LC so it has -fPIC,Eric Brugger,"",2.2,Brad Whitlock,12/29/2010,"",100,3.0,12/29/2010 06:49 pm,01/13/2011 02:27 pm,3 - Occasional,2 - Minor Irritation,2.0.1,"","",All,Any,"I built the trunk on aztec and it points to ice-t 1.0.0. I need to change how the engine is linked so that libengine_par is linked with ice-t so the engine runtime can be loaded into a simulation. This is currently broken because we're linking ice-t into the engine executable only. When I tried linking to the ice-t pointed to by the config-site file, I got link failures and the linker suggested I rebuild ice-t with -fPIC. The new build_visit seems to use -fPIC as far as I can tell.

Where did icet 1.0.0 come from? It's not in the repo. The newest there is icet 0.5.4."
558,Resolved,VisIt,Bug,Urgent,Having double-precision coordinates in a simulation's mesh is somehow crashing VisIt.,Brad Whitlock,"",2.2,Brad Whitlock,01/14/2011,"",0,"",01/14/2011 02:08 am,01/14/2011 04:52 am,3 - Occasional,4 - Crash / Wrong Results,2.1.0,"","",All,Any,"I've experienced some weird crashes when using VisIt 2.2b at LC with simulations that have double-precision coordinates. Usually in totalview, I end up with a stack I do not understand. I was able to get a stack today implicating transform manager. It turns out that my sim did have double coordinates for a rectilinear grid. Jin reported a similar failure once for ale3d and I had worked around it in a different way.

When I changed my coordinates back to float, the sim did not crash.

I'm thinking for now I should do double->float conversion in the SimV2 reader just to be safe. Another thing I could try is to make sure a DB plugin returns double coordinates to see what VisIt does."
560,Resolved,VisIt,Bug,Normal,Java client hangs in synchronization.,Brad Whitlock,"",2.2,Brad Whitlock,01/14/2011,"",0,"",01/14/2011 01:16 pm,01/25/2011 12:28 pm,3 - Occasional,4 - Crash / Wrong Results,2.0.1,"","",All,Any,"On the trunk, the Java client is hanging in synchronization. There are some users who are interested in using the Java client now so it needs to work.

Maybe we look at removing 2nd thread socket readback.

"
439,Resolved,VisIt,Bug,Normal,Parallel msub/srun engines fail to launch when VisIt is started from directory that lacks write permissions,Eric Brugger,"",2.1.2,Brad Whitlock,10/20/2010,"",100,6.0,10/20/2010 06:40 pm,11/17/2010 04:21 pm,2 - Rare,3 - Major Irritation,2.1.0,"","",Linux,Any,"Andy Cook reported to me that he could not launch VisIt on LLNL's prism but it worked yesterday (Oct 19, 2010). When I had him start VisIt in his home directory, he was able to get nodes. I was able to reproduce the failure like this:

1. cd
2. mkdir visit_test
3. chmod 500 visit_test
4. cd visit_test
5. visit
6. Open a data file and choose a profile that requires msub/srun like prism. The engine appears to start but it quits before connecting to the viewer.

A way to debug this would be to build a debug version of VisIt and run the engine directly under totalview with -reverse_launch to make it start the rest of VisIt. Set the environment, etc that VisIt would want before running under totalview:

Running: msub -v LIBPATH=/usr/gapps/visit/2.1.0/linux-x86_64/lib,LD_LIBRARY_PATH=/usr/gapps/visit/2.1.0/linux-x86_64/lib:/usr/local/tools/mvapich-gnu/lib/shared:/usr/local/lib,VISITHOME=/usr/gapps/visit/2.1.0,VISITARCHHOME=/usr/gapps/visit/2.1.0/linux-x86_64,VISITPLUGINDIR=:/g/g19/whitlocb/.visit/linux-x86_64/plugins:/usr/gapps/visit/2.1.0/linux-x86_64/plugins -l nodes=4:ppn=2 -l walltime=30:00 -q pbatch -A bdivp cd /g/g19/whitlocb/test_visit
 ulimit -c 0
    srun -n 8 ""/usr/gapps/visit/2.1.0/linux-x86_64/bin/engine_par -host prism1.llnl.gov -port 5600 -dir /usr/gapps/visit -noloopback -forcestatic -timeout 480 -key 75bbe984479d38d1a10f
""
 "
456,Resolved,VisIt,Bug,High,Viswindow intialization causes crash when using VisIt in-situ from ale3d,Brad Whitlock,"",2.1.2,Brad Whitlock,10/29/2010,"",0,"",10/29/2010 07:28 pm,12/08/2010 01:04 pm,2 - Rare,4 - Crash / Wrong Results,2.1.0,"","",All,Any,"The creation of plane tool geometry causes a crash when VisIt is used in ale3d to plot a mesh of in-situ data.

I commented out all code in the engine to make a vis window, returning immediately from SetWindowAttributes and SetAnnotAtts and I was able to get the mesh to plot. This leads me to believe that either there is an error in the plane tool code or something about loading VisIt into Ale3D causes that code to misbehave and ultimately crash.

Look for memory errors in the plane tool initialization.

Does the engine really need to create the vis window before it ever does an SR? It seems wasteful and causes a crash in this case."
475,Resolved,VisIt,Bug,Normal,Crash with saving movie based on movie templates.,Brad Whitlock,"",2.1.2,Brad Whitlock,11/11/2010,"",0,"",11/11/2010 03:25 pm,11/11/2010 07:14 pm,3 - Occasional,4 - Crash / Wrong Results,2.1.0,"","",All,Any,"I ran into a crash when playing with some movie templates.

1. Run visit
2. Open the Save movie wizard
3. Select template movie, use existing template
4. Use the 1st template -- the curve 2D one
5. Don't enter any filenames on the 2 next pages
6. Go through the rest of the wizard

Movie generation will fail. That's fine.

7. Go to step 2 and repeat

VisIt will crash around step 5."
476,Resolved,VisIt,Bug,Normal,Movie wizard showing wrong pages sometimes,Cyrus Harrison,"",2.1.2,Brad Whitlock,11/11/2010,"",0,"",11/11/2010 07:21 pm,12/01/2010 06:58 pm,2 - Rare,3 - Major Irritation,2.1.0,"","",All,DOE/SciDAC,"1. Open the movie wizard
2. Choose ""edit existing template"", click continue
3. Choose the Curve Overlay 2D template, click continue
4. You should be on the viewports page, click continue
5. You should be on the sequences page, click continue

At this point, you should be on the first dynamic page of the movie template (loaded from a UI file). Instead, the ""Save movie template"" page is erroneously shown. The dynamic pages should come first.
"
490,Resolved,VisIt,Bug,High,Simulation window loses a sim's command buttons,Brad Whitlock,"",2.1.2,Brad Whitlock,11/18/2010,"",0,"",11/23/2010 11:49 am,12/08/2010 01:06 pm,3 - Occasional,3 - Major Irritation,2.1.0,"","",All,Any,"Jean Favre reported that the Simulation window is losing his simulation's command buttons very frequently. This means that the window clears out the text on the command buttons so commands won't work. Jean reported that this happens sometimes on 2.1.1 but very frequently using 2.2b.

I don't see this happen much on a Mac but I'll try 2.2 and then 2.2 on different platforms to see if I can reproduce the problem.

Brad:
I cloned this from 486, which I had resolved thinking it was fixed by changes I made to the simulation window. Jean reports that the problem remains and seems to happen only for parallel simulations. He said that updateplots_par and life_par exhibit the problem. So far, I am unable to reproduce."
505,Resolved,VisIt,Bug,Normal,Uncaught exceptions in VisIt gui.,Brad Whitlock,"",2.1.2,Brad Whitlock,12/08/2010,"",0,"",12/08/2010 01:32 pm,12/13/2010 02:15 pm,3 - Occasional,4 - Crash / Wrong Results,2.0.1,"","",All,Any,"A user reported that he was able to get VisIt's gui to exit due to exceptions. The culprit is using FileServerList::GetMetaData from tons of locations and not catching exceptions. GetSIL causes the same problem.

We either need to catch the exceptions within those routines and return NULL or add exception handling code to the functions that use GetMetaData/GetSIL.


> With 2.1.1, I keep occasionally having instances where my VisIt will
> partially die with a message about a Qt exception having occurred.  I
> then have to control-C out of the program and restart it.  I haven't
> reported this, since I did not have a clear reproducer, but now I do.  I
> will attach some logs - let me know if you want others or a run with
> different debugging.  I am running a downloaded executable with a local
> gui and a remote engine.
> 
> In the attached case, the failure occurs when I move the time slider
> from the last good file (chk_0032) to a bad file (chk_0033), which is an
> HDF5 FLASH file, which was only partially written when the simulation
> timed out.  So you might well say ""Well then don't do that!"", but I am
> thinking that, while this should have failed, it should have perhaps
> gone down more gracefully...
> 
> Thanks,
>    Andy S.
> 
> solia-48-~>/net/aes/MISC/visit/bin/visit -debug 5
> Running: gui2.1.1 -debug 5
> Running: viewer2.1.1 -host 127.0.0.1 -port 5600 -debug 5 -geometry
> 1227x927+453+71 -borders 26,4,4,4 -shift 0,0 -preshift 4,26 -defer
> Running: mdserver2.1.1 -host 127.0.0.1 -port 5601 -debug 5
> as543@bulldogk.wss.yale.edu's password:
> Running: vcl2.1.1 -host localhost -port 31738 -debug 5 -dir visit -dir
> visit -noloopback -sshtunneling
> Running: mdserver2.1.1 -host localhost -port 23385 -dir visit -debug 5
> -noloopback -sshtunneling
> Running: engine_ser2.1.1 -host localhost -port 20247 -dir visit -debug 5
> -noloopback -sshtunneling
> Running: cli2.1.1 -host 127.0.0.1 -port 5600 -reverse_launch -debug 5
> Qt has caught an exception thrown from an event handler. Throwing
> exceptions from an event handler is not supported in Qt. You must
> reimplement QApplication::notify() and catch all exceptions there."
168,Resolved,VisIt,Bug,Normal,VisItLibraryDependencies.cmake contains paths valid only on local computer,Brad Whitlock,"",2.1.1,Brad Whitlock,06/22/2010,"",0,"",06/22/2010 12:07 pm,10/29/2010 08:06 pm,3 - Occasional,3 - Major Irritation,2.0.0,"","",OSX,Any,"I built the Mac version of VisIt 2.0.1 and I installed it. I noticed that the installed VisItLibraryDependencies.cmake file contained paths that were valid only for my local computer. The entire paths were specified to the Qt framework directories where maybe it should have instead been QtGui.framework without the leading path. I suspect that there could be instances of /usr/gapps making it into this file on Linux platforms too.

This file will only affect users building a plot or operator plugin against an installed version of VisIt and that's rare."
386,Resolved,VisIt,Bug,Normal,Movie templates are broken,Brad Whitlock,"",2.1.1,Brad Whitlock,09/13/2010,"",100,"",09/13/2010 07:25 pm,09/13/2010 07:42 pm,2 - Rare,3 - Major Irritation,2.0.2,"","",All,Any,"A user reported that movie templates are broken. I tested using a side by side viewport and it's true. Upon closer inspection of logs, it would appear that recent changes to save strings to XML files with quotes around them is the culprit."
407,Resolved,VisIt,Bug,Normal,Help text wrong for Python function SetOperatorOptions,Mark Miller,"",2.1.1,Brad Whitlock,09/28/2010,"",0,0.2,09/28/2010 01:53 pm,10/26/2010 07:28 pm,2 - Rare,1 - Not Serious,2.0.2,"","",All,Any,"The help text is wrong for the SetOperatorOptions function. The ""Oi"" case is not for (atts,all) as indicated in the help text. The ""Oi"" case is now for (atts,activeIndex) where activeIndex is an index used to identify the ith operator on the plot."
280,Resolved,VisIt,Bug,Normal,Transform operator resets attributes for wrong plot,Brad Whitlock,"",2.0.2,Brad Whitlock,07/14/2010,"",100,1.0,07/14/2010 06:14 pm,07/14/2010 06:31 pm,3 - Occasional,2 - Minor Irritation,2.0.0,"","",All,Any,"The Transform operator window resets the transform attributes. I suspect a slot function is being called as a result of updating the windowâ€™s widgets.

1. Open noise.silo 
2. Add a contour plot 
3. Add a mesh plot 
4. Add a pseudocolor plot 
5. Turn off â€œApply operatorsâ€ and â€œselection to all plotsâ€ 
6. Select the contour plot and apply a Transform operator 
7. Make sure autoupdate is enabled 
8. Open the Transform operator atts window 
9. Turn on translation and translate in Y by 20 and Apply 
10. Select the mesh plot. Youâ€™ll get prompted for whether you want to apply a Transform operator â€” this is wrong. Click no. 
11. Select the pseudocolot plot. Notice that the Transform attributes windowâ€™s translate reverts to the defaults. This is appropriate. 
12. Select the Contour plot. The default transform attributes will be applied to the Contour plot, making it be drawn inside the other plots. THIS IS WRONG!
"
956,Resolved,VisIt,Feature,Normal,Increase Label plot maximum string length.,Kathleen Biagas,"",3.0,Brad Whitlock,09/18/2015,09/18/2015,100,"",02/06/2012 03:12 pm,04/04/2018 10:07 pm,"","",2.12.1,2 - Low,3 - Occasional,All,Any,"The Label plot is set to show a maximum length of 36 for labels, by default. That limit gets adjusted depending on the type of variable being plotted. Unfortunately, the code that adjusts the max string length sets the string length to 13 * the number of components, leading to a lower than desired max string length. The hard-coded 13 should be upped to accommodate higher precision format strings (1.16e). Replace the 13 with at least 25.

This issue will be more relevant when VisIt supports double precision all the way through the pipeline."
1005,Pending,VisIt,Feature,Normal,Create MPI+threads version of VisIt,"","",3.0,Brad Whitlock,03/28/2012,04/01/2013,0,"",03/28/2012 05:47 pm,04/05/2012 08:09 pm,"","","",5 - Very High,4 - Common,All,DOE/SciDAC,"VisIt currently assigns different domains to MPI tasks. With increasing core counts and shrinking memory per core on the largest computers, VisIt will need to transition to a model where work will be distributed among a smaller number of MPI tasks and each task will have multiple threads to keep its cores occupied.

There are number of strategies that might work but in the end what we want is VisIt such that it can be built serial, with threads, with MPI, and MPI+threads.

MPI+threads will pay off the best for the large computers, while threaded-only VisIt might be something we can put out as binary distributions for computers that don't have MPI (multicore desktops). 

There are some in situ concerns that might come into play. For example, we might want to be able to tell the contract when it can do threading.

This work will be performed by SDAV."
1460,Pending,VisIt,Bug,Normal,Better support for system Python.,"","",3.0,Brad Whitlock,05/14/2013,"",0,"",05/14/2013 07:46 pm,08/28/2014 12:14 pm,2 - Rare,3 - Major Irritation,2.6.2,"","",All,Any,"Apparently, we still have some wrinkles with how we use Python. This time it's when someone builds against their system Python.

Hi,

I just built VisIt trunk using my system python and noticed that while
everything else works, trying to start the CLI I get the message
Running: cli2.7.0b
ImportError: No module named site

I was able to track the problem down to line 2236-2238 in
internallauncher which sets PYTHONHOME to the non-existent directory
<visitlibdir>/python
Commenting those lines makes the CLI work as expected.
I am installing VisIt using 'make install' so apologies if that is not
the recommended way, however could that be fixed somehow?

Cheers,
Cihan
"
2372,Pending,VisIt,Bug,Normal,VTK patches in bv_vtk.sh,"","",3.0,Brad Whitlock,08/31/2015,"",0,"",08/31/2015 05:42 pm,09/22/2015 06:41 pm,3 - Occasional,4 - Crash / Wrong Results,2.8.2,"","",All,Any,"Why are there a ton of VTK patches in bv_vtk.sh again? Aren't changes to VTK supposed to be migrated back to Kitware now?
"
2574,Pending,VisIt,Bug,Normal,Some windows are far too tall to be used on Windows laptops with lower res screens.,Kathleen Biagas,"",3.0,Brad Whitlock,03/31/2016,"",0,"",03/31/2016 09:50 am,04/05/2016 06:48 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",All,Any,"Some windows are too tall, making it very challenging to use them as their Apply/Dismiss are off of the screen.

Pick
Streamline

There are probably others but those are the ones I ran into recently."
3112,Resolved,VisIt,Bug,Normal,Viewer window turns black on certain expose and mouse events.,Kevin Griffin,"",3.0,Brad Whitlock,05/16/2018,"",100,"",05/16/2018 07:34 pm,05/17/2018 05:26 pm,3 - Occasional,3 - Major Irritation,2.12.3,"","",OSX,Any,"I've built the trunk and ran VisIt using Qt 5.6.1 on a Mac running OSX 10.12.6. I'm running with a white background, the VisIt default. This is new since some VTK/Qt changes for Mac.

1. Run VisIt and open noise.silo
2. Add a Pseudocolor plot of hardyglobal

This makes a new plot in the plot list. The menu from the GUI overdrew the viewer window and when the viewer window exposed it turned black.

3. Click the draw button.

The plot appears as expected.

4. Click in the viewer window and navigate a little
5. Carefully move the mouse into the toolbar towards the perspective on/off icon

The window turns black again

6. If I navigate a little, the window looks right. Trying step 5 again leads to black.
7. When I click the perspective on/off button a few times, I can see a black flash

"
3023,Pending,VisIt,Bug,Normal,Crash recovery session file for Subset plot saves a ton of colors.,"","",2.13.3,Brad Whitlock,02/27/2018,"",0,"",02/27/2018 05:59 pm,05/10/2018 08:32 pm,3 - Occasional,2 - Minor Irritation,2.12.3,"","",All,Any,"I was running VisIt with a dataset that had 130K domains and I made a Subset plot of domains. Things were taking a long time so VisIt saved out a crash recovery session file with 130K colors in the Subset plot attributes, which was sloooow. We might consider capping the subset plot colors at some small number of saving color differences only. This was with the multicolor mode. The files were 190Mb of XML."
3024,Pending,VisIt,Bug,Normal,Limit Subset plot legend items to 100-200 items.,Mark Miller,"",2.13.3,Brad Whitlock,02/27/2018,"",0,"",02/27/2018 06:03 pm,05/10/2018 08:32 pm,3 - Occasional,2 - Minor Irritation,2.12.3,"","",All,Any,The Subset plot for my 130K dataset was creating a legend that included separately allocated text actors for each of the 130K domain name labels. This took a ton of memory. Change the AVT legends to limit their number of text actors to 100-200 actors (or smaller) so we don't create actors for names that can't possibly make it to the screen.
3025,Pending,VisIt,Feature,Normal,Change plots so their legends and annotations are never created unless they are rendering locally.,"","",2.13.3,Brad Whitlock,02/27/2018,"",0,"",02/27/2018 06:06 pm,05/10/2018 08:26 pm,"","",2.12.3,3 - Medium,3 - Occasional,All,Any,"The avtSubset plot creates a ton of text actors in its legend when given a dataset with a large number of domains (130K). We need to modify plots so they don't create these legends, etc on the viewer when we're doing SR mode so we limit resource usage."
3026,Pending,VisIt,Bug,Normal,Change multicolor data storage for ColorControlPointList state object.,"","",2.13.3,Brad Whitlock,02/27/2018,"",0,"",02/27/2018 06:20 pm,05/10/2018 08:33 pm,3 - Occasional,2 - Minor Irritation,2.12.3,"","",All,Any,"This state object is used for plots such as Subset. Internally, it stores colors as a vector of ColorAttribute objects. For Subset on datasets with large numbers of domains (130K), this is a bad way to represent colors (too many small memory allocations). We should rethink the object's internal representation so it:
* Can allocate memory in a large block.
* Maybe only stores differences from the typical repeated implicit color pattern.
* Just store differences to the implicit color pattern in the session files and configs."
3104,Pending,VisIt,Bug,Normal,GUI is not showing scalar variables for blueprint file.,Mark Miller,"",2.13.3,Brad Whitlock,05/15/2018,"",50,"",05/15/2018 01:43 am,06/12/2018 12:26 pm,4 - Common,5 - Very Serious,2.12.3,"","",All,Any,"When I open the attached blueprint root file using VisIt on the trunk, the scalar variables do not show up in the Pseudocolor menu and I can't plot the variables. The file information shows that there are scalars on the mesh.

When I open this file in VisIt 2.13RC, the scalars show up fine in the Pseudocolor plot menu and I can make a plot."
364,Pending,VisIt,Bug,Normal,Crash with query over time,Kathleen Biagas,"","",Brad Whitlock,08/25/2010,"",10,"",08/25/2010 07:00 pm,04/04/2012 11:23 am,3 - Occasional,4 - Crash / Wrong Results,2.0.2,"","",All,Any,"There's sort of 2 parts to this. The first is a crash:

1. Open wave.visit
2. Add a Pseudocolor plot of pressure and draw
3. Do a VariableSum query over time
4. Pick on the generated curve to see that it works
5. Go back to window 1 and change time steps
6. Pick on the generated curve again in window 2. The engine will crash!

I was doing these exercises to inspect peaks in my VariableSum vs time curve plots. I'd pick a peak and then I'd go to that time step to see what data caused the peak. It worked one time and then on the 2nd pick, the engine would crash.

When the engine restarts, it can't pick on the data since it doesn't know about the curve results. That's a separate issue but it would be nice if the query was redone automatically.

Here's the GDB stack:

pure virtual method called
terminate called without an active exception

Program received signal SIGABRT, Aborted.
0x00007fff8057f3d6 in __kill ()
(gdb) where
#0  0x00007fff8057f3d6 in __kill ()
#1  0x00007fff8061f972 in abort ()
#2  0x00007fff834cc5d2 in __gnu_cxx::__verbose_terminate_handler ()
#3  0x00007fff834caae1 in __cxxabiv1::__terminate ()
#4  0x00007fff834cab16 in std::terminate ()
#5  0x00007fff834cafd6 in __cxa_pure_virtual ()
#6  0x0000000102db95be in avtDataObject::GetOriginatingSource (this=<value temporarily unavailable, due to optimizations>) at /Users/whitlock2/Development/Selections/src/avt/Pipeline/Data/avtDataObject.C:183
#7  0x0000000102e11284 in avtFilter::GetOriginatingSource (this=<value temporarily unavailable, due to optimizations>) at /Users/whitlock2/Development/Selections/src/avt/Pipeline/AbstractFilters/avtFilter.C:456
#8  0x0000000102db95be in avtDataObject::GetOriginatingSource (this=<value temporarily unavailable, due to optimizations>) at /Users/whitlock2/Development/Selections/src/avt/Pipeline/Data/avtDataObject.C:183
#9  0x0000000102e11284 in avtFilter::GetOriginatingSource (this=<value temporarily unavailable, due to optimizations>) at /Users/whitlock2/Development/Selections/src/avt/Pipeline/AbstractFilters/avtFilter.C:456
#10 0x0000000102db95be in avtDataObject::GetOriginatingSource (this=<value temporarily unavailable, due to optimizations>) at /Users/whitlock2/Development/Selections/src/avt/Pipeline/Data/avtDataObject.C:183
#11 0x000000010029667e in avtCurvePickQuery::Execute (this=0x10c03d800, inDS=0x106012dd0, dom=-1) at /Users/whitlock2/Development/Selections/src/avt/Queries/Pick/avtCurvePickQuery.C:213
#12 0x000000010028dd69 in avtDatasetQuery::Execute (this=0x10c03d800, inDT=@0x7fff5fbfd040) at /Users/whitlock2/Development/Selections/src/avt/Queries/Abstract/avtDatasetQuery.C:264
#13 0x000000010028eab8 in ~ref_ptr [inlined] () at /Users/whitlock2/Development/Selections/src/avt/Queries/Abstract/avtDatasetQuery.C:175
#14 0x000000010028eab8 in ~ref_ptr [inlined] () at /Users/whitlock2/Development/Selections/src/common/utility/ref_ptr.h:132
#15 0x000000010028eab8 in avtDatasetQuery::PerformQuery (this=0x10c03d800, qA=0x7fff5fbfd170) at /Users/whitlock2/Development/Selections/src/avt/Queries/Abstract/avtDatasetQuery.C:175
#16 0x0000000100052fab in NetworkManager::Pick (this=0x104503230, id=<value temporarily unavailable, due to optimizations>, winId=1, pa=0x106801398) at /Users/whitlock2/Development/Selections/src/engine/main/NetworkManager.C:3507
#17 0x000000010002cf7d in RPCExecutor<PickRPC>::Execute (this=<value temporarily unavailable, due to optimizations>, rpc=0x106801000) at Executors.h:651
#18 0x00000001035a366d in Subject::Notify (this=0x106801028) at /Users/whitlock2/Development/Selections/src/common/state/Subject.C:193
#19 0x00000001034bdb05 in AttributeSubject::Notify (this=0x106801000) at /Users/whitlock2/Development/Selections/src/common/state/AttributeSubject.C:99
#20 0x00000001035c68ed in Xfer::Process (this=0x1045010d0) at /Users/whitlock2/Development/Selections/src/common/state/Xfer.C:420
#21 0x00000001000316cb in Engine::EventLoop (this=0x104500d10) at /Users/whitlock2/Development/Selections/src/engine/main/Engine.C:1593
#22 0x0000000100010c05 in main (argc=4, argv=0x7fff5fbfd7a8) at /Users/whitlock2/Development/Selections/src/engine/main/main.C:314
"
375,Resolved,VisIt,Bug,Normal,"Crash when calling Launch() after ""from visit import *"" in Python","","","",Brad Whitlock,09/01/2010,"",0,"",09/01/2010 06:10 pm,09/01/2010 06:41 pm,3 - Occasional,4 - Crash / Wrong Results,2.0.1,"","",All,Any,"I was trying to launch VisIt from a Python interpreter and it crashed when I called Launch() to launch the viewer. The viewer came up and Python died immediately. I found this happens in installed versions (2.0.x) of VisIt as well.

import sys
sys.path.append(""/path/to/visit/trunk/src/lib"")
from visit import *
Launch()

The above code crashes in the VisIt module's initvisit2 function getting a module dictionary.

This works fine:
import sys
sys.path.append(""/path/to/visit/trunk/src/lib"")
import visit
visit.Launch()"
384,Pending,VisIt,Bug,Normal,Axes use incorrect values for Pseudocolor+Elevate and Surface plots.,Eric Brugger,"","",Brad Whitlock,09/13/2010,"",0,"",09/13/2010 02:55 pm,09/21/2011 04:17 pm,3 - Occasional,3 - Major Irritation,2.0.0,"","",All,Any,"An external user complained that the Surface plot used the incorrect values to label its Z axis. I told him to try Pseudocolor+Elevate instead. When I tried that myself, it looked okay until I used ""Elevation height relative to XY limits"". It makes sense. That option scales the Z values until the data are roughly cube-shaped. The Surface plot exhibits this more easily since it always seems to use the ""Elevation height relative to XY limits"" feature internally.

I think the solution here is for the rendering to scale the plot into a cube shape while still labeling the axes with their untransformed values -- another reason to have 3D fullframe.

1. Open Noise.silo
2. Surface plot of hgslice
The Z-axis shows bad values that don't match the numbers in the plot legend.

1. Open noise.silo
2. Pseudocolor plot of hgslice
3. Add Elevate operator
4. Draw -- it looks okay (though a little squashed since our rendering assumes same units for all axes)
5. Turn on ""Elevation height relative to XY limits"" -- the Z axis shows the wrong values."
440,Pending,VisIt,Feature,Normal,Add option to turn off message window,"","","",Brad Whitlock,10/20/2010,"",0,"",10/20/2010 07:08 pm,11/03/2010 01:25 pm,"","","",1 - Very Low,2 - Rare,All,Any,"A user wants an option to turn off the message window so he never sees it again. This option should exist in the Preferences window. Also add a ""never show again"" button the Message window itself that would turn off messages and save that setting into the guiconfig."
444,Pending,VisIt,Feature,Normal,Add jet machine to visit-build-open/visit-install-open scripts.,Brad Whitlock,"","",Brad Whitlock,10/22/2010,"",0,"",10/22/2010 04:33 pm,11/03/2010 01:23 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Jet is Steve Langer's AX desktop machine. It's fairly new, 64-bit and has MPI. Brad has an account on it. Once we set up config-site for it, maybe Eric could get an account on it. If Eric had an account on it, we could use it as a build platform for automatically installing on AX network's /usr/gapps by adding jet into the visit-build-open and visit-install-open scripts."
461,Pending,VisIt,Feature,Normal,Add PlainText export,"","","",Brad Whitlock,11/02/2010,"",0,"",11/02/2010 05:30 pm,11/15/2010 04:04 pm,"","","",2 - Low,2 - Rare,All,Any,"I needed to export data that I indexselect'd down to a small size so I could plot it as a 2D bar graph in Excel. I ended up having to write a script that used pick to extract 25x25 values that I wrote to a text file. It would have been far nicer to use the PlainText plugin to export the data as a text file in spreadsheet form.  Hmm. I guess I could have used the Spreadsheet plot instead... Still, this would be a nice feature."
462,Pending,VisIt,Feature,Normal,"Add a ""wall"" option to the Elevate operator","","","",Brad Whitlock,11/02/2010,"",0,"",11/02/2010 05:35 pm,11/15/2010 04:03 pm,"","","",2 - Low,2 - Rare,All,Any,The Elevate operator currently displaces the nodes in the Z direction and makes an unstructured mesh that contains the surface. This is good but I'd also like an option for cell-centered data to elevate each 2d cell according to its height and then create additional wall quads/tris that bridge the vertical gap down to the adjacent cell (think walls on a skyscraper). I could have used VisIt instead of Excel if we had this feature.
480,Pending,VisIt,Feature,Normal,Investigate adding Java bindings for libsim.,Brad Whitlock,"","",Brad Whitlock,11/17/2010,"",0,16.0,11/17/2010 01:43 pm,09/22/2011 11:36 am,"","","",3 - Medium,3 - Occasional,All,Any,"A VisIt user at the SC10 tutorial asked about using libsim from within a Java application. I know there is a mechanism for Java calling C that could be used.


Using Babel might be appropriate for this. We'd generate descriptions of the libsim C functions that we provide and then Babel could generate Java bindings and probably Python bindings. I don't know whether such code-genning would introduce other dependencies."
481,Pending,VisIt,Bug,Normal,"Changes for ""Getting Data Into VisIt"" manual",Brad Whitlock,"","",Brad Whitlock,11/17/2010,"",0,1.0,11/17/2010 01:49 pm,12/01/2010 02:55 pm,2 - Rare,3 - Major Irritation,2.0.0,"","",All,Any,"A user reported 2 problems with the ""Getting Data Into VisIt"" manual.

Figure 4-4 shows example ""Default file name patterns"" like ""nc ndf"".  My DataBase plugin would always attempt to use the wrong reader unless I prefix this with a wildcard ""*.nc *.ndf"". 

Section 4.3 on ""Opening your file"" cautions against opening a file in the reader constructor.  The documentation implies that the constructor must throw an exception if the file format cannot be read  (grep for ""the constructor must throw an InvalidDBTypeException exception"").  However, at the SC10 VisIt tutorial, I learned that this exception can be thrown in the PopulateDatabaseMetaData.  It might be helpful to state this more explicitly in the manual. "
486,Resolved,VisIt,Bug,High,Simulation window loses a sim's command buttons,"","","",Brad Whitlock,11/18/2010,"",0,"",11/18/2010 01:41 pm,11/19/2010 03:54 pm,3 - Occasional,3 - Major Irritation,2.1.0,"","",All,Any,"Jean Favre reported that the Simulation window is losing his simulation's command buttons very frequently. This means that the window clears out the text on the command buttons so commands won't work. Jean reported that this happens sometimes on 2.1.1 but very frequently using 2.2b.

I don't see this happen much on a Mac but I'll try 2.2 and then 2.2 on different platforms to see if I can reproduce the problem."
501,Developer Review,VisIt,Bug,Normal,Inconsistent numbering in selected files list and plot list,"","","",Brad Whitlock,12/06/2010,"",0,"",12/06/2010 02:43 pm,12/08/2010 12:32 pm,2 - Rare,2 - Minor Irritation,2.0.1,"","",All,Any,"Hello,
This is probably similar to the bug that I reported earlier here:
https://email.ornl.gov/mailman/htdig/visit-users/2008-June/000331.html

The summary: when I have multiple database selected, the numbering in 
the ""Selected Files"" and ""Active Plots"" are not consistent with each other. 
However this only happen with in certain situation; I suspect it has 
something to do with the naming of directory where I put the files. 

Here are simple steps to reproduce the problem:
1. Create two directory ""output"" and ""output-1""

2. Put a SILO file into those directory (I think it doesn't matter what the 
file is, it could be the same file). Let's suppose the file is example.silo

3. From VisIt, select ""output/example.silo"" and ""output-1/example.silo"" only

4. Open the first one, and plot something. Here you should see that the number 
on the ""Active Plots"" doesn't match the number on the ""Selected File""

5. Click on the the second one (it should be output-1/example.silo), hit 
Overlay. Now the the another plot shows up on the ""Active Plots"", but the 
number is wrong.

Attached is a screenshot of my VisIt when this happen. On the screenshot, I 
display the full filename name also in the Pseudocolor legend to be clear. 
You'll see that the Pseudocolor legend filename and ""Selected Files"" are 
consistent, but not the ""Active Plots"" (i.e. the numbering in the Active 
Plots is a mismatch).

Thanks.
RDB
-- 
Reuben D. Budiardja
Dept. Physics and Astronomy
University of Tennessee, Knoxville, TN
"
504,Pending,VisIt,Bug,Normal,Setting custom titles in annotation window does not rescale annotation height immediately,Eric Brugger,"","",Brad Whitlock,12/08/2010,"",0,"",12/08/2010 12:23 pm,09/21/2011 04:19 pm,3 - Occasional,2 - Minor Irritation,2.0.1,"","",All,Any,"1. Open bigsil.silo
2. Add a Pseudocolor plot of dist and Draw it
3. Change the view so that you can better see all axes
4. Open the Annotation window
5. On the 3D tab, set all axis titles so they use the ""custom title"" and set
   the titles to X, Y, Z, respectively and apply.
6. Look at the axis titles in the vis window and notice how the fonts stay 
   the same size but the ""-Axis"" part of the label is gone.
7. For the Z-axis, set its font scale to 0.5 and apply

The perceived problem now is that all of the axis titles get resized that
the X and Y labels are large than the Z label, making the user think that
setting the Z label had an effect on the X and Y labels.

The real problem is that the titles determine their default height based on
the width of the string used to set the title. This makes short strings have
taller default heights than longer strings. By setting the titles to short
strings in #5 and not having the axes recalculate their heights then is the
problem. Had the axes recalculated their heights upon receiving new strings
then changing the font scale later would have had the desired effect.

Of course, setting font heights based on the widths of the string is not a
very good practice."
521,Pending,VisIt,Bug,Normal,Update VisIt Getting Started manual,Eric Brugger,"","",Brad Whitlock,12/16/2010,"",0,"",12/16/2010 01:16 pm,09/21/2011 04:19 pm,3 - Occasional,2 - Minor Irritation,2.0.1,"","",All,Any,"Update the Getting Started Manual so it is in sync with the current version of VisIt. We can worry about OpenOffice translation later.

E-mail from user:

I was wondering when you were going to update the VisIt getting started
manual.  I tried following it a while back and found that there were
inconsistencies with the latest version of VisIt.

Roger Martz, LANL
"
627,Pending,VisIt,Feature,Normal,Add extra SSH arguments field to machine profile,"","","",Brad Whitlock,02/23/2011,"",0,"",02/23/2011 04:53 pm,03/02/2011 07:02 pm,"","","",2 - Low,2 - Rare,All,Any,Add extra SSH arguments field to machine profile so we can pass extra arguments more easily to the SSH process that is used to launch VCL on remote machines.
629,Pending,VisIt,Feature,Normal,Add support for ghost cells in the CGNS reader.,"","","",Brad Whitlock,02/23/2011,"",0,"",02/23/2011 05:53 pm,03/02/2011 07:01 pm,"","","",2 - Low,2 - Rare,All,Any,"External users of the CGNS reader have inquired whether VisIt can make use of CGNS' ""rind"" cells. These are ghost zones. Our reader could be enhanced to use rind information for creating ghost zones.

Maybe ""overset holes"" could be supported too. I think those are blanked-out cells."
635,Pending,VisIt,Feature,Normal,Enhance libsim so it lets meshes provide global zone and node ids.,Brad Whitlock,"","",Brad Whitlock,02/25/2011,"",0,"",02/25/2011 12:35 pm,05/18/2011 11:50 am,"","","",3 - Medium,3 - Occasional,All,Any,Enhance libsim so it lets meshes provide global zone and node ids.
636,Pending,VisIt,Feature,Normal,Enhance libsim so it supports variables on subsets of the mesh.,"","","",Brad Whitlock,02/25/2011,"",0,"",02/25/2011 12:36 pm,09/22/2011 11:37 am,"","","",3 - Medium,3 - Occasional,All,Any,Enhance libsim so it supports variables on subsets of the mesh.
654,Pending,VisIt,Bug,Normal,Xmdv export of 2D Contour plot doesn't work ,"","","",Brad Whitlock,03/16/2011,"",0,"",03/16/2011 07:33 pm,03/31/2011 03:44 pm,2 - Rare,3 - Major Irritation,2.2.0,"","",All,DOE/ASC,"When you create a Contour plot of 2D data and export it to Xmdv, the resulting file does not contain the actual data -- just the header. Fady Najjar reported this."
660,Pending,VisIt,Bug,Normal,Non-sampled lineouts can return invalid values for unstructured grids,"","","",Brad Whitlock,03/23/2011,"",0,"",03/23/2011 07:54 pm,09/22/2011 11:34 am,3 - Occasional,4 - Crash / Wrong Results,2.2.0,"","",All,DOE/ASC,"When sampling an unstructured grid using lineout, some of the line/cell intersections are producing intersection points that are not on the line. These bad intersection points are causing peaks in the generated curve where there should be no peaks. This problem has been verified by adding code into the avtLineoutFilter::NoSampling method to write out Point3D files of the calculated intersection points. The errant points are not on the expected line when plotted in VisIt.

 In the example setup, there is a cube shaped unstructured mesh that has been rotated so its top face points towards (1,1,1). There is a field that varies linearly along the axis of mesh in the (1,1,1) direction. Taking a lineout through the mesh along that axis starting from (0,0,0) should produce a curve plot that also varies linearly. What we see instead is a curve plot that is mostly linear but there are various places along the curve with peaks that should not exist. When you turn on the curve plot's points, you can see that there are clusters of points that have been incorrectly offset in X somehow.

Data: alastor:~whitlocb/TimDunn/sptoro_001.00336

Script:
OpenDatabase(""sptoro_001.00336"")
AddPlot(""Pseudocolor"", ""zc"")
DrawPlots()

Lineout((0,0,0),(1,1.4214,1.))

"
674,Pending,VisIt,Bug,Normal,Update SimV2 SWIG Python bindings to work on Windows,"","","",Brad Whitlock,04/04/2011,"",0,"",04/04/2011 01:39 pm,05/17/2011 07:42 pm,2 - Rare,3 - Major Irritation,2.0.1,"","",All,Any,"I disabled Python SimV2 bindings on Windows after learning that they don't build due in part to SWIG generating invalid code. We can patch it up by hand to get it working on Windows -- or decide not to do it.

cl /DWIN32 /D_WINDOWS /W3 /Zm1000 /MD /O2 /Ob2 /D NDEBUG -ID:\winsame\projects\composerall\visit\sim\V2\lib -IC:\Python26\include -DpysimV2_EXPORTS -DHAVE_LIBGLEW -DHAVE_LIBSLIVR -D_USE_MATH_DEFINES -D_CRT_SECURE_NO_DEPRECATE -D_CRT_NONSTDC_NO_DEPRECATE -D_SCL_NO_DEPRECATE -D_SCL_SECURE_NO_DEPRECATE -D_CRT_SECURE_NO_WARNINGS /FoCMakeFiles\pysimV2.dir\simV2_custom.c.obj /FdD:\winsame\builds-vs9\composerall\visit\ser\lib\_simV2.pdb -c D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_custom.c

D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3420) : error C2143: syntax error : missing ';' before 'type'
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3421) : error C2143: syntax error : missing ';' before 'type'
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3422) : warning C4013: 'pylibsim_setbroadcastintfunction_data' undefined; assuming extern returning int
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3423) : error C2065: 'pylibsim_setbroadcastintfunction' : undeclared identifier
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3423) : warning C4047: '=' : 'int (__cdecl *)(int *,int)' differs in levels of indirection from 'int'
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3433) : error C2143: syntax error : missing '{' before '*'
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3445) : error C2143: syntax error : missing ';' before 'type'
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3446) : error C2143: syntax error : missing ';' before 'type'
D:\winsame\projects\composerall\visit\sim\V2\swig\python\simV2_wrap.c(3447) : warning C4013: 'pylibsim_setbroadcaststringfunction_data' undefined; assuming extern returning int"
708,Pending,VisIt,Feature,Normal,Open a session file directly using File->Open.,Brad Whitlock,"","",Brad Whitlock,05/16/2011,"",0,"",05/16/2011 02:16 pm,09/22/2011 11:38 am,"","","",3 - Medium,3 - Occasional,All,Any,"A user wants to be able to use File->Open to open a session file. This is mainly so he can use File->Open to restore a session that he saved on a remote computer. In that case, we'd need to send the file back to the viewer and translate any ""localhost"" data sources to the correct host name for the machine from which the session file was obtained."
709,Pending,VisIt,Bug,Normal,Export database window presents local file system when choosing directory.,Brad Whitlock,"","",Brad Whitlock,05/16/2011,"",0,"",05/16/2011 02:46 pm,09/22/2011 11:35 am,3 - Occasional,2 - Minor Irritation,2.2.2,"","",All,Any,"This sounds like a dup but I didn't find one. I'm entering this because a user ran into it.

1. Run client/server
2. Make a plot
3. Open the Export window and click on the ""..."" button to change directories. This will show the client's file system instead of the server's file system.

We need to show the server's file system since the server will be saving the data.

"
710,Pending,VisIt,Feature,Normal,Enhance export database to say where it exported the data.,"","","",Brad Whitlock,05/16/2011,"",0,"",05/16/2011 02:49 pm,05/17/2011 07:33 pm,"","","",2 - Low,3 - Occasional,All,Any,"The Export database functionality in VisIt just says ""Exported database"" when it writes out a file. It's usually not very obvious where the file was saved so you have to hunt around for it. It would be better if the message read: ""VisIt exported files to the /where/I/did/it directory on host"". "
719,Pending,VisIt,Feature,Normal,Enhance Open File Dialog on Windows to be aware of more system locations,Kathleen Biagas,"","",Brad Whitlock,05/18/2011,"",0,24.0,05/18/2011 11:24 pm,04/04/2012 11:23 am,"","","",4 - High,4 - Common,Windows,Any,"The Windows file system provides various shortcuts such as Computer, Desktop, Downloads, Libraries/Documents, Libraries/Pictures, etc. These map to various real folders under your home directory or elsewhere. I'd like to be able to browse to them easily within VisIt. I'm especially interestd in Desktop.

If I repeatedly click "".."" in the file open dialog, we have it coded to go up to ""My Computer"", which used to provide a list of drives attached to the computer. It doesn't seem to work on Windows 7, though it probably still works on XP. I guess I'd like it work again but do something a little different.

If I do "".."" from the C: drive then I'd like to get a list of folders that correspond to the various shortcuts I see in the Windows file explorer. See the attached image.

Favorites
    Desktop
    Downloads
    Recent Places

Libraries
    Documents
    Music
    Pictures
    Videos

Homegroup

Computer
    OS (C:)
    (other drives attached)

Network
    machines attached

If I try and browse into any of these folders, I'd like VisIt to do the right thing and provide me with the proper folder contents.

I want the Windows icons displayed next to these top level folders too.

I'd also like a set of folders that let you easily browse to VisIt folders that we create:

VisIt
   2.2.2
   data

This will probably require mdserver and gui enhancements."
738,Pending,VisIt,Feature,Normal,"Scale ""Sphere"" point type by another variable.","","","",Brad Whitlock,06/06/2011,"",0,6.0,06/06/2011 01:44 pm,06/16/2011 12:31 pm,"","","",2 - Low,3 - Occasional,All,Any,"Plots provide Box, Axis, Icosahedron, Point, Sphere point types for point meshes. The first 3 can be scaled by another variable. Users would like to be able to scale Sphere by another variable too. Sphere currently means textured GL point which is not scalable. We can do a variety of things:

1. Change Sphere to Sphere imposter-style rendering as in the Molecule plot. This lets you scale the sphere by a variable while still being fast and economical since 1 textured quad is used.

2. Add a new Sphere glyph made of polygons and rename the existing Sphere to SpherePoint or something like that.

Maybe there are other glyphs that can be added too with little effort.

"
742,Pending,VisIt,Bug,Normal,"If you clone a plot, the plot legend's annotation object attributes don't get cloned.","","","",Brad Whitlock,06/08/2011,"",0,"",06/08/2011 02:12 pm,06/16/2011 12:31 pm,2 - Rare,2 - Minor Irritation,2.2.2,"","",All,Any,"If you have a plot and clone it, the new cloned plot will not get the legend settings from the old plot. It would seem that we should copy the attributes from the old plot's legend annotation object to the new plot's legend annotation object (keeping the plot names different, of course)."
754,Pending,VisIt,Bug,Normal,C and Fortran simulations compiled with gcc 4.4/4.5 crash when VisIt disconnects.,"","","",Brad Whitlock,06/21/2011,"",0,"",06/21/2011 01:23 pm,01/11/2012 05:19 pm,2 - Rare,4 - Crash / Wrong Results,2.1.0,"","",All,Any,"Compile a C or Fortran simulation with libsim and gcc 4.4 or later and then run it and connect using VisIt. When you disconnect from the simulation, it will crash somewhere down in pthreads or libstdc++ when trying to create an exception. The code must be trying to create a LostConnectionException to propagate up the call stack.

Linking the C or Fortran simulation with C++ fixes the problem. Of course, we should not have to link with libstdc++ for these languages.

Maybe there's some extra exception handling in the runtime that we can do to prevent this behavior. Otherwise, maybe linking the runtime against stdc++ explicitly might help.

From Jean Favre:

[cimadera:25758] *** Process received signal ***
[cimadera:25758] Signal: Segmentation fault (11)
[cimadera:25758] Signal code: Address not mapped (1)
[cimadera:25758] Failing at address: 0x18
[cimadera:25758] [ 0] /lib64/libpthread.so.0(+0xf2e0) [0x7f24c739b2e0]
[cimadera:25758] [ 1] /usr/lib64/libstdc++.so.6(__cxa_allocate_exception+0x24) [0x7f24af30f7e4]
[cimadera:25758] [ 2] /local/apps/VisIt/2.3.0/2.3.0/linux-x86_64/lib/libvisitcommon.so(_ZN16SocketConnection4FillEv+0x17f) [0x7f24b0d8dc3f]
[cimadera:25758] [ 3] /local/apps/VisIt/2.3.0/2.3.0/linux-x86_64/lib/libengine_par.so(_ZN6Engine12ProcessInputEv+0x16) [0x7f24b9032bb6]
[cimadera:25758] [ 4] /local/apps/VisIt/2.3.0/2.3.0/linux-x86_64/lib/libengine_par.so(_ZN6Engine16PAR_ProcessInputEv+0xc0) [0x7f24b9032ca0]
[cimadera:25758] [ 5] /local/apps/VisIt/2.3.0/2.3.0/linux-x86_64/lib/libsimV2runtime_par.so(simv2_process_input+0x18) [0x7f24b94d4788]
[cimadera:25758] [ 6] ./pjacobi_visit() [0x4072e4]
[cimadera:25758] [ 7] ./pjacobi_visit(ProcessVisItCommand+0x1c) [0x403ccd]
[cimadera:25758] [ 8] ./pjacobi_visit(main+0x433) [0x4036a4]
[cimadera:25758] [ 9] /lib64/libc.so.6(__libc_start_main+0xfd) [0x7f24c704ab7d]
[cimadera:25758] [10] ./pjacobi_visit() [0x4025b9]"
766,Pending,VisIt,Feature,Low,Organize the svn_bin directory.,Eric Brugger,"","",Brad Whitlock,06/24/2011,"",0,"",06/24/2011 01:00 pm,09/21/2011 04:21 pm,"","","",3 - Medium,3 - Occasional,All,Any,"The svn_bin directory is a dumping ground for host configs, svn scripts, build scripts, utility scripts and so on. I find when I go to a new machine, it's tough to get just the svn scripts we need for development. I'd like them to be by themselves to make it easier. Maybe we can add a few new subdirectories to svn_bin -- and maybe change svn_bin to a better name.

svn_bin/hooks     -- svn hooks (this already exists)
svn_bin/hosts     -- host config files
svn_bin/svn       -- put all the co_trunk, etc files here
svn_bin/build     -- build_visit, build_visit testing, visit-build-*, visit-dist,  and related
svn_bin/testing   -- regression test scripts, last pass
svn_bin/utility   -- makehelp, headertree, etc.

We can also remove obsolete scripts like vtk-install, qt-install, py-install.


"
783,Pending,VisIt,Feature,Normal,Provide convenience function that returns a tuple of query names that are valid for a plot.,"","","",Brad Whitlock,07/12/2011,"",0,"",07/12/2011 12:15 pm,08/05/2011 07:38 pm,"","","",2 - Low,2 - Rare,All,Any,"I was wondering whether there is a way to determine what Queries you can 
do on a particular dataset, before actually performing that Query from 
the Python CLI. Suppose for example that there is some part of a script 
that performs a Query('MinMax') for some set of plots. This will fail 
when the plot happens to be a Mesh(plot). This will not abort the 
script, so it's not really a problem or anything.

Yet it would be nice to be able to do something like:
query_list = AllowedQueries(some_variable)
if 'MinMax' in query_list:
 >>> # do the Query

This would prevent some unnecessary error-messages which could confuse 
the user of the script.

Sincerely,
Jakob
"
793,Pending,VisIt,Bug,Normal,LoadNamedSelection does nothing when there is no engine.,"","","",Brad Whitlock,07/22/2011,"",0,"",07/22/2011 08:14 pm,08/05/2011 07:34 pm,2 - Rare,2 - Minor Irritation,2.3.0,"","",All,Any,"I was writing a script and I tried using LoadNamedSelection before I had an engine. The function returned 1, indicating that the selection was loaded yet when I opened the database and tried to apply the selection, it did not take effect. It then dawned on me that LoadNamedSelection did nothing because there was no engine. When I moved it after the call to OpenDatabase, the selection was loaded.

There are different ways to solve this.
1. Make LoadNamedSelection start an engine
2. Make LoadNamedSelection return an error if there was no engine to load the selection

It is worth noting that once the engine was created, calls that attempted to load a bogus named selection returned the proper error messages.


"
809,Pending,VisIt,Bug,Normal,Problem finding external plugins when patch releases are involved.,"","","",Brad Whitlock,08/10/2011,"",0,"",08/10/2011 06:29 pm,08/17/2011 12:13 pm,2 - Rare,3 - Major Irritation,2.3.0,"","",All,Any,"A user ran xml2cmake at LC and built a plugin. This ran xml2cmake 2.3.1 and that generated a CMakeLists.txt that wanted to install plugins to ~/.visit/2.3.1 instead of to ~/.visit/2.3.0, which is probably more appropriate. I followed the same steps but I edited the CMakeLists.txt so it would install to ~/.visit/2.3.0. My rationale for doing this is that patch releases are all binary compatible so I should be able to compile a new plugin against VisIt 2.3.x and have it work for all versions 2.3.x.

I ran visit 2.3.1 and it wanted to look for plugins in ~/.visit/2.3.1 instead of ~/.visit/2.3.0 which would be an installation place for any 2.3.x version plugin.

1. xml2cmake needs to set VISIT_PLUGIN_DIR such that it sets the patch version to 0.
2. When internallauncher creates the directories used for possible plugin locations, it should also zero out the patch release for the version used for user-built private plugins."
810,Pending,VisIt,Bug,Normal,LC reports that orphaned VisIt processes are a constant problem on login nodes. ,"","","",Brad Whitlock,08/10/2011,"",0,"",08/10/2011 06:42 pm,09/22/2011 11:36 am,4 - Common,3 - Major Irritation,2.3.0,"","",All,Any,"I received a call from LC this morning stating that long-lived, apparently orphaned VisIt processes on login nodes are a constant problem. It sounds like the gui and engine_ser processes are often left after users quit. Apparently users are upset that this happens and LC wants a solution.

1. The gui problem would not happen if the users were policed into running client/server. As for a technical cause, I'm not really sure. It could be Qt-related. Maybe the gui is doing a waitpid() for another program to quit. Maybe it happens because a certain pool of users exits the code in some bad way -- like pulling the plug on their workstations.

We should look for the reason this happens and try and fix it. In addition, we should make the viewer print a message to the console when the display is not direct (at least for LLNL installs) that tells users how they should instead run client/server and tell how to do it. 

2. The engine problem is confusing too. There is already a timeout limit that should cause the engine to die after an alarm timeout gets called. Yet, LC reports that engines run for days. Maybe the alarm timeouts are broken.

"
820,Pending,VisIt,Bug,Normal,build_visit failing to build HDF5 on Mac due to building Fortran bindings,"","","",Brad Whitlock,08/17/2011,"",0,"",08/17/2011 05:58 pm,11/30/2011 01:10 pm,3 - Occasional,4 - Crash / Wrong Results,2.3.0,"","",All,Any,"I have a Fortran compiler on my Mac (gfortran) and build_visit detects this and attempts to build Fortran bindings for various libraries. In general this is a good thing. However, it does not work for HDF5. The error message indicates that shared libraries cannot be created for fortran on Mac currently. 

The build_visit script needs to be fixed so it does not bail out trying to build fortran shared libraries on Mac."
832,Pending,VisIt,Bug,Normal,Unstructured ghost zone communication based on global node ids is too slow.,"","","",Brad Whitlock,08/29/2011,"",0,"",08/29/2011 07:00 pm,09/16/2011 02:10 pm,2 - Rare,3 - Major Irritation,2.3.0,"","",All,Any,"I received a file from an LLNL Ale3D user. The file appears to have no ghost zones but it does have global node ids and 16 domains. VisIt is very slow to plot volume_mesh from this file, which is a multimesh pointing to 16 ucdmeshes. When I timed VisIt and looked at the logs, I see the following:

Timing for                   Finding nodes external to domain. took 0.023085
Timing for                   Creating table of shared nodes. took 0.009059
Timing for                   Setting up shared nodes list. took 17.952567
Timing for                   Actual communication of ghost zones took 1.069168
Timing for                Time to actually communicate ghost data took 26.097817
Timing for                Deciding not to material select data took 0.000008
Timing for             Getting dataset for volume_mesh took 26.276077

I looked in the avtGenericDatabase class's CommunicateGhostZonesFromGlobalNodeIds method and that is where the slowness happens. Can this code be rewritten to be faster or simpler?"
860,Pending,VisIt,Bug,Normal,Viewer crash doing lineout on rzzeus.,"","","",Brad Whitlock,09/27/2011,"",0,"",09/27/2011 03:01 pm,10/03/2011 03:07 pm,3 - Occasional,4 - Crash / Wrong Results,2.3.0,"","",All,Any,"A user reported that VisIt was crashing during lineout on rzzeus displaying back to his Mac. The failure is a little sporadic but can be reproduced doing the following:

1. Open noise.silo
2. Create and draw a Pseudocolor plot of hgslice
3. Do a lineout of hgslice
4. Close the lineout window using the window decorations
5. Do another lineout.

Repeat steps 4,5 until the viewer crashes. The crash is down in VTK's FTGL. Maybe the window trying to draw the text has not done a glMakeCurrent().

If I turn off all annotations and make that the default before I create any plots then I don't get a crash. Instead, none of my curve plots get drawn in window 2. Rendering is all screwed up at this point. This mirrors some of what we've seen with other reports of rendering getting hosed when displaying back from LC.

Since this is on the RC, we don't have a way for users to to client/server so we have a problem.

The trunk does this too.

Interestingly, I tried my VTK56WithMesa branch (using VTK 5.8) and it does not crash, even with text. Good.


Program received signal SIGSEGV, Segmentation fault.
0x00002aaab06dd65a in fflush () at iofflush.c:36
36        if (fp == NULL)
(gdb) where
#0  0x00002aaab06dd65a in fflush () at iofflush.c:36
#1  0x00002aaaac047586 in FTGLPixmapFont::RenderOpenGL(char const*, FTGLRenderContext const*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkftgl.so.5.0
#2  0x00002aaab03887f5 in vtkOpenGLFreeTypeTextMapper::RenderOverlay(vtkViewport*, vtkActor2D*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#3  0x00002aaab034e544 in vtkTextMapper::RenderOverlayMultipleLines(vtkViewport*, vtkActor2D*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#4  0x00002aaab0387d73 in vtkOpenGLFreeTypeTextMapper::RenderOverlay(vtkViewport*, vtkActor2D*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#5  0x00002aaab34e531e in vtkActor2D::RenderOverlay(vtkViewport*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkFiltering.so.5.0
#6  0x00002aaab033622d in vtkRenderer::UpdateGeometry() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#7  0x00002aaab0386506 in vtkOpenGLRenderer::DeviceRender() ()
---Type <return> to continue, or q <return> to quit---
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#8  0x00002aaab0337c3c in vtkRenderer::Render() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#9  0x00002aaab033da59 in vtkRendererCollection::Render() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#10 0x00002aaab032b56e in vtkRenderWindow::DoStereoRender() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#11 0x00002aaab032d4d0 in vtkRenderWindow::DoFDRender() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#12 0x00002aaab032e0d4 in vtkRenderWindow::DoAARender() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#13 0x00002aaab032c843 in vtkRenderWindow::Render() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#14 0x00002aaaaffe9f57 in vtkQtRenderWindow::TriggerRender (this=0x83fc80)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/vtkqt/vtkQtRenderWindow.C:800
#15 0x00002aaaaffe83b8 in vtkQtGLWidget::paintGL (this=0x840e80)
---Type <return> to continue, or q <return> to quit---
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/vtkqt/vtkQtGLWidget.C:129
#16 0x00002aaab5ac657a in QGLWidget::glDraw() ()
   from /usr/gapps/visit/qt/4.6.1/linux-x86_64_gcc-4.1/lib/libQtOpenGL.so.4
#17 0x00002aaaaffe87fb in vtkQtRenderWindow::Render (this=0x83fc80)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/vtkqt/vtkQtRenderWindow.C:872
#18 0x00002aaab0334a4d in vtkRenderWindowInteractor::Render() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#19 0x00002aaab02ee7a0 in vtkInteractorStyle::StopState() ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkRendering.so.5.0
#20 0x00002aaaad5c8a5a in Lineout2D::EndLeftButtonAction (this=0xf48d70)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/avt/VisWindow/Interactors/Lineout2D.C:480
#21 0x00002aaaad5d2bfe in VisitInteractor::OnLeftButtonUp (this=0xf48d70)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/avt/VisWindow/Interactors/VisitInteractor.C:371
#22 0x00002aaaad5cdfbd in VisitHotPointInteractor::EndLeftButtonAction (
    this=0x894f40)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/avt/VisWindow/Interactors/VisitHotPointInteractor.C:977
#23 0x00002aaaad5d2bfe in VisitInteractor::OnLeftButtonUp (this=0x894f40)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/avt/VisWindow/Interactors/VisitInte---Type <return> to continue, or q <return> to quit---
ractor.C:371
#24 0x00002aaab3926ef9 in vtkCallbackCommand::Execute(vtkObject*, unsigned long, void*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkCommon.so.5.0
#25 0x00002aaab3988801 in vtkSubjectHelper::InvokeEvent(unsigned long, void*, vtkObject*) ()
   from /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/lib/libvtkCommon.so.5.0
#26 0x00002aaaafff3708 in vtkObject::InvokeEvent (this=0x8678c0, event=13)
    at /usr/gapps/visit/vtk/5.0.0i/linux-x86_64_gcc-4.1/include/vtk-5.0/vtkObject.h:160
#27 0x00002aaaafff2531 in vtkQtRenderWindowInteractor::mouseReleaseEvent (this=
    0x8678b0, me=0x7fffffffcbd0)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/vtkqt/vtkQtRenderWindowInteractor.C:184
#28 0x00002aaaaffe82d8 in vtkQtGLWidget::mouseReleaseEvent (this=0x840e80, 
    me=0x7fffffffcbd0)
    at /nfs/tmp2/whitlocb/MAIN_gcc/trunk/src/vtkqt/vtkQtGLWidget.C:202
"
873,Pending,VisIt,Bug,Normal,"PDB reader is not handling multi-component arrays with shape (n,kmax,lmax) right.","","","",Brad Whitlock,10/12/2011,"",0,"",10/12/2011 03:02 pm,10/25/2011 07:11 pm,2 - Rare,4 - Crash / Wrong Results,2.3.0,"","",All,Any,"VisIt's PDB reader can decompose multi-component arrays into separate scalar arrays for arrays with shape (kmax,lmax,n). The decomposition does not happen right if the shape of the array is instead (n,kmax,lmax).

The data is on the SCF in ~whitlocb/LeeTaylor.

The variable in question is mesh/vfeos_comps/comp_000
In the file eostz.pdb the name is vfeos@atm and has a shape of (2,10,11)
which corresponds to (2,kmax,lmax)."
887,Pending,VisIt,Feature,Normal,Usability improvements for the Curve plot.,"","","",Brad Whitlock,11/07/2011,"",0,"",11/07/2011 01:53 pm,11/09/2011 12:41 pm,"","","",3 - Medium,3 - Occasional,All,Any,"This ticket contains usability improvements requested by a VisIt user:

When I double click on a curve plot, to bring up the ""Curve Plot
Attributes"" window, it would be nice if that window had a ""log-scale"" for the domain and range. If I have zero or negative values, it would be nice to be able to set a min and max for the values, so the log is well defined (just like the pseudo-color plot attributes window).

Currently I have to bring up the ""View"" window to change to a log scale for a curve, and there is no way to set a minimum value on that same window.  I think it would be easier to use if the log/linear scale and min/max stuff were all on the ""curve plot attributes"" window.
"
894,Pending,VisIt,Bug,Normal,Parallel rendering crashing in icet on Mac.,"","","",Brad Whitlock,11/11/2011,"",0,"",11/11/2011 04:53 pm,11/29/2011 07:26 pm,3 - Occasional,4 - Crash / Wrong Results,trunk,"","",All,Any,"Parallel rendering on the Mac is crashing down in icet. This was on my machine galvatron, a 10.6 MacPro.

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000000
0x00007fff86acb132 in glGetFloatv ()
(gdb) where
#0  0x00007fff86acb132 in glGetFloatv ()
#1  0x0000000100225dc8 in icetDrawFrame ()
#2  0x0000000100222b44 in IceTNetworkManager::Render ()
#3  0x00000001001dd9f3 in RPCExecutor<RenderRPC>::Execute ()
#4  0x0000000102f708bd in Subject::Notify ()
#5  0x0000000102e61d35 in AttributeSubject::Notify ()
#6  0x0000000100220e40 in MPIXfer::Process ()
#7  0x00000001001e5520 in Engine::EventLoop ()
#8  0x00000001001e5931 in Engine::PAR_EventLoop ()
#9  0x0000000100013bd5 in main ()
(gdb) 
"
897,Pending,VisIt,Bug,Normal,Make VisIt perform better for opening large images.,Brad Whitlock,"","",Brad Whitlock,11/18/2011,"",50,"",11/18/2011 02:04 pm,04/04/2012 11:24 am,3 - Occasional,2 - Minor Irritation,2.3.2,"","",All,Any,"A couple of LLNL users want to look at experimental results in VisIt and this means reading large images. However, the users are concatenating these images together into larger ""filmstrip"" images and then opening the larger images in VisIt. The images are about 60K*1K pixels and VisIt is not particularly good at images in the first place. The users complain of bad performance.

There are some things we can do to improve our image performance:
1. Serve up data in uchar so we don't bloat memory
2. Enhance filters along the way to Pseudocolor, Truecolor plots so the can all handle at least uchar data.
3. Enhance Lineout so it can deal with image's uchar data if it does not already. The users asked for lineout.
4. Enhance rectilinear grid rendering so it draws images as single textured quad or set of smaller textured quads."
899,Resolved,VisIt,Bug,Normal,Fix up operator plugin .code files so info can be auto generated.,"","","",Brad Whitlock,11/21/2011,"",0,"",11/21/2011 01:56 pm,10/07/2013 04:32 pm,2 - Rare,2 - Minor Irritation,trunk,"","",All,Any,"I was regenerating some operator plugin info and noticed that the viewer plugin info changed for some operators. This means that their code files are not up to date. These should be fixed.

ChannelComm
CracksClipper
IndexSelect
OnionPeel

"
910,Pending,VisIt,Feature,Normal,Enhance NASTRAN reader to read NASTRAN *.f06 output files.,"","","",Brad Whitlock,12/09/2011,"",0,"",12/09/2011 04:31 pm,01/11/2012 04:49 pm,"","","",3 - Medium,2 - Rare,All,Any,"An external user requested that our NASTRAN reader be enhanced to read output files too. We can currently just read the NASTRAN input files, which only have the mesh. The output files are separate so we could try and read the output file in addition to the mesh input file. Example files will be provided."
921,Pending,VisIt,Bug,Normal,Setting gui to horizontal mode makes window too tall.,"","","",Brad Whitlock,12/16/2011,"",0,"",12/16/2011 02:02 pm,01/11/2012 04:45 pm,2 - Rare,3 - Major Irritation,2.4.0,"","",All,Any,"It looks like the horizontal gui window mode is not behaving properly, scaling itself to an unreasonable vertical size. I don't think horizontal mode gets tried much. It looks like the plot list needs to be reparented into the splitter so it will use the space better in the horizontal layout. Maybe that would help to address the size problems."
951,Pending,VisIt,Bug,High,Image annotations are being shown upside down.,"","","",Brad Whitlock,02/02/2012,"",0,"",02/02/2012 06:25 pm,07/08/2014 06:35 pm,2 - Rare,3 - Major Irritation,2.4.0,"","",All,Any,I was testing a Java program that used image annotations and I noticed that the image annotation it created was displayed upside down. This is the case in VisIt when used from the gui as well.
953,Pending,VisIt,Bug,Normal,dominant_mat expression returns 0's for materials that use names.,"","","",Brad Whitlock,02/03/2012,"",0,"",02/03/2012 04:59 pm,02/15/2012 12:54 pm,2 - Rare,4 - Crash / Wrong Results,2.4.0,"","",All,Any,"The dominant_mat expression is supposed to return the material number for the material that has the highest volume fraction in a cell. There is some code that sets up the possible return values by calling atoi() on all of the material names. If you use string material names that don't have numbers, the most likely case these days, then the expression will return 0's for the material numbers since atoi() fails. I think this step is taking place because avtMaterial may do some reordering of the problem-sized material list to avoid having gaps in material number sequences. In any case, it seems like returning the material index is better than zero.

Bob Corey ran into this when he was trying to create an expression for his non-mixed material that would simply return the material id for each cell. "
954,Pending,VisIt,Bug,High,VisIt slow to access directory with 60K files.,"","","",Brad Whitlock,02/03/2012,"",0,"",02/03/2012 05:31 pm,02/15/2012 03:59 pm,3 - Occasional,3 - Major Irritation,2.4.0,"","",All,Any,"Brian McCandless mentioned this to me the other day so I'm adding a ticket. He created a directory with a few Ale3D runs in it and the directory ended up with about 60K files. This is generally a bad idea. When he tried accessing the files with VisIt, VisIt tried to read the directory and get the file list, as it always does. Even with automatic file grouping, which should speed this up, it was really slow.

Perhaps there are some additional optimizations that can be used to speed this type of operation up further."
955,Pending,VisIt,Bug,Normal,build_visit attempting to build Python even when --system-python is used.,"","","",Brad Whitlock,02/06/2012,"",0,"",02/06/2012 02:23 pm,02/15/2012 12:51 pm,2 - Rare,3 - Major Irritation,2.4.0,"","",All,Any,"Apparently there is a --system-python command line argument to build_visit that tells it to skip building Python and use the system's Python interpreter. However, if you are building VTK, the VTK build still tells build_visit to go into the code that builds Python, thus ignoring the intent of the --system-python command line argument."
975,Pending,VisIt,Bug,Normal,"Molecule plot only draws ""Sphere"" glyphs for one domain of multi-domain dataset.","","","",Brad Whitlock,02/22/2012,"",0,"",02/22/2012 05:02 pm,03/01/2012 08:23 pm,3 - Occasional,2 - Minor Irritation,2.3.2,"","",All,Any,"Some of our users have noticed that using the default ""Sphere"" type for Molecule type of particle data renders data only for the first patch in a volume.

Changing the render type to ""Sphere Imposters"" seems to be a viable workaround.

We don't know when this bug was introduced, but it seems to be somewhere around version 2.3.2.

We have also observed that exporting images works fine no matter how they appear in the display window.

Thanks,
Cameron"
982,Pending,VisIt,Bug,Normal,"DISPLAY environment variable can cause VTK to hang in mangled mesa implementation, looking for GL extensions.","","","",Brad Whitlock,02/27/2012,"",0,"",02/27/2012 02:03 pm,03/01/2012 08:14 pm,2 - Rare,4 - Crash / Wrong Results,2.4.0,"","",All,Any,"From Gunther:

I encountered a VisIt parallel engine hang on Hopper if the DISPLAY environment variable is set. I have resolved the immediate problem by unsetting this variable in internallauncher when running on Hopper. However, the hang occurs when the offscreen VTK tries to connect to the DISPLAY, which may point to a deeper VTK-related issue (since I would expect the offscreen version not to connect to the DIPSLAY at all.) I have discussed this issue with Tom Fogal (see below) and his comment is:

To whomever ends up looking at it: looks like the MesaExtMgr still has some X code in there.  We might want an OSMesaExtMgr subclass.  Or you can just remove the X code from the Mesa* classes altogether; we've broken all ""system"" + Mesa OpenGL use cases except for the system + OSMesa one anyway.  Feel free to ping me, I forget a lot of the details at present and it may come back to me if we start talking about it.


Further information:
""
If DISPLAY is set and rendering annotations is turned on, the parallel engine on Hopper hangs in ""VisWinRendering::PostProcessScreenCapture()"" when calling ""renWin->Render()"". renWin is a ""vtkOSOpenGLRenderWindow"" according to ""GetClassName()"". The call stack for the hang is

1:  Engine::AlarmHandler(int)
2:
3:  __select
4:
5:  xcb_connect_to_fd
6:  xcb_connect
7:  _XConnectXCB
8:  XOpenDisplay
9:  vtkMesaExtensionManager::ReadOpenGLExtensions()
10:  vtkExtensionManager::Update()
11:  vtkMesaExtensionManager::ExtensionSupported(char const*)
12:  vtkMesaTexture::Load(vtkRenderer*)
13:  vtkTextActor::RenderOverlay(vtkViewport*)
14:  vtkVisItAxisActor2D::RenderOverlay(vtkViewport*)
15:  vtkTriad2D::RenderOverlay(vtkViewport*)
16:  vtkRenderer::UpdateGeometry()
17:  vtkMesaRenderer::DeviceRender()
18:  vtkRenderer::Render()
19:  vtkRendererCollection::Render()
20:  vtkRenderWindow::DoStereoRender()
21:  vtkRenderWindow::DoFDRender()
22:  vtkRenderWindow::DoAARender()
23:  vtkRenderWindow::Render()
24:  VisWinRendering::PostProcessScreenCapture(ref_ptr<avtImage>, bool, bool)
25:  VisWindow::PostProcessScreenCapture(ref_ptr<avtImage>, bool, bool)
26:  NetworkManager::RenderPostProcess(std::vector<ref_ptr<avtPlot>, std::allocator<ref_ptr<avtPlot> > >&, ref_ptr<avtDataObject>&, int) const
27:  IceTNetworkManager::Render(bool, std::vector<int, std::allocator<int> >, bool, int, int, bool)
28:  RPCExecutor<RenderRPC>::Execute(RenderRPC*)
29:  RPCExecutor<RenderRPC>::Update(Subject*)
30:  Subject::Notify()
31:  AttributeSubject::Notify()
32:  MPIXfer::Process()
33:  Engine::ProcessInput()
34:  Engine::EventLoop()
35:  Engine::PAR_EventLoop()
36:  EngineMain(int, char**)
37:  main
38:  __libc_start_main
39:  /scratch/scratchdirs/ghweber/visit-new_ghost/debug/exe/engine_par() [0x401489]

To figure out the call stack, I added a PrintCallStack to the alarm handler and added an ""alarm(60)"" before ""renWin->Render()"".

Do you think it is worth digging deeper into this problem? Do you have any suggestions?
"
986,Pending,VisIt,Feature,Normal,Extend VisIt so the password window can accept passwords for 2nd machine when using gateway.,"","","",Brad Whitlock,02/28/2012,"",0,"",02/28/2012 12:54 pm,03/01/2012 08:13 pm,"","","",3 - Medium,3 - Occasional,All,Any,"VisIt recently added support for connecting to remote computers through a gateway computer. When this option is used, VisIt can show the password window for the connection to the gateway computer but the window is not shown if a second password is needed to access the remote computer. On Linux, some users have reported that they can simply type their password into the console when a second password is required and have the connection work. Windows users are not able to do that so this enhancement primarily would benefit Windows users, though it would be good to support both.

The mechanisms for ssh password handling are different between Windows and Unix. On Windows, we add a password window to qtssh so any 2nd password handling will likely be enhancements to qtssh. On Unix, we use pty's to intercept the ssh password prompts so any modifications will go into VisIt's pty code and password window."
989,Pending,VisIt,Bug,Normal,Volume plot attribute recording does not play back.,"","","",Brad Whitlock,03/09/2012,"",0,"",03/09/2012 06:51 pm,03/14/2012 05:14 pm,3 - Occasional,2 - Minor Irritation,2.4.0,"","",All,Any,"Here's a message from Jean Favre:

When using the ""record"" feature of the CLI, the color and opacity transfer functions commands are recorded as, e.g.
VolumeAtts.opacityControlPoints.GetControlPoints(0).x = 0.267016
etc.., etc...
which causes errors on replay if there are more than the standard number of control points (5).
the fix I have found and which I wanted to share with the list is to do the following, clear all points first, and then add them back, e.g.

AddPlot(""Volume"", ""velocity_mag"", 1, 0)
VolumeAtts = VolumeAttributes()
# remove all points
VolumeAtts.colorControlPoints.ClearControlPoints()
#start adding points
p = ColorControlPoint()
p.colors = (71, 71, 219, 255)
p.position = 0
VolumeAtts.colorControlPoints.AddControlPoints(p)
# etc...for all points
VolumeAtts.opacityControlPoints.ClearControlPoints()
#start adding points
p = GaussianControlPoint()
p.x = 0.789127
p.height = 0.75
p.width = 0.0362438
p.xBias = 0
p.yBias = 0
VolumeAtts.opacityControlPoints.AddControlPoints(p)
# etc...for all points
"
990,Pending,VisIt,Feature,Normal,Add option to Vector plot to turn off lighting,"","","",Brad Whitlock,03/09/2012,"",0,"",03/09/2012 07:10 pm,03/14/2012 05:14 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Lines are shaded now and I wanted to turn off the lighting on the Vector plot so I'd just have colorful lines with no shading. Unfortunately, I did not see a lighting flag on the Vector plot. I was trying to replicate a picture from FieldView."
991,Pending,VisIt,Feature,Normal,Add a Logical mode to Transform operator,"","","",Brad Whitlock,03/09/2012,"",0,"",03/09/2012 07:28 pm,03/14/2012 05:14 pm,"","","",3 - Medium,3 - Occasional,All,Any,"It would be nice to have an operator that throws away coordinates for structured meshes and makes them be simple cartesian meshes. Maybe this could be a new option on the Transform operator. The use case is that I want to use IndexSelect to select a slice in I and then apply some operator to turn the slice flat so I can see it head on without having to figure out some transform to do it.

This is more for a single domain use case. I suppose for multiple domains, we can't necessarily hook the domains up such that the connect in the right way. It's probably fine to move them all to 0,0,0."
1000,Pending,VisIt,Bug,Normal,Problems using Mesa-less VisIt as server back-end for client/server.,"","","",Brad Whitlock,03/21/2012,"",0,"",03/21/2012 01:33 pm,04/05/2012 08:11 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",All,Any,"We recently switched at least some of the builds that we distribute for Linux on the VisIt web site so they do not use Mesa. This change was made so the Linux clients would be less likely to run into problems on versions of Linux that have a GL library based on Mesa. Unfortunately, these Mesa-less versions of VisIt for Linux cannot necessarily be used as the back-end server components of VisIt when VisIt is running client/server. It might work when there is an X-server on the client side.

The Windows VisIt client cannot not use the Mesa-less Linux VisIt as the back end. There is no X-server to speak of in the native Windows version so the remote engine has no X-server to use for its offscreen rendering so it crashes.

* VTK should not need an X-server to do offscreen rendering
* The engine should never set up vis-windows unless it will actually render. The current implementation sets up vis windows that are not used and causes the engine to crash when we execute a plot.

This problem cropped up in VisIt 2.4.2 when external users simply installed the precompiled binaries on their different computer systems and went to use them client/server to one another."
1003,Pending,VisIt,Feature,Normal,"Enhance VisIt build process so it works easily on BG/P, BG/Q.","","","",Brad Whitlock,"","",0,"",03/28/2012 05:29 pm,08/15/2013 06:00 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Originally when I ported to Dawn, I modified build_visit so it could use a different toolchain of compilers to cross compile for BG/P. There were a bunch of steps but it could be productized better. I had put my original notes at http://www.visitusers.org/index.php?title=Building_on_BlueGeneP.

1. Make sure that this still works -- or make it work again.
2. Make any necessary changes to VisIt's cmake build to support building on BG/P.
3. Build VisIt on dawn.
4. Build VisIt on Sequoia."
1028,Developer Review,VisIt,Bug,Normal,Mac having trouble launching mdserver on localhost when connected to VPN or WiFi. ,"","","",Brad Whitlock,04/16/2012,"",0,"",04/16/2012 02:19 pm,06/19/2012 02:32 pm,3 - Occasional,2 - Minor Irritation,2.4.2,"","",OSX,Any,"The Mac version of VisIt cannot seem to launch the mdserver on localhost when attached to a VPN or WiFi network. It looks like the name that it looks up for ""localhost"" evaluates to something weird and our logic does not identify that network name as localhost. As a result, the viewer passes ""-host weird.name"" to the mdserver when launching it when it would be better to pass ""-host 127.0.0.1"" or ""-host localhost"". 

These changes may result from a 2.4.2 checkin that added support for ssh tunnels through a gateway. Earlier versions of VisIt should be tested for this problem.

Here's a detailed report from a user:
I've downloaded the latest version of Visit for Mac OS X (running Lion) ,  namely 2.4.2 64-bit.  
I'm getting an error that Visit can't start on localhost.  I'm just trying to visualize some local data.

The error persists whether I turn on ""Remote Login"" via ssh on or not.  For what it's worth, remote login is configured for password-less access.
When I run with -debug 5, no files are produced in my home directory.

I'm not sure how to enable additional ports.  There's nothing special about my Mac OS X set upâ€¦. I don't see any options under ""Sharing"" for turning on additional ports, e.g. 5600-5609â€¦

I'm using Public WiFi at a Panera.  Perhaps they have a firewall, but againâ€¦I'm just trying to run everything on the local machine!

The local machine is known on the network as ""provision.local"".  In Visit, I can access a list of files if I select ""provision.local"" as one of the hosts -- I.e. it launches a ""metadata server"".   However when it comes to actually trying to OPEN one of these files, I get an error that Visit is unable to launch a ""compute engine"" on provision.local.



My /etc/hosts file reads:
% more /etc/hosts
##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1       localhost
255.255.255.255 broadcasthost
::1             localhost 
fe80::1%lo0     localhost

Can anyone help?  I'm not able to access any files on my local machine, which is the same one running visitâ€¦.
Thanks.





Results of visit -debug 5:

% visit -debug 5
Running: gui2.4.2 -debug 5
Running: viewer2.4.2 -host 127.0.0.1 -port 5600 -debug 5 -geometry 1185x1024+495+0 -borders 20,0,0,1 -shift 0,0 -preshift 0,0 -defer
Unable to launch program /share/apps/vis/visit/bin/visit
Command was: /share/apps/vis/visit/bin/visit -v 2.4 -mdserver -dir /share/apps/vis/visit -noloopback -par -idle-timeout 480 -debug 5 -host provision.local -port 5601 -key 6f64a8a06a4e5f366c47 
Error: The metadata server on host localhost could not be launched or it could not connect back to your local computer. This can happen for a variety of reasons.
"
1050,Pending,VisIt,Bug,Normal,New/Delete buttons malfunction in Expressions window on fast machines.,"","","",Brad Whitlock,05/07/2012,"",0,"",05/07/2012 05:00 pm,05/08/2012 07:40 pm,3 - Occasional,3 - Major Irritation,2.4.2,"","",All,Any,"I've noticed recently that when I click on the New button in the Expressions window that I can often generate 2 new expressions, unnamed1, unnamed2 with a single button click. I can also hold down the Delete button and accidentally delete every expression in the list instead of just the expression that I was trying to delete. These 2 controls are not working right. They should create/delete exactly 1 expression for each click."
1053,Pending,VisIt,Feature,Normal,"Add ""Hide dot files"" option to File Open dialog.","","","",Brad Whitlock,05/11/2012,"",0,"",05/11/2012 06:25 pm,05/22/2012 04:19 pm,"","","",3 - Medium,4 - Common,All,Any,When I browse my home directory at LC there are tons of directories with dot at the start of the name. These are mainly config directories for various programs and I'd rather not see them because they make me have to scroll way down in the list of directories. I want an option in the File Open dialog that lets me hide the dot files. I'd apply the hide behavior to both files and directories.
1056,Pending,VisIt,Bug,Normal,Eliminate pick warning messages.,"","","",Brad Whitlock,05/11/2012,"",0,"",05/11/2012 06:51 pm,05/22/2012 04:16 pm,3 - Occasional,2 - Minor Irritation,2.4.2,"","",All,Any,"I was doing some analysis in multiple windows and changing my pipeline several times and performing intermittent picks. Pick kept warning me that it didn't have all of the information that was needed to compute the pick and then it would issue another message about ""Pick mode ready"" before doing the job. Are both of these messages really necessary? I'd feel better if they were not presented.

Is this just a matter of turning on original zone/node numbers or possibly global zone/node numbers? I was applying a Threshold operator to a plot to remove some walls. Could we make pick faster and eliminate warning messages like this if we requested the original zone/nodes more often?"
1065,Pending,VisIt,Bug,Normal,Simulation freezes on attempt for second connection.,"","","",Brad Whitlock,05/16/2012,"",0,"",05/16/2012 01:44 pm,07/21/2014 03:44 pm,3 - Occasional,4 - Crash / Wrong Results,2.4.2,"","",All,Any,"Dear Visit-Developers;

The first time connection to an instrumented simulation (2 parallel processes) code works fine.
When I try to reconnect after a disconnect the simulation freezes at VisitAttemptToCompleteConnection:
CreateEngineAndConnectToViewer
   Calling visit_engine
   Calling visit_initialize: argvvisit -v 2.4 -engine -debug 5 -noloopback -host login2 -port 18204 -key 519e5a6a6c2831a08ec1 -sshtunneling
for Process 0 and VisItAttemptToCompleteConnection:
VerifySecurityKeys desc=13539016
   BroadcastInt value=1607671674, sender=0
   BroadcastInt return 0
   BroadcastString str=d1e7a5906389b49d, len=1607671675, sender=0
   BroadcastString return 0
   BroadcastInt value=10, sender=0
   BroadcastInt return 0
   BroadcastString str=, len=11, sender=0
   BroadcastString return 0
VerifySecurityKeys return 0
VisItAttemptToCompleteConnection VerifySecurityKeys failed. return 0
for Process 1.

What am I missing?

Attached find a modified version of pjacobi.py (mpi4py) which reproduces the problem.


Yours sincerely,
Christoph Statz
"
1089,Pending,VisIt,Bug,Normal,Memory leak due to automatic grouping of MTMD files.,"","","",Brad Whitlock,06/06/2012,"",0,"",06/06/2012 06:04 pm,06/18/2012 06:15 pm,3 - Occasional,3 - Major Irritation,2.4.2,"","",All,Any,"Jean Favre reported a memory leak that we suspect is due to automatic file grouping of several MTMD files.

========================================

I need some advice to understand what's causing a big memory leak I see.

I have my own parallel reader for a StructuredGrid. It adds ghostzones (just like the PFLOTRAN and other examples)

Most things work very well in parallel, isosurfaces, slicing, etc. I can animate thru long series of files without any leak.

the only one creating a leak is if I add a

AddPlot(""Subset"", ""curvemesh_257x768x448"", 1, 0)
AddOperator(""IndexSelect"", 0)

to extract a small piece of grid (a solid wall). When I animate, it leaks and then crash.

So I have looked all day at my reader, but isosurfaces and slicing can be animated without leaking. The only one I found leaking is the combo of subset+indexSelect. Does that mean necessarily that the leak is there, or can it be elsewhere? Unfortunately, I have not been able to valgrind it. is it because it is parallel? Seems like valgrind is just ignored. Or else I messed up the setup? I have of course to launch with srun and then valgrind gets in the way. I am not sure how it all gets hooked up together.

========================================
I get the following two regions leaking:

avtDatabasefactory.C (line 880) and
avtMTMDFileFormatinterface.c (line 652)

so this is telling me my reader (or its parent class) is causing problems. The reader is Pixie (my own parallel version), and it is an MTMD thing. On top of that, I use the database grouping to animate timesteps stored in multiple files. Is this a well tested ground?  Is there some confusion because I group a time-series of a reader which itself supports multiple timesteps?

What other reader does that? is there an additional trick to make this go smoothly?
-----------------
Jean"
1096,Developer Review,VisIt,Bug,Normal,Can svn automatically fix up end of line characters for .C and .h files?,"","","",Brad Whitlock,06/13/2012,"",0,"",06/13/2012 04:39 pm,06/21/2012 10:58 am,3 - Occasional,3 - Major Irritation,2.5.0,"","",All,Any,"I made some new files on Windows and I got errors when I tried to check them in. Can we set up svn to automatically convert the dos newlines to UNIX-style newlines? This would have no ill-effect on the files and would make Windows development friendlier. Guess what? No dos2unix on Mac or Windows so this is a real pain for me.

Transmitting file data ............svn: Commit failed (details follow):
svn: Commit blocked by pre-commit hook (exit code 1) with output:
File ""branches/2.5RC/src/viewer/main/VisItChangeUsernameWindow.C"" appears to contain '^M' characters, maybe from dos?.
Please remove them before committing. Try using dos2unix tool.
"
1125,Pending,VisIt,Bug,Normal,Restoring session file with window mode set to zonepick does not work.,"","","",Brad Whitlock,07/09/2012,"",0,"",07/09/2012 12:27 pm,07/12/2012 11:09 am,2 - Rare,3 - Major Irritation,2.5.1,"","",All,Any,"A user reported this problem via email:

========

I've actually figured out what the problem was - if the InteractionMode option in 'ViewerWindow' is set to 'ZONEPICK' instead of 'NAVIGATE' in a session file then the python interface fails to load it. Obviously this translates to selecting the navigate option and not the zoom option in the gui window before saving a session file, so is quite easy to get around.

========

I'm having a few problems making movies of simulations using the -movie option in visit 2.5.0 (done using the 'tell me the command to run later' option in the gui). If the view is left with it's default options before the movie options are saved the movie script works correctly. However, if the view is zoomed in on a section of the plot prior to saving, the movie the script crashes out at the RestoreSession() line. I've experienced the same problem when trying to restore a session file using the visit python interface so I suspect this is to do with the restoring of session files with python and not the -movie script. As an added note, I'm able to restore the session files using the gui without any problems. "
1144,Pending,VisIt,Bug,Normal,Save movie does not work with red/blue stereo.,"","","",Brad Whitlock,07/31/2012,"",0,"",07/31/2012 12:14 pm,07/31/2012 06:58 pm,2 - Rare,2 - Minor Irritation,2.5.1,"","",All,Any,"Save movie is broken with red/blue stereo, according to Gunther Weber."
1168,Pending,VisIt,Bug,Normal,Restoring sessions that connect to simulations does not work.,"","","",Brad Whitlock,08/17/2012,"",0,"",08/17/2012 06:11 pm,08/31/2012 12:06 pm,2 - Rare,3 - Major Irritation,2.5.1,"","",All,Any,"I thought for sure this ticket was submitted but I could not find it.

Users report that restoring sessions that connect to simulations does not work."
1173,Pending,VisIt,Bug,Normal,Log/Skew scaling causes ray casting volume renderer to use color variable for opacity,"","","",Brad Whitlock,08/20/2012,"",0,"",08/20/2012 08:07 pm,08/31/2012 12:06 pm,2 - Rare,4 - Crash / Wrong Results,2.5.1,"","",All,Any,"1. Open noise.silo
2. Create expression new_x = x + 20
3. Make a Volume plot of new_x
4. Set the volume plot attributes nSamples=1000, mode=3D texture, scaling=Log, opacity var=""radial""
5. Clear the opacity in the transfer function and then select low, middle, and high ranges
6. Draw

You'll see 3 radial shells colored by log(new_x).

7. Switch the mode to ray casting: compositing

The renderer will mess up and use new_x for the opacity variable even though we've indicated that we want radial.

8. Switch to linear scaling and the correct opacity variable will be used."
1189,Pending,VisIt,Bug,Normal,"Changing color control point colors using right-click color menu does not work for ""equal"" color tables.","","","",Brad Whitlock,08/31/2012,"",0,"",08/31/2012 12:09 pm,09/11/2012 07:49 pm,1 - Exceptional,1 - Not Serious,2.5.1,"","",All,Any,"1. Open the color table window
2. Select the ""contoured"" color table
3. Try right-clicking on the color table's control points to change the colors. It won't do it right.

If the color table is not in the ""equal"" mode then things work fine. Note that you can still use the RGBA sliders to change the color even when equal is on."
1195,Pending,VisIt,Bug,Normal,Restore session with sources does not create time slider when switching from single to multi-timestep data.,"","","",Brad Whitlock,09/12/2012,"",0,"",09/12/2012 12:59 pm,09/26/2012 07:55 pm,2 - Rare,3 - Major Irritation,2.5.2,"","",All,Any,"When you save a session using a single time state of data and then restore the session with a source that has multiple time states, the time slider does not get enabled for the new source.

1. Open wave0020.silo (turn off smart file grouping)
2. Add a Pseudocolor plot and a Mesh plot
3. Draw
4. Save session ""single_timestep.session""
5. Quit VisIt

6. Start VisIt again
7. Restore session using sources with ""single_timestep.session""
8. Pick ""wave*.silo database"" as the new source

When the session file gets restored, the picture looks okay but the time slider is grayed out. This indicates that the time slider is not getting created for the new time-varying source. If you reopen the file, the time slider gets created. When picking a time-varying file for the new source, we should get a time slider for it."
1203,Pending,VisIt,Bug,Normal,csg: dbcsg_cylinder_ppr 3d drawing faulty,"","","",Brad Whitlock,09/25/2012,"",0,"",09/25/2012 11:33 am,10/11/2012 02:13 pm,2 - Rare,3 - Major Irritation,2.5.2,"","",All,Any,"This report comes from a post at the forum on visitusers.org:

I am using csg in visit to show the insertions and removals from a hashtable.

There seem to be a problem with the 3d plotting of a cylinder in Csg. I am using the dbcsg_cylinder_ppr  typeflag in silo (or at least trying to). The problem is that the plot's y-coords get assigned the value 0 (zero) no matter what I set them to. This does not happen for other shapes like spheres for instance. As a consequence one can only draw cylinders lying on y=0. Not what's needed."
1208,Pending,VisIt,Bug,Normal,build_visit fails to build ADIOS when --all-io given on Ubuntu 12.04,"","","",Brad Whitlock,10/02/2012,"",0,"",10/02/2012 12:32 am,10/04/2012 05:23 pm,3 - Occasional,3 - Major Irritation,2.5.2,"","",All,Any,"The mxml library gets built but linking a ""bpdump"" in ADIOS' build does not link mxml and the link fails. This was on an Ubuntu 12.04 system.

Here was my build_visit command line:
./build_visit --console --no-visit --thirdparty-path /home/brad/Development/thirdparty_shared --all-io --no-mili --no-itaps --mesa --makeflags -j6

Here is the link error in ADIOS.

gcc -m64 -fPIC -O2 -o bpdump bpdump-bpdump.o  -L/home/brad/Development/thirdparty_shared/mxml/2.6/linux-x86_64_gcc-4.6/lib64 -L/home/brad/Development/thirdparty_shared/mxml/2.6/linux-x86_64_gcc-4.6/lib ../../src/libadios_internal_nompi.a -lm  
../../src/libadios_internal_nompi.a(libadios_internal_nompi_a-adios_internals_mxml.o): In function `parseMeshUnstructured':
adios_internals_mxml.c:(.text+0x324): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x385): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x397): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x3a9): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x474): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x511): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x523): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x537): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x63b): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x64d): undefined reference to `mxmlElementGetAttr'
../../src/libadios_internal_nompi.a(libadios_internal_nompi_a-adios_internals_mxml.o):adios_internals_mxml.c:(.text+0x661): more undefined references to `mxmlElementGetAttr' follow
../../src/libadios_internal_nompi.a(libadios_internal_nompi_a-adios_internals_mxml.o): In function `parseGroup':
adios_internals_mxml.c:(.text+0xee5): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x108b): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x1676): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x19ef): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x237f): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x2391): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x25c6): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x262c): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x272a): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x2810): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x2915): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x2ab3): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x2b1e): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x2c37): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x2d2e): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x2e0e): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x2fce): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x3040): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x3154): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x326c): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x330c): undefined reference to `mxmlElementGetAttr'
adios_internals_mxml.c:(.text+0x349e): undefined reference to `mxmlElementGetAttr'
../../src/libadios_internal_nompi.a(libadios_internal_nompi_a-adios_internals_mxml.o): In function `adios_parse_config':
adios_internals_mxml.c:(.text+0x3dd6): undefined reference to `mxmlLoadString'
adios_internals_mxml.c:(.text+0x3e12): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x3e49): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x3e56): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x3ea8): undefined reference to `mxmlWalkNext'
adios_internals_mxml.c:(.text+0x3eb5): undefined reference to `mxmlWalkNext'
../../src/libadios_internal_nompi.a(libadios_internal_nompi_a-adios_internals_mxml.o):adios_internals_mxml.c:(.text+0x3ed1): more undefined references to `mxmlWalkNext' follow
../../src/libadios_internal_nompi.a(libadios_internal_nompi_a-adios_internals_mxml.o): In function `adios_parse_config':
adios_internals_mxml.c:(.text+0x4449): undefined reference to `mxmlRelease'
adios_internals_mxml.c:(.text+0x48c7): undefined reference to `mxmlRelease'
adios_internals_mxml.c:(.text+0x4b62): undefined reference to `mxmlRelease'
collect2: ld returned 1 exit status
make[3]: *** [bpdump] Error 1
make[3]: Leaving directory `/home/brad/Development/MAIN/trunk/builds/adios-1.3/utils/bpdump'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/home/brad/Development/MAIN/trunk/builds/adios-1.3/utils'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/brad/Development/MAIN/trunk/builds/adios-1.3'
make: *** [all] Error 2
"
1219,Pending,VisIt,Bug,Normal,Tube operator generates some twists at 45+n*90 degree intervals,"","","",Brad Whitlock,10/25/2012,"",0,"",10/25/2012 12:24 pm,11/06/2012 01:27 pm,2 - Rare,2 - Minor Irritation,2.5.2,"","",All,Any,"I was applying the Tube operator to the example.lines file at http://visitusers.org/index.php?title=Lines3D and I found that it would insert twisted geometry at spans that cross 45+n*90 degrees (45, 135, 225, ...)."
1227,Pending,VisIt,Feature,Normal,Change download pages for VisIt.,"","","",Brad Whitlock,11/05/2012,"",0,"",11/05/2012 02:53 pm,11/08/2012 01:09 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Our executable download page features large tables for many versions of VisIt. Can we streamline this so users are more likely to download the right version? One criticism we've often heard is that it is difficult to pick the right Linux binaries that are likely to work on a particular system.

PV's download page lets the user pick version, OS, and a couple of other properties and assembles menus on the fly so the user can download the right package.

http://www.paraview.org/paraview/resources/software.php

We could do the same. Let the user pick a version. At that point the supported OS's for that version get displayed: Windows 32-bit, Windows 64-bit, Linux 32-bit, Linux 64-bit, MacOS X 32-bit, MacOS X 64-bit, (AIX for older VisIt versions)... For Linux, I'd add a dynamic element to the page that lets the user pick from Ubuntu, Redhat 5, etc. After choosing any of these, there is a list of file(s) to pick from and a Download button to get the selected file. We could also display the other information such as host, gcc-used, and so on in a label.

"
1287,Pending,VisIt,Bug,Normal,CLI -pysideviewer can't successfully process script given with -s argument.,Harinarayan Krishnan,"","",Brad Whitlock,12/19/2012,"",0,"",12/19/2012 04:58 pm,01/10/2013 06:24 pm,3 - Occasional,3 - Major Irritation,2.6.0,"","",All,Any,"I was following the instructions for making a PySide-viewer client at http://visitusers.org/index.php?title=VisIt-tutorial-Advanced-PythonUI. When I run ""visit -cli -pysideviewer"", the CLI starts up as normal. When I source the Python file containing the UI coding, the viewer window changes so it contains 4 windows. This is nice.

When I run ""visit -cli -pysideviewer -s script.py"" where ""script.py"" contains the UI coding, bad things happen. It seems that the CLI does create the 4 panel viewer window. However, the viewer seems to be reverse launching another CLI with -newconsole or -xterm because another CLI comes up in a new terminal window. That CLI attempts to run the script (that has already been run) and it fails because it does not know what a QWidget is. It seems that running the second CLI is an error and I can't tell how it's happening.

Ultimately, I plan to wrap the visit command line in another shell script that I can run directly so I can deploy my app without VisIt-specific command line arguments, etc.
"
1294,Resolved,VisIt,Bug,High,Crash with transparent geometry,"","","",Brad Whitlock,01/08/2013,"",0,"",01/08/2013 12:50 pm,04/02/2014 09:31 pm,3 - Occasional,4 - Crash / Wrong Results,2.6.0,"","",All,Any,"I can get the viewer to crash when I set a glyphed Pseudocolor plot to transparent before drawing it.

1. Open noise.silo
2. Make a Pseudocolor plot of PointVar
3. Set the Pseudocolor glyph to Box and make the plot transparent
4. Click Apply
5. Click the Draw button. The viewer will crash."
1304,Pending,VisIt,Bug,Normal,Elevate operator is not working with streamlines.,"","","",Brad Whitlock,01/11/2013,"",0,"",01/11/2013 07:38 pm,01/18/2013 02:08 pm,3 - Occasional,3 - Major Irritation,2.6.0,"","",All,Any,"This is from a user in the visitusers.org forum. He is trying to elevate some streamlines to look at them with some other geometry. It might be that once the surface is elevated that the streamline filters don't know how to handle it. In this case, it would probably make more sense to elevate the streamlines after they have been created. But that currently requires an export step.

Report:
========

I am working with a 2D depth-averaged flow model on a structured curvilinear grid in CGNS format. 

The elevate transform seems to work just fine for scalar and 2D vector display but not for streamlines.

The streamline source is defined along a line
Start: [15400 4440 0]
End: [15400 4630 0]

and works until I try to pair it with another plot using the Elevate by Variable transform with a scalar.

Once the elevate transform is enabled, the error I get is:
The Streamline plot of variable ""VectorVelocityXY"" yielded no data.

If I check the ""Elevate with zero height"" option the streamlines are created, but are sitting down at a zero elevation (below the other elevated scalar dataset).

I've tried changing the z-coordinate of the start/end line to 1 or greater without success.

What is the preferred method to elevate a 2D streamline plot by a scalar variable so it can be paired with a 3D plot?


"
1319,Pending,VisIt,Bug,Normal,Crash when exporting streamline with additional sampled variable.,"","","",Brad Whitlock,01/22/2013,"",0,"",01/22/2013 05:18 pm,01/22/2013 07:28 pm,2 - Rare,4 - Crash / Wrong Results,2.6.0,"","",All,Any,"The intent here is to make some streamlines and sample additional fields onto them and export the data. The following steps produce an engine crash.

1. Open noise.silo
2. Add a Streamline plot of grad
3. Draw
4. Open File->Export
5. Set the filename to ""streamline"" and the format to VTK.
6. Add hardyglobal as an additional variable to save
7. Export

The engine will crash.

Here's a stack:

<code><pre>
Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: 13 at address: 0x0000000000000000
0x0000000101c8651b in avtIntegralCurve::CurrentLocation (this=0x107f38040, end=@0x7fff5fbfc048) at avtIntegralCurve.C:471
471         end = ivp->GetCurrentY();
(gdb) p ivp 
$1 = (avtIVPSolver *) 0x1051aaaf0
(gdb) where
#0  0x0000000101c8651b in avtIntegralCurve::CurrentLocation (this=0x107f38040, end=@0x7fff5fbfc048) at avtIntegralCurve.C:471
#1  0x00000001019ee571 in avtSerialICAlgorithm::AddIntegralCurves (this=0x107f364e0, ics=@0x106383ee0) at avtSerialICAlgorithm.C:211
#2  0x00000001019ee738 in avtSerialICAlgorithm::Initialize (this=0x107f364e0, seedPts=@0x106383ee0) at avtSerialICAlgorithm.C:113
#3  0x00000001019a70d8 in avtPICSFilter::Execute (this=0x106383d70) at avtPICSFilter.C:1303
#4  0x00000001019a6de6 in virtual thunk to avtPICSFilter::Execute() () at avtPICSFilter.C:612
#5  0x000000010335fd3d in avtFilter::Update (this=0x106383f90, contract=@0x7fff5fbfc5b8) at avtFilter.C:273
#6  0x000000010335f571 in virtual thunk to avtFilter::Update(ref_ptr<avtContract>) () at avtFilter.C:144
#7  0x00000001032774f1 in avtDataObject::Update (this=0x106c5bee0, contract=@0x7fff5fbfcad8) at avtDataObject.C:131
#8  0x00000001033a8945 in avtDatabaseWriter::Write (this=0x107f43dc8, filename=@0x7fff5fbfdc28, md=0x1058d9180, varlist=@0x7fff5fbfdc08, allVars=false) at avtDatabaseWriter.C:473
#9  0x0000000100094c59 in NetworkManager::ExportDatabase (this=0x105825dd0, id=0, atts=0x10604ac28) at NetworkManager.C:4389
#10 0x00000001000623ed in RPCExecutor<ExportDatabaseRPC>::Execute (this=0x105832280, rpc=0x10604ab60) at Executors.h:1790
#11 0x000000010007634c in RPCExecutor<ExportDatabaseRPC>::Update (this=0x105832280, s=0x10604ab88) at RPCExecutor.h:67
#12 0x0000000103d13402 in Subject::Notify (this=0x10604ab88) at Subject.C:193
#13 0x0000000103a49231 in AttributeSubject::Notify (this=0x10604ab60) at AttributeSubject.C:99
#14 0x0000000103d87582 in Xfer::Process (this=0x105824050) at Xfer.C:423
#15 0x00000001000564c1 in Engine::ProcessInput (this=0x105823da0) at Engine.C:1711
#16 0x000000010005a506 in Engine::EventLoop (this=0x105823da0) at Engine.C:1657
#17 0x000000010000da91 in EngineMain (argc=3, argv=0x7fff5fbfe590) at main.C:321
#18 0x000000010000dc40 in main (argc=9, argv=0x7fff5fbfe590) at main.C:382
(gdb) p *ivp
warning: can't find linker symbol for virtual table for `avtIVPSolver' value
warning:   found `vtkFieldData::BasicIterator::BasicIterator()' instead
$2 = {
  _vptr$avtIVPSolver = 0x104f6c966, 
  convertToCartesian = 134, 
  convertToCylindrical = 201, 
  order = 1
}
</pre></code>"
1325,Pending,VisIt,Bug,Normal,Legend bounding box too small when legend titles are turned off.,"","","",Brad Whitlock,01/30/2013,"",0,"",01/30/2013 12:18 pm,02/19/2013 04:04 pm,3 - Occasional,2 - Minor Irritation,2.6.0,"","",All,Any,"1. Open noise.silo and make a Pseudocolor plot
2. Open the Annotation window
3. Click on Appearance tab
4. Turn on ""Bounding box""
5. Turn off ""Draw title"" and ""Draw min/max""

The top and bottom text entries in the legend will be drawn beyond the extents of the legend bounding box.

Make the fonts larger to exaggerate the problem."
1392,Pending,VisIt,Bug,Normal,Autoscale feature in vector plot breaks down when all points are the same.,Eric Brugger,"","",Brad Whitlock,03/25/2013,"",0,"",03/25/2013 04:31 pm,06/19/2013 03:05 pm,1 - Exceptional,3 - Major Irritation,2.6.1,"","",All,Any,"This bug was reported by a user:

When I try to do a vector plot in visit, but all the particles are in EXACTLY the same spot, I don't see anything for the vector plot.  This makes me guess that you are using the ""bounding box"" of the particle coordinates as some type of length scale for the vector lengths.

But this breaks down when the bounding box has size 0.  Can you please fix this to make sure the length scale is non-zero in this case, so that I can see the vector plot.  If the bounding box is 0, then just set the length scale to something like 1.  Then at least you can play with the scale factor to get something.  When it is 0, no amount of scaling will fix your problem.


"
1409,Pending,VisIt,Bug,Normal,Python manual served from VisIt svn repo drawn as text in Firefox.,"","","",Brad Whitlock,04/05/2013,"",0,"",04/05/2013 12:48 pm,04/15/2013 01:40 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,"A user reported that VisIt's Python manual is drawn as text instead of downloaded as a PDF document when using Firefox or Chrome. I assume that it happened in other browsers too. We serve the PDF out of the svn repo so I set the svn:mime-type property to application/pdf in order to annotate the PDF with the right information that the browser would need to do the right thing. Firefox still does NOT do the right thing. Maybe there is another property to set on the file.

You can do the right thing with right-click ""save link as""."
1442,Pending,VisIt,Bug,Normal,Data Level Comparison wizard and time for multiple databases,"","","",Brad Whitlock,05/02/2013,"",0,"",05/02/2013 05:38 pm,05/09/2013 04:03 pm,3 - Occasional,3 - Major Irritation,2.6.2,"","",All,Any,"The Data Level Comparison wizard lacks the ability to create CMFE expressions that take time into account for the case when you have 2 databases (RunA, RunB) that you want to compare. When I map a field from RunB onto RunA's mesh, a sensible-looking CMFE expression gets created. However, when there are multiple timesteps in each database the expression does not behave as I would have expected.

The expression that gets created looks like this: runB_var = conn_cmfe(</path/to/RunB*.root database:var>, hydro_mesh)

I typically open RunA and then make a CMFE expression to map RunB's values onto RunA's mesh (the active source). Next, I made a new expression: diff_var = var - runB_var. When I plot diff_var, I get the expected values of zero across the mesh since RunA and RunB contain identical data. When I change the time slider, I get non-zero values and this is what I find confusing. With the above CMFE expression is RunB not supposed to get the same time slider value as that used for RunA?

When I change the expression to: conn_cmfe(</path/to/RunB*.root database[0]id:var>, hydro_mesh) then the right time step from RunB will be used and I get a difference of zero whenever I change the time slider for RunA.

I guess the bottom line is that I want the ability to set the time index behavior in the wizard for the 2 database CMFE expressions that I'm making. That would produce expressions that contained the [0]id (or whatever) time index values that I set. I had expected CMFE to behave this way by default and it did not. An LLNL user thought so too, which is why I was looking at this."
1458,Pending,VisIt,Feature,Normal,Add -novisitrc flag to prevent visitrc file from being read,"","","",Brad Whitlock,05/14/2013,"",0,"",05/14/2013 02:17 pm,05/23/2013 06:05 pm,"","","",3 - Medium,3 - Occasional,All,Any,I'm making a PySide app and I gave it to a user who had a visitrc file. The visitrc file had some extra stuff in it that I don't want to execute in my PySide app. I'd either like PySide apps to not execute the visitrc file or to have a -novisitrc command line flag that I can use in the app's launch script to disable the visitrc file.
1463,Pending,VisIt,Bug,Normal,Mili does not build on MacOS X.,"","","",Brad Whitlock,05/17/2013,"",0,"",05/17/2013 02:09 pm,05/29/2013 12:40 pm,2 - Rare,2 - Minor Irritation,2.6.2,"","",OSX,Any,"The build_visit script calls Mili's configure, probably to create some new files, and then calls compilers on sources directly to build the library. On Mac, Mili's configure fails because Mili's configure requires a working fortran compiler. Can we either change Mili's configure via a patch or change build_visit so that Mili will build?"
1471,Pending,VisIt,Bug,Normal,VisIt menus have no icons when running on iSRD under GNOME.,"","","",Brad Whitlock,05/22/2013,"",0,"",05/22/2013 03:18 pm,05/29/2013 12:39 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,DOE/ASC,"The iSRD Linux image was recently updated so I installed a binary that we made on the open network. This was so we could have a linux-x86_64 binary since linux-intel is not the right platform anymore. VisIt seems to run okay and seems nice and fast. I was able to remove the ""-style windows"" hack from the customlauncher. I did notice that menus are not displaying icons. This affects the VisIt main menus, plot and operator menus, as well as in-window menus like the color table swatches in the Pseudocolor plot's color table widget.

The lack of icons might be due to the binary I installed. Alternatively, maybe the lack of icons was due to a global GNOME setting."
1472,Pending,VisIt,Bug,Normal,Multi-window save options not restored right from sessions.,"","","",Brad Whitlock,05/22/2013,"",0,"",05/22/2013 07:03 pm,05/29/2013 12:39 pm,2 - Rare,2 - Minor Irritation,2.6.2,"","",All,Any,"1. Make 2 windows
2. Make a plot in each window
3. Open the Save options window
4. Turn on ""Advanced multi-window save""
5. Set custom window sizes, positions, transparency for windows 1,2
6. Save
7. Save session
8. Quit

Examine the session file and you can see that the ""SubWindowAttributes"" are saved for the windows that were modified.

1. Start VisIt again
2. Restore the session
3. Look at the Advanced multi-window save options. They will not reflect the values from the session file.

Here is the original report from the user's list:
-------------------------------------------------
Hi, This happens with VisIt 2.6.1 svn revision 20581. Iâ€™m trying to use the Advanced Multi-Window Save under the Set save options with a sessionfile, but none of the Individual Window Controls numerical options appear to be saved. Looking at a sessionfile in an editor, it appears the only  things saved are â€œDo Advanced Multi-Window Saveâ€ and â€œOmit Windowâ€, which Iâ€™ve been able to toggle between true and false, so I know they are being saved.
 
I am able to save a multi-window image from within the GUI, but if I restore the sessionfile, I have to re-enter the multi-window save options for Width, Height, Position x,y, Layer and transparency.
 
Am I missing a step in saving or applying?
Thanks,
Mark
"
1473,Pending,VisIt,Feature,Normal,Enhance bv_*.sh modules to delete build directories after successful installs.,"","","",Brad Whitlock,05/23/2013,"",0,"",05/23/2013 01:04 pm,05/30/2013 06:51 pm,"","","",3 - Medium,3 - Occasional,All,Any,"When I run build_visit, it leaves the various 3rd party build directories in place. This takes up a lot of space and I'm building in my 16Gb quota home directory since it's about the fastest file system to which I have access. I'd like build_visit's bv_*.sh modules to delete the build directories if the package that built was able to be installed successfully. This way, the script cleans up after itself and I don't have to write some version-specific code above the script to delete the various 3rd party directories."
1478,Pending,VisIt,Bug,Normal,Compiler correctness warnings in Miranda reader.,"","","",Brad Whitlock,05/23/2013,"",0,"",05/23/2013 07:46 pm,05/29/2013 12:38 pm,2 - Rare,2 - Minor Irritation,2.6.2,"","",All,Any,"""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/Miranda/avtMirandaFileFormat.C"", line 1690.45: 1540-2907 (W) The subscript 4 is out of range. The valid range is 0 to 2.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/Miranda/avtMirandaFileFormat.C"", line 1690.62: 1540-2907 (W) The subscript 4 is out of range. The valid range is 0 to 2.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/Miranda/avtMirandaFileFormat.C"", line 1692.45: 1540-2907 (W) The subscript 4 is out of range. The valid range is 0 to 2.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/Miranda/avtMirandaFileFormat.C"", line 1692.62: 1540-2907 (W) The subscript 4 is out of range. The valid range is 0 to 2.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/Miranda/avtMirandaFileFormat.C"", line 1987.26: 1540-1663 (W) Incorrect assignment of a restrict qualified pointer.  Only outer-to-inner scope assignments between restrict pointers are allowed.  This may result in incorrect program behavior.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/Miranda/avtMirandaFileFormat.C"", line 1987.50: 1540-1663 (W) Incorrect assignment of a restrict qualified pointer.  Only outer-to-inner scope assignments between restrict pointers are allowed.  This may result in incorrect program behavior.
"
1479,Pending,VisIt,Bug,Normal,Compiler warnings in unv reader. ,"","","",Brad Whitlock,05/23/2013,"",0,"",05/23/2013 07:48 pm,05/29/2013 12:38 pm,2 - Rare,2 - Minor Irritation,2.6.2,"","",All,Any,"""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/unv/avtunvFileFormat.C"", line 2673.1: 1540-1101 (W) A return value of type ""vtkDataSet *"" is expected.
The warnings are for cases where the function does not return anything. We should add return NULL to the end of the affected functions.

""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/unv/avtunvFileFormat.C"", line 2784.1: 1540-1101 (W) A return value of type ""vtkDataArray *"" is expected.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/unv/avtunvFileFormat.C"", line 2922.1: 1540-1101 (W) A return value of type ""vtkDataArray *"" is expected.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/unv/avtunvFileFormat.C"", line 2673.1: 1540-1101 (W) A return value of type ""vtkDataSet *"" is expected.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/unv/avtunvFileFormat.C"", line 2784.1: 1540-1101 (W) A return value of type ""vtkDataArray *"" is expected.
""/g/g19/whitlocb/Development/seq/trunk/test_build_visit/builds_static_BGQ/src/databases/unv/avtunvFileFormat.C"", line 2922.1: 1540-1101 (W) A return value of type ""vtkDataArray *"" is expected.
["
1480,Pending,VisIt,Bug,Normal,Rendering issues with wide line styles.,"","","",Brad Whitlock,05/28/2013,"",0,"",05/28/2013 03:23 pm,05/29/2013 12:37 pm,3 - Occasional,3 - Major Irritation,2.6.2,"","",All,Any,"An external user reported that saved images of 2D Contour plots show a lot of gaps along contour lines when wide line styles are used.

1. Open noise.silo
2. Add a Contour plot of hgslice
3. Add a Resample operator
4. Set the resampling X,Y values to 400x400
5. Draw the plot
6. Set the line width to 10
7. Save a 2000x2000 image

If you zoom in, you should be able to see various gaps in the rendered line. These gaps appear to be along cell boundaries.

I ran the user's script and dataset and the problem is much worse than what's observed with noise.silo. I ran with -dump and I can see that the line segments are being properly converted into polylines. We used to run into this problem more often when Contour was producing a large set of independent line segments because OpenGL's line rendering was not producing the desired output. When I added a filter to stitch line segments together into polylines, the problem was lessened.

I'm wondering now whether VTK is drawing the polylines as independent line segments."
1481,Pending,VisIt,Bug,Normal,CMake error in build with newer cmake.,"","","",Brad Whitlock,05/31/2013,"",0,"",05/31/2013 07:00 pm,06/19/2013 02:52 pm,2 - Rare,2 - Minor Irritation,2.6.2,"","",All,Any,"This happens at the end of the build when I run a newer cmake.

CMake Error: cmake version 2.8.10.2
Usage: /usr/gapps/visit/thirdparty_static/2.7.0/cmake/2.8.10.2/linux-ppc64_gcc-4.4/bin/cmake -E [command] [arguments ...]
Available commands: 
  chdir dir cmd [args]...   - run command in a given directory
  compare_files file1 file2 - check if file1 is same as file2
  copy file destination     - copy file to destination (either file or directory)
  copy_directory source destination   - copy directory 'source' content to directory 'destination'
  copy_if_different in-file out-file  - copy file if input has changed
  echo [string]...          - displays arguments as text
  echo_append [string]...   - displays arguments as text but no new line
  environment               - display the current environment
  make_directory dir        - create a directory
  md5sum file1 [...]        - compute md5sum of files
  remove [-f] file1 file2 ... - remove the file(s), use -f to force it
  remove_directory dir      - remove a directory and its contents
  rename oldname newname    - rename a file or directory (on one volume)
  tar [cxt][vfz][cvfj] file.tar file/dir1 file/dir2 ... - create a tar archive
  time command [args] ...   - run command and return elapsed time
  touch file                - touch a file.
  touch_nocreate file       - touch a file but do not create it.
Available on UNIX only:
  create_symlink old new    - create a symbolic link new -> old"
1484,Rejected,VisIt,Bug,Normal,Out of source build causes reset of specified compiler.,"","","",Brad Whitlock,06/04/2013,"",0,"",06/04/2013 05:58 pm,03/18/2014 07:03 pm,3 - Occasional,2 - Minor Irritation,2.6.2,"","",All,Any,"I've been struggling with BG/Q login nodes setting the compiler to /usr/local/bin/bgxlc instead of the compiler that I specified: /usr/bin/gcc. I find that the compiler is set to what I want when I configure but as soon as the PROJECT(VISIT) command is executed in our CMakeLists.txt, the compilers get set to the wrong value. Furthermore, I find that this is ONLY the case with out of source builds.

I was trying to have a single src build with separate compute_node and login_node out-of-source builds.

Out of source build:
<code><pre>
rzuseqlac2{whitlocb}181: /usr/gapps/visit/thirdparty_static/2.7.0/cmake/2.8.10.2/linux-ppc64_gcc-4.4/bin/cmake -DVISIT_CONFIG_SITE:FILEPATH=../src/config-site/rzuseqlac2-login.cmake -DCMAKE_INSTALL_PREFIX:PATH=/g/g19/whitlocb/Development/seq/trunk/visit2_7_0.linux-ppc64 -DCMAKE_BUILD_TYPE:STRING=Release -DVISIT_INSTALL_THIRD_PARTY:BOOL=ON ../src
-- Trying to include config-site file '../src/config-site/rzuseqlac2-login.cmake'
status************* login node build
-- Included: '../src/config-site/rzuseqlac2-login.cmake'
-- ****** CMAKE_C_COMPILER=/usr/bin/gcc
-- ****** CMAKE_CXX_COMPILER=/usr/bin/g++
-- ****** CMAKE_Fortran_COMPILER=
-- After project visit
-- ****** CMAKE_C_COMPILER=/usr/local/bin/bgxlc
-- ****** CMAKE_CXX_COMPILER=/usr/local/bin/bgxlC
-- ****** CMAKE_Fortran_COMPILER=
-- CMake Platform: Linux
</pre></code>

In source build:
<code><pre>
rzuseqlac2{whitlocb}186: /usr/gapps/visit/thirdparty_static/2.7.0/cmake/2.8.10.2/linux-ppc64_gcc-4.4/bin/cmake -DVISIT_CONFIG_SITE:FILEPATH=config-site/rzuseqlac2-login.cmake -DCMAKE_INSTALL_PREFIX:PATH=/g/g19/whitlocb/Development/seq/trunk/visit2_7_0.linux-ppc64 -DCMAKE_BUILD_TYPE:STRING=Release -DVISIT_INSTALL_THIRD_PARTY:BOOL=ON .
-- Trying to include config-site file 'config-site/rzuseqlac2-login.cmake'
status************* login node build
-- Included: 'config-site/rzuseqlac2-login.cmake'
-- ****** CMAKE_C_COMPILER=/usr/bin/gcc
-- ****** CMAKE_CXX_COMPILER=/usr/bin/g++
-- ****** CMAKE_Fortran_COMPILER=
-- After project visit
-- ****** CMAKE_C_COMPILER=/usr/bin/gcc
-- ****** CMAKE_CXX_COMPILER=/usr/bin/g++
-- ****** CMAKE_Fortran_COMPILER=
-- CMake Platform: Linux
</pre></code>"
1487,Pending,VisIt,Bug,Normal,Software rendering problems with multiple domains.,"","","",Brad Whitlock,06/05/2013,"",0,"",06/05/2013 06:02 pm,06/26/2014 01:51 pm,3 - Occasional,3 - Major Irritation,2.6.2,"","",All,Any,"These issues were reported by Matthew Wheeler at AWE.

email:
======
Iâ€™d like to report a couple of VisIt issues that one of our users came across recently.
 
There appear to be two problems:
Initially we were not sure if they were related â€“ but we now suspect them to be different problems. (?)
(The user was seeing both problems at the same time)
 
I have now managed to reproduce them in much simpler form with smaller and public domain datasets.
(See notes further down). Hopefully these will help someone who understands that area better than me to pin it down.
 
 
1)       Visible white lines/breaks, â€œrandomlyâ€ between some domains when using Parallel Software-Rendering.
 
User was running Client-Server, Software Rendering with a large 2D AMR dataset and trying to display a Pseudocolor Plot with a slightly transparent Mesh Plot superimposed. â€œWhite linesâ€ appear between some domains as you zoom in and out but disappear if you switch to Hardware Rendering or force the problem to run on a single processor (-np 1). The resultant images can look very bad with a large complicated dataset. 
I have shown that the dataset does not have to be AMR â€“ other 2D multi-domain datasets also seems to exhibit the same problem if you look carefully â€“ but they donâ€™t always look as bad.
 
The problem seems similar to the reported VisIt Bug #1054 â€“ â€œVisIt generates plots with gaps in between domainsâ€
Also possibly similar to Bug #1350 â€“ although this seems to have a different cause (and has been fixed?).

I think I have now managed to reproduce the problem with a much simpler dataset so hopefully this may help in debugging - see later.
 
 
2)       AMR levels appearing coarser than the levels defined in the dataset, i.e. not all the finer levels being shown. 
Sometimes switching levels off and on again seems to help â€“ but not always. 
Again switching to Non-Scalable Rendering (=Hardware Rendering) mode produces the correct result.
Plotting the Mesh isnâ€™t necessary to reproduce this problem.
See test datasets and example pictures.
 
 
We have tried experimenting with a whole bunch of factors .e.g.:
Whether SR is on or off Before you start the Plot.
Sometimes the first time you produce the Plot it is different to subsequent renderings
Adding extra Operators â€“ doesnâ€™t seem to affect the problem.
Re-Opening the dataset - ? - Not sure if this affects it
Occurs in different versions of VisIt â€“ discovered in 2.6.1 but seems to be present 
  in all the other versions that we still have installed  ~ 2.4.* - 2.7.0b
- Difficult to see what the common factors are.
 
User has a short term workaround to use Hardware Rendering for both problems â€“ but there must come a point when the datasets will become too large to display in this manner.
 
 
Test Datasets
--------------------
I have used two datasets to illustrate the problems â€“ which you should be able to get at:
 
multi_curv2d.silo
 - illustrates problem 1, 
A 2D Curvilinear Mesh database â€“ part of VisIt test suite (?) 
Consists of 5 domains/blocks in an arc.
 
amr2d_wmrgtree.silo
 - illustrates problems 1 and 2
A 2D AMR dataset downloaded from https://wci.llnl.gov/codes/silo/examples.html
(This is not actually as simple a dataset as it could be â€“ Iâ€™d be interested if you can find a more straightforward AMR dataset that we could both gain access to)
 
 
 
To Reproduce
---------------------
 
 Problem 1 â€“ Domain breaks:
 
 
In Parallel Software Rendering mode, running over multiple processors (np > 1)
 
Open multi_curv2d.silo (or amr2d_wmrgtree.silo)
 
Do a Pseudocolor Plot of an appropriate variable (say â€œuâ€ or â€œDensityâ€)
 
Add a Mesh Plot
Now turn the Transparency of the Mesh lines down below 100% e.g. 16%
 
 
Observe the â€œflickeringâ€ white lines between domains as you zoom in and out.
 
Note that if you switch to Hardware Rendering (which would be the default for small datasets!) you would get quite a pleasing result â€“ the Mesh would appear as a subtle hint superimposed on top of the colored surface.
This must say something about where the problem is occurring â€“ it would suggest that the data is being read-in and manipulated correctly â€“ the problem would appear to be further down the rendering pipeline.
 
 
 
Problem 2 - Coarse AMR levels:
 
Just try to plot a Pseudocolor Plot of the AMR dataset while in Multi-Processor, Software Rendering mode.
Note the chunky representation which is resolved when you switch to Hardware Rendering.
 
 
 
I am sending you some images illustrating the problems.
They are in pairs with a good/OK (HW) and a BAD (SR) version but otherwise using the same setup
 
Let me know if I can provide more information or need to clarify anything.

"
1490,Pending,VisIt,Feature,Normal,Support multiple materials and species per mesh.,"","","",Brad Whitlock,06/06/2013,"",0,"",06/06/2013 02:23 pm,06/19/2013 02:48 pm,"","","",3 - Medium,2 - Rare,All,Any,"Matt O'Brien would like support for multiple materials and species per mesh. For materials, he said that he has particles of different types that he uses materials to indicate their type. Particles are also passing through various background materials that he'd like to track. I think he has a similar use case in mind for species.

Matt can probably provide extended information. I'm paraphrasing a phone conversation."
1494,Pending,VisIt,Feature,Normal,Add VISIT_SERIAL flag to cmake build.,"","","",Brad Whitlock,06/10/2013,"",0,"",06/10/2013 06:25 pm,06/19/2013 02:46 pm,"","","",3 - Medium,2 - Rare,All,Any,"I'm building an engine-only build for rzuseq and it's building a bunch of ""_ser"" libraries too even though I won't need them. You see, on rzuseq, I install the engine-only parallel build into an install directory. I then install a login-node serial build into the *same* install directory, overwriting the engine_ser. I'd like for the compute node build to only build the parallel version of the engine in the first place. I'd like to specify this on the command line:

cmake -DVISIT_SERIAL:BOOL=OFF -DVISIT_PARALLEL:BOOL=ON -DVISIT_ENGINE_ONLY:BOOL=ON .

This change would be limited to ""_ser"" versions of executables and libraries in AVT, engine, visitconvert, and plugins."
1595,Pending,VisIt,Bug,Low,Scroll-wheel zooming stores intermediate views as undoable views.,"","","",Brad Whitlock,08/30/2013,"",0,"",08/30/2013 11:25 pm,09/13/2013 06:47 pm,1 - Exceptional,2 - Minor Irritation,trunk,"","",All,Any,Make a 3D plot and zoom using the scroll wheel. Now click undo view a few times. You'll see that intermediate zoom views were saved to the undo view stack. Maybe this makes sense but I was not expecting it.
1637,Pending,VisIt,Bug,Normal,FLUENT results not displayed properly.,"","","",Brad Whitlock,10/30/2013,"",0,"",10/30/2013 03:29 pm,11/06/2013 12:08 pm,2 - Rare,3 - Major Irritation,2.6.3,"","",All,Any,"This is a bug report from the visitusers.org forum. http://visitusers.org/forum/YaBB.pl?num=1381324763

There are 2 domains and when both are plotted with the Mesh plot, the mesh looks plausible. When only the first domain is plotted, you can see the holes that are the source of the complaint. It might be that there needs to be some ghosting that is not implemented in the FLUENT reader to make it produce the best results.

Data and images are attached to this submission.

forum post
==========
I am trying to load .cas files from a transient CFD simulation in Ansys FLUENT 14 that was run using adaptive mesh refinement to resolve shock waves in a flow field.

When I load the case into VisIt 2.6.3 and display the mesh, or try to plot any data, holes appear in the vicinity of the refined mesh. It looks to me like the nodes are not being connected properly when the mesh is loaded.

Some of the elements are displayed trapezoidal or triangular, whereas in the actual mesh, all of the elements are quadrilaterals and close to square in shape.

I tried attaching an image to show what I mean, but was not able to, so I've uploaded it here: imgur.com/fV7EoSV
It should look more like this imgur.com/vk1CEIx"
1640,Resolved,VisIt,Bug,Normal,Time step CMFE expressions from CMFE wizard are broken.,"","","",Brad Whitlock,10/31/2013,"",0,"",10/31/2013 06:15 pm,06/23/2017 04:46 pm,3 - Occasional,3 - Major Irritation,2.6.3,"","",All,Any,"The expressions made from the time step wizard are broken for time step differences. This is with VisIt's trunk.

QvisCMFEWizard::AddCMFEExpression(void)
{
    char file_var_part[1024];

    if( decision_donorType == DONOR_SINGLE_DATABASE ||
        decision_donorType == DONOR_MULTIPLE_DATABASES )
    {
      ...
    }
    else if (decision_donorType == DONOR_TIME_SLICES)
    {
        char file_var_part[1024]; // THIS IS WHY"
1691,Pending,VisIt,Bug,Normal,The uninstaller for Windows takes a long time.,"","","",Brad Whitlock,01/07/2014,"",0,"",01/07/2014 06:17 pm,02/24/2014 04:09 pm,3 - Occasional,2 - Minor Irritation,2.7.0,"","",Windows,Any,"The uninstaller for Windows takes a long time -- several minutes on one of my systems. It looks like each file is explicitly deleted. Is there a compromise to be had when deleting the files? For example, could the sub folders in the installation be deleted en masse while the top level files in the installation are explicitly deleted. I figure the explicit file deletion is a precaution for deleting too much but it is slooow."
1738,Pending,VisIt,Feature,Normal,Enhance export mechanism so variables can be renamed in the output.,"","","",Brad Whitlock,02/12/2014,"",0,"",02/12/2014 06:10 pm,03/25/2014 12:44 pm,"","","",3 - Medium,3 - Occasional,All,Any,"I had some data up that I wanted to export to Silo. I opened up the Export DB window and added some extra variables to the list and exported to Silo. When I tried plotting my exported file, I did not find any of the variables that I had exported. I figured it might be a problem with the variable names so I made expressions with better names that referenced the ugly variable names from the original data file. When I exported again, the resulting file had the variables that I cared about.

Later, when I quit out of VisIt, there were a bunch of Silo error messages on the console:

 DBPutUcdvar1: Invalid variable name - only alphanumeric and `_': UCDvar name
 ""Velocity Vectors [PLOT3D]"" is an invalid name.  Silo variable
 names may contain only alphanumeric characters
 or the _ character.

I propose that the Export DB mechanism and window allow the user to provide alternate names for the variables being written out."
1739,Pending,VisIt,Feature,Normal,Add global option to export that indicates whether expressions are saved to the file.,"","","",Brad Whitlock,02/12/2014,"",0,"",02/12/2014 06:16 pm,03/25/2014 12:43 pm,"","","",3 - Medium,3 - Occasional,All,Any,"I plotted a data file whose database plugin makes a bunch of expressions for various constants. I exported the file to Silo. The resulting Silo file contained all of the expression definitions. I had been trying to make a simplified file and did not want the expressions in the output.

Add an option in the ExportDBAttributes that indicates whether expressions will be saved out. The option can default to true.
Enhance the export mechanism and plugins with writers to honor the flag.
Expose the option in the Export DB window."
1741,Rejected,VisIt,Bug,Normal,Streamlines unable to integrate through vector field created via expressions.,"","","",Brad Whitlock,02/18/2014,"",0,"",02/18/2014 07:46 pm,10/20/2016 12:48 pm,4 - Common,4 - Crash / Wrong Results,2.7.1,"","",All,Any,"1. Open globe.silo
2. Make expression my_vector = {u,v,w}
3. Add a Streamline plot of ""my_vector""
4. Click Draw

The engine crashes.

I looked into this a little and it happens when the vector field is an expression. I tried on another dataset where I could reproduce the crash using the vector expression. If I exported the vector field to a new Silo file and plotted that Silo file then the Streamline plot worked. This is why I'm saying that the vector has to be produced via expressions.

I think there are multiple problems here that are causing the engine to fail later because of an invalid cell locator pointer. I did see that a dynamic_cast of the cell locator pointer in a constructor is failing, causing the locator to be NULL later.
 avtIVPVTKFaceField::avtIVPVTKFaceField( vtkDataSet* dataset, 
                                         avtCellLocator* locator) 
 : avtIVPVTKField(dataset, locator)
 {
     // Make this a cell locator for rectlinear face vector fields
     this->locRF = dynamic_cast<avtCellLocatorRectFace*>(locator);
 }

 Program received signal EXC_BAD_ACCESS, Could not access memory.
 Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000098
 0x0000000108f18764 in avtCellLocatorRectFace::SetDirection ()
 (gdb) where
 #0  0x0000000108f18764 in avtCellLocatorRectFace::SetDirection ()
 #1  0x0000000108f2e530 in avtIVPVTKFaceField::FindValue ()
 #2  0x0000000108f2e477 in avtIVPVTKFaceField::operator() ()
 #3  0x0000000108f2e412 in avtIVPVTKFaceField::operator() ()
 #4  0x0000000108f1c35b in avtIVPDopri5::Step ()
 #5  0x0000000108f19cc7 in avtIntegralCurve::Advance ()
 #6  0x0000000108f44c43 in avtPICSFilter::AdvectParticle ()
 #7  0x0000000108f394e7 in avtICAlgorithm::AdvectParticle ()
 #8  0x0000000108f486c0 in avtSerialICAlgorithm::RunAlgorithm ()
 #9  0x0000000108f379c2 in avtICAlgorithm::Execute ()
 #10 0x0000000108f449f9 in avtPICSFilter::Execute ()
 #11 0x000000010168c8de in avtFilter::Update ()
 ...
 #36 0x0000000100d8327f in avtPlot::Execute ()
 #37 0x00000001000315cd in DataNetwork::GetWriter ()
 #38 0x0000000100066228 in NetworkManager::GetOutput ()
 #39 0x000000010004eb30 in RPCExecutor<ExecuteRPC>::Execute ()
 #40 0x0000000102831f2d in Subject::Notify ()
 #41 0x000000010274877b in AttributeSubject::Notify ()
 #42 0x00000001028645c8 in Xfer::Process ()
 #43 0x000000010004a061 in Engine::EventLoop ()
 #44 0x0000000100016bdb in EngineMain ()
 #45 0x0000000100016cc9 in main ()
"
1755,Pending,VisIt,Bug,Normal,Issue building PIL with freetype on Mac 10.8.5,"","","",Brad Whitlock,02/27/2014,"",0,"",02/27/2014 01:37 pm,03/13/2014 12:23 pm,2 - Rare,2 - Minor Irritation,2.7.1,"","",OSX,Any,"I updated my libraries using build_visit from the trunk and ran the test suite and was not able to do any image differences. This happened because PIL did not build correctly. I tried building PIL directly after the fact. PIL was not able to get the right freetype includes to work, which must have been installed via MacPorts in /opt/local/include/freetype2. PIL wanted to look for the headers in /opt/local/include and then individual includes were assuming that the ""freetype"" directory existed. Well, on this system, the freetype headers were in the ""freetype2"" directory. I don't know whether that's common or because I have MacPorts packages installed. It would be nice if build_visit could check for freetype in a couple places and then doctor the setup.py for PIL to find the installed freetype.

optimusprime:Imaging-1.1.6 bjw$ /Users/bjw/Development/thirdparty_shared/2.8.0/python/2.7.5/i386-apple-darwin12_gcc-4.2/bin/python2.7 setup.py build
running build
running build_py
running build_ext
--- using frameworks at /System/Library/Frameworks
building '_imagingft' extension
/usr/bin/clang -fno-strict-aliasing -fno-common -fexceptions -DNDEBUG -fno-common -fexceptions -O2 -I/System/Library/Frameworks/Tcl.framework/Headers -I/System/Library/Frameworks/Tk.framework/Headers -IlibImaging -I/opt/local/include -I/Users/bjw/Development/thirdparty_shared/2.8.0/python/2.7.5/i386-apple-darwin12_gcc-4.2/include -I/opt/local/include/freetype2 -I/usr/include -I/Users/bjw/Development/thirdparty_shared/2.8.0/python/2.7.5/i386-apple-darwin12_gcc-4.2/include/python2.7 -c _imagingft.c -o  build/temp.macosx-10.8-x86_64-2.7/_imagingft.o
_imagingft.c:68:10: fatal error: 'freetype/fterrors.h' file not found
#include <freetype/fterrors.h>
         ^
1 error generated.
error: command '/usr/bin/clang' failed with exit status 1

I worked around this by creating a symlink to freetype2 called ""freetype"" in my /opt/local/include directory, but this required admin access and it may not be the best way forward.

Question: With PIL getting distributed with VisIt (because it's installed in the CLI) and requiring a freetype library, what's the likelihood that PIL will work in a VisIt binary other than where it was built? Does freetype need to be part of the VisIt build?"
1807,Pending,VisIt,Bug,Normal,Unable to change variable name for export of operator-created expressions.,"","","",Brad Whitlock,04/16/2014,"",0,"",04/16/2014 01:21 pm,05/22/2014 12:11 pm,3 - Occasional,2 - Minor Irritation,2.7.1,"","",All,Any,"Sometimes I need to change the name of a variable that I'm exporting. Normally when I do this, I use expressions and do something like this:

rename = original_name

In the case of operator expressions, that expression would have to look like this (operator name can change):

rename = <operators/ConnectedComponents/Mesh>

When I plot the ""rename"" variable, VisIt does not like it and it will not plot the variable. So, I am not able to use the normal strategy to export.

If I export the original plot to Silo, the Silo writer will make an ""operators/ConnectedComponents/Mesh"" variable. When I read that file back into VisIt, it shadows the normal operator-created expression, which makes it unusable. That's the reason for wanting to rename but it did not work.

I think there is a separate ticket for renaming expressions on export without having to rely on expressions. That's what I would want here."
1834,Pending,VisIt,Bug,Normal,Command recording of database export results in wrong export attributes.,"","","",Brad Whitlock,05/07/2014,"",0,"",05/07/2014 08:14 pm,05/14/2014 12:24 pm,3 - Occasional,2 - Minor Irritation,trunk,"","",All,Any,"1. Turn on command recording
2. Open the Export window
3. Change the filename, directory, and plugin type
4. Export
5. Stop recording

Note that #4 will not export anything but that's okay. When you look at the export DB attributes in the command window's recorded output it will have the default values instead of the values that you entered."
1847,Pending,VisIt,Bug,High,ghostcells simulation test has a couple wrong baselines.,"","","",Brad Whitlock,05/21/2014,"",0,"",05/21/2014 05:30 pm,05/27/2014 08:11 pm,3 - Occasional,4 - Crash / Wrong Results,2.7.1,"","",All,Any,"The ghostcells test for simulations shows the ghosted-out mesh and then another image of the same mesh's ghost cells. The ghost cells for ghostcells05, ghostcells17 do not look right; the shapes should be rectangular."
1850,Pending,VisIt,Bug,Normal,Printing failed with no error message.,"","","",Brad Whitlock,05/22/2014,"",0,"",05/22/2014 03:47 pm,05/27/2014 08:10 pm,2 - Rare,3 - Major Irritation,2.7.2,"","",OSX,Any,"I almost never print things but I had a picture up in VisIt that I wanted to print so I could write on the page. I clicked on Print window in the GUI and it brought up the typical print dialog where I clicked the print button. The VisIt status bar said ""Window 1 sent to printer"" but no print ever happened and no print job was queued. This was using VisIt 2.7.2 RC on MacOS X 10.8.5.

I don't know whether users try to print much but if it's not working then that's pretty bad."
1860,Pending,VisIt,Bug,Normal,Incorrect image produced when transparent meshes are used in the presence of other transparent geometry.,"","","",Brad Whitlock,05/29/2014,"",0,"",05/29/2014 06:32 pm,07/30/2014 12:48 pm,3 - Occasional,3 - Major Irritation,2.7.1,"","",All,Any,"The basic problem is that the image does not look right when a Mesh plot is made transparent and there are other transparent plots in the picture. When the viewer renders such a scene in hardware, the transparent plots' alpha looks to be modified by the opacity of the lines, making opaque geometry under the lines show more brightly. When running in parallel on a multi-domain dataset, the problems are worse. In that case, various parts of the mesh lines are replaced with the background color. This probably has to do with how the domains are composited.

Transparency relies on the transparency actor for depth sorting. In parallel, the actor is also used to render transparent geometry in a second pass. I'm guessing that since the Mesh plot has its own renderer, and does not seem to make use of the transparency actor, that VisIt is not able to correctly render the transparent geometry in all of these cases. Results might be better if all the mesh lines were added into the transparency actor.

This looks *really* bad.

It might also be related to #1487.

See the attached script and result images for a reproducer.
"
1861,Pending,VisIt,Bug,Normal,WriteScript function is not writing attributes.,"","","",Brad Whitlock,05/30/2014,"",0,"",05/30/2014 04:51 pm,06/09/2014 11:24 am,2 - Rare,3 - Major Irritation,2.7.1,"","",All,Any,"The WriteScript function in the CLI writes a Python script that is meant to reproduce the visualization that has been set up. The function is not reliably writing out the plot, operator attributes. The annotation attributes are not being written to the script either. I thought that the script wrote out all of the relevant state objects at one point."
1869,Pending,VisIt,Bug,High,Incorrect picture with Isosurface operator.,"","","",Brad Whitlock,06/11/2014,"",0,"",06/11/2014 04:56 pm,07/08/2014 04:11 pm,2 - Rare,4 - Crash / Wrong Results,trunk,"","",All,Any,"The attached script uses the Isosurface operator to generate a plot and then we then change the active plot variable and the the created geometry turns bad. Closing the compute engine and regenerating the plot causes the geometry to be correct.

I ran into a similar bug last fall that was caused by an old avtScalarTree being used when it should have been discarded because the data validity in the contract should have been invalidated. That bug was with the IndexSelect operator if I remember correctly. Since the symptoms are so similar, this is probably the same kind of thing."
1878,Resolved,VisIt,Bug,High,"mk_branch_from_trunk taking hours, seems to ultimately fail.","","","",Brad Whitlock,06/17/2014,"",0,"",06/17/2014 04:44 pm,08/28/2014 12:33 pm,3 - Occasional,3 - Major Irritation,2.7.1,"","",All,Any,"I'm not able to reliably make branches like I used to using the mk_branch_from_trunk script. I fired off the script a couple of hours ago and it has not come back indicating that the branch was created. I did the same yesterday and saw on anonymous svn that the branches were at least partially created. I don't think they got the branch to trunk revision number file though, which is critical for merge book-keeping.

The script should take a few minutes MAX.

Is this due to large amounts of data being copied? Or is it that the svn file system performance consistently sucks? I don't suspect the latter because a checkout of the trunk only takes a few minutes."
1892,Pending,VisIt,Bug,Normal,AMRStitchCells operator does not work for AMR test data files.,"","","",Brad Whitlock,06/26/2014,"",0,"",06/26/2014 02:26 pm,07/08/2014 04:03 pm,3 - Occasional,3 - Major Irritation,2.7.3,"","",All,Any,"I tried the AMRStitchCell operator because I wanted to see if stitch cells could be used as a way to make a visualization that did not suffer from extra geometry at inter-level boundaries. I tried the operator with SAMRAI, Chombo, AMR file formats and for each dataset I tried, VisIt would give me some error suggesting that not enough data was present to make stitch cells. I could not find a dataset that was able to coax VisIt to make stitch cells.

Error messages:

SAMRAI:
viewer: The pipeline object is being used improperly: Database plugin did not properly set level cell sizes using SetLevelCellSizes() method.
ERROR: Mesh:  ()

Chombo:
viewer: The pipeline object is being used improperly: Need structured domain boundaries to compute stitch cells.

AMR:
ERROR: Mesh:  ()
viewer: The pipeline object is being used improperly: Need exactly one layer of ghost cells (except at domain boundary) to create stitch cells.

Operator window with auto apply:
ERROR: The value(s) for 'Domains' were invalid. Resetting to the last good value(s) of .

This issue is done when the following are completed:

1. Document somewhere all extra information that a database reader needs to provide in order to produce stitch cells. Apparently, it needs at least base_index, SetLevelCells on the domain nesting data, and exactly 1 layer of ghost cells. That last one is a killer since VisIt ought to make the ghost cells if it does not have them.
2. Fix SAMRAI, Chombo, Boxlib readers so they provide needed information.
3. Ensure that StitchCells operator works with SAMRAI, Chombo, Boxlib test data and create test cases for nightly regression suite.
4. Fix problem with the operator window when auto apply is enabled.
"
1893,Pending,VisIt,Bug,Normal,Remove interior faces at AMR level boundaries.,"","","",Brad Whitlock,06/26/2014,"",0,"",06/26/2014 02:54 pm,07/08/2014 04:03 pm,3 - Occasional,2 - Minor Irritation,2.7.3,"","",All,Any,"I tried looking for keywords like amr, ghost, interior, bound to see if there was an issue for this but I did not find anything.

When you have a 3D AMR mesh, VisIt does not remove all faces shared between patches at level boundaries. It looks like some amount of removal is done but much of the boundaries remain. This causes the plots to look bad when transparency is used (transparent Subset, transparent Pseudocolor).

This happens for a variety of AMR file formats and it suggests that VisIt's ghost zone generation is not quite producing enough ghost data to remove the interior faces at AMR level boundaries.

It may be that something like the AMRStitchCell operator eventually gets improved enough to be moved into VisIt's ghost zone generation routines.

*Done:*
This issue is done when a set of different 3D rectilinear AMR datasets can be plotted using the Subset and Pseudocolor plots with transparency and have no inter-level interior geometry that fouls the look of the transparent plot (when looking at the entire dataset). VisIt must handle this automatically, with no special operators, etc. What is desired in that case is a transparent box that would match what would be plotted as when a single-domain rectilinear grid is plotted using transparency(see attached image that provides a mock-up). This will work in parallel too."
1902,Pending,VisIt,Bug,High,The XDMF reader is unable to use more than 1000 files in a time series.,"","","",Brad Whitlock,07/09/2014,"",0,"",07/09/2014 01:09 pm,11/30/2016 07:23 pm,3 - Occasional,4 - Crash / Wrong Results,2.7.3,"","",All,Any,"The XDMF reader is unable to use more than 1000 files in a time series. This is likely a limit on open file descriptors in the XDMF reader. This report was made at the visitusers.org forum:

I use VisIt to visualize the outputs of my pflotran simulations which are in XDMF-format. I realized that Visit would not accept more than one thousand xml-files at the time , otherwise it gives me the error message quoted below.

The obvious workaround has been to sort my output into folders containing < 1000 files each and open them one at the time. This is tedious though, so I wonder if anyone has run onto a similar problem or has a solution to force visit to accept a larger number of input files.

Quote:
VisIt could not read from the file ""/****/pflotran-*.xmf database"".

The generated error message was:

There was an error opening /****/pflotran-*.xmf database. It may be an invalid file.
VisIt tried using the following file format readers to open the file: Xdmf, Silo

If you know the specific format reader VisIt should use to
read this data, you can use Open As... (GUI) or
'-o <file>,<plugin> (CL arg.) and identify that specific reader
for VisIt to try. This will possibly give more information on
the exact error. "
1951,Pending,VisIt,Bug,Normal,Merge operator doesn't work on multi_ucd3d.silo,"","","",Brad Whitlock,08/13/2014,"",0,"",08/13/2014 12:34 pm,08/26/2014 04:21 pm,2 - Rare,4 - Crash / Wrong Results,2.7.3,"","",All,Any,"I enabled the Merge operator because I wanted to try and merge all geometry from a multi-domain Silo file into a single domain before exporting the data to Xmdv. I thought this was what the operator was for (and seem to recall doing this kind of operation in the past) yet it did not work.

1. Open multi_ucd3d.silo
2. Make a Pseudocolor plot of d
3. Add a Merge operator
4. Set the merge operator attributes to ""Merge across all processors"".
5. Apply
6. Draw

I get this error message:

Pseudocolor:  ()
viewer: Tried to access -1 of 36."
1996,Pending,VisIt,Feature,High,Remove ViewerQueryManager::Instance(),"","","",Brad Whitlock,09/24/2014,"",0,"",09/24/2014 02:13 pm,10/13/2014 01:01 pm,"","","",3 - Medium,3 - Occasional,All,Any,"The viewer refactoring provides access to most important viewer objects via a Get method in ViewerBase instead of using ::Instance() all over the place. The object that gets created can be created on demand in the Get method either directly or via ViewerFactory, which can permit objects to be overridden. The ::Instance() pattern does not permit inheritance either, which was the chief cause for removing ::Instance() for so many other viewer classes.

1. Remove the ::Instance() method from ViewerQueryManager
2. Create a GetViewerQueryManager() method in ViewerBase that returns the single instance.
3. Replace all occurances of ViewerQueryManager::Instance() with GetViewerQueryManager()"
1997,Pending,VisIt,Feature,High,Remove ViewerWindowManager::Instance(),"","","",Brad Whitlock,09/24/2014,"",0,"",09/24/2014 02:14 pm,10/13/2014 01:01 pm,"","","",3 - Medium,3 - Occasional,All,Any,"The viewer refactoring provides access to most important viewer objects via a Get method in ViewerBase instead of using ::Instance() all over the place. The object that gets created can be created on demand in the Get method either directly or via ViewerFactory, which can permit objects to be overridden. The ::Instance() pattern does not permit inheritance either, which was the chief cause for removing ::Instance() for so many other viewer classes.

1. Remove the ::Instance() method from ViewerWindowManager
2. Create a GetViewerWindowManager() method in ViewerBase that returns the single instance.
3. Replace all occurances of ViewerWindowManager::Instance() with GetViewerWindowManager()"
2000,Pending,VisIt,Bug,Normal,Spreadsheet plot does not update values as a result of releasing slice slider.,"","","",Brad Whitlock,09/24/2014,"",0,"",09/24/2014 05:30 pm,10/13/2014 12:59 pm,3 - Occasional,2 - Minor Irritation,2.7.3,"","",OSX,Any,"On Mac, the Spreadsheet plot shows a single slice through the data instead of creating many tabs. This was originally for efficiency reasons. Now, it seems that when you plot a 3D dataset and use the slice slider in the Spreadsheet viewer to go to a new slice value, the main spreadsheet tab does not update with new values.

1. Open noise.silo
2. Make a Spreadsheet plot and click Draw
3. In the Spreadsheet viewer, change the slice slider and release. Nothing changes.
4. Make another change in the Spreadsheet window (like turn off one of the check boxes) and the numbers will update."
2001,Pending,VisIt,Bug,Normal,Axis annotations affected by ambient light.,"","","",Brad Whitlock,09/24/2014,"",0,"",09/24/2014 06:24 pm,10/13/2014 12:58 pm,3 - Occasional,2 - Minor Irritation,2.7.3,"","",All,Any,"Axis annotations seem to be subject to lighting when you create a second light source and make it be an ambient light source.

1. Open noise.silo
2. Turn on Auto apply (for convenience)
3. Invert the background color (so bg=black, fg=white)
4. Make a Pseudocolor plot of hardyglobal
5. Click Draw
6. Open the Lighting window
7. Select the 2nd light source
8. Enable the light source
9. Make the light be an ambient light
10. Turn down its brightness to 50%

At this point, the axis annotations should dim."
2138,Pending,VisIt,Bug,High,"""treat all dbs as time varying"" flag interacts poorly with simulations.","","","",Brad Whitlock,02/09/2015,"",0,"",02/09/2015 02:48 pm,02/17/2015 04:20 pm,3 - Occasional,4 - Crash / Wrong Results,2.8.2,"","",All,Any,"From Jean Favre:
==================

With this mail, I simply wanted to report on some problem I had connecting to an in-situ demo, and the reason/solution I have found. I don't recall seeing this documented on the web pages, so it might be interesting to bring that up.

The problem is that I could not connect reliably to any demo (nothing from tools/DataManualExamples/Simulations).

This was a problem on one desktop, but not the other one. So something was fishy in the config file...

it turns out that the following line in the config file

<Field name=""treatAllDBsAsTimeVarying"" type=""bool"">true</Field>

would cause things to go wrong. It would connect, but the Simulations panel was never enabled.

switching back to ""treatAllDBsAsTimeVarying"" = false

fixes it and everything works fine. :-)

I have spent many hours trying to debug this. So if this can save you or other people some time...

Cheers
-----------------
Jean "
2150,Pending,VisIt,Bug,Normal,Ghost node type NODE_NOT_APPLICABLE_TO_PROBLEM not handled well.,"","","",Brad Whitlock,02/17/2015,"",0,"",02/17/2015 01:41 pm,02/19/2015 08:01 pm,3 - Occasional,4 - Crash / Wrong Results,2.8.2,"","",All,Any,"We were instrumenting a simulation and we added I-blanking to a curvilinear mesh via libsim. I-blanks are added to a curvilinear mesh by tagging on an array containing VISIT_GHOSTNODE_REAL/VISIT_GHOSTNODE_BLANK via VisIt_CurvilinearMesh_setGhostNodes. Under the covers in the SimV2 reader, this creates an ""avtGhostNodes"" array with NODE_NOT_APPLICABLE_TO_PROBLEM in it where we don't want the nodes or cells incident to that node to be present in the VisIt plots. Ghost nodes were used for blanking in the simulation because it thinks in terms of nodes.

VisIt had some problems using ghost nodes for I-blanking:
1. A Contour plot completely ignored blanked nodes.
2. A Pseudocolor+Slice plot did take the blanked nodes into account but it must have tried to remove the nodes post-slice because the interfaces where the nodes/cells were supposed to be blanked were jagged.

Granted, this type of I-blanking is probably not used much in VisIt and maybe libsim is the only way to input this kind of data but it should work. Ghost cells work.
"
2151,Pending,VisIt,Bug,Normal,The visit_writer module is not installed in VisIt CLI.,"","","",Brad Whitlock,02/17/2015,"",0,"",02/17/2015 02:01 pm,02/19/2015 08:00 pm,3 - Occasional,3 - Major Irritation,2.8.2,"","",All,Any,"The visit_writer module for Python can make it relatively easy to make valid VTK data files from Python. Apparently visit_writer is not installed as a module in the VisIt CLI. This bit me when I wanted to create a quick file format conversion script that I could give to a user who already had VisIt. Other options either require a more complex script or a program that must be compiled against libraries like Silo.

surface86{whitlocb}22: /usr/gapps/visit/bin/visit -nowin -cli
Running: cli2.8.2 -nowin
Running: viewer2.8.2 -nowin -noint -host 127.0.0.1 -port 5600
>>> import visit_writer
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
ImportError: No module named visit_writer"
2153,Pending,VisIt,Feature,Normal, Host profile window and internallauncher change to allow easier addition of launchers.,"","","",Brad Whitlock,02/17/2015,"",0,"",02/17/2015 03:31 pm,02/19/2015 08:00 pm,"","","",3 - Medium,3 - Occasional,All,Any,"To add a new launch method for VisIt, one must add an option with the launch string (e.g. ""llsubmit/mpirun"") in the Host Profiles window and then change the internallauncher script to add a new job submitter class. It would be better to change how things work a little to avoid the step that requires the gui to be modified/recompiled.

1. Enhance internallauncher a little to enumerate the supported launcher/sublauncher configurations and store them in a VISIT_LAUNCHERS environment variable before starting the GUI. This should be fairly simple. Create all the job submitters and ask them what their launcher/sublaunchers are and add to a list which then makes the environment variable.
2. Change the Host profile GUI window so it populates the available launcher options based on the VISIT_LAUNCHERS environment variable. Give the user the option to type in a custom string for the launcher.
"
2186,Pending,VisIt,Bug,High,Issue building Pillow on Mac,Cyrus Harrison,"","",Brad Whitlock,03/20/2015,"",0,"",03/20/2015 03:56 pm,04/01/2015 03:02 pm,2 - Rare,3 - Major Irritation,2.9.0,"","",All,Any,"I went to run the test suite on Mac and it was not able to import PIL. I tried ""import PIL"" using the Python that build_visit had made for me and still no luck. I blew away my python build and had build_visit do it over. I noticed that it was not able to build Pillow (I guess we switched to Pillow). I tried building Pillow manually following the steps in the build_pillow function from bv_python.sh. I could not get the build to work because the Python that build_visit created for me was missing the ez_build stuff that lets ""python setup.py build"" work.

I was able to fix it like this:
1. Download https://bootstrap.pypa.io/ez_setup.py
2. python ez_setup.py

Then build pillow
3. python ./setup.py build
4. python ./setup.py install

The bottom line here is that the build_python may need to first make sure that ez_setup.py has been installed or the pillow build can fail.
https://pypi.python.org/pypi/setuptools"
2222,Pending,VisIt,Feature,Normal,Use the Python created by build_visit to build Mesa.,"","","",Brad Whitlock,04/09/2015,"",0,"",04/09/2015 12:52 pm,04/21/2015 07:08 pm,"","","",3 - Medium,3 - Occasional,All,Any,"When --mesa is added to the build_visit command line, it invokes the Mesa build, which uses configure to find a ""python2"" interpreter on the system. That interpreter is used later on in the Mesa build and it attempts to use the libxml2 module. This module is not present on some Linux clusters and the Mesa build fails because the libxml2 module cannot be located. Can the Python that build_visit creates build libxml2 and then be used when building Mesa so we don't rely on an external (potentially broken) Python interpreter?

1. Have build_python install libxml2 into the Python that VisIt builds
   a. Get the sources from ftp://xmlsoft.org/libxml2/python/libxml2-python-2.6.15.tar.gz
   b. tar zxvf libxml2-python-2.6.15.tar.gz
   c. cd libxml2-python-2.6.15
   d. python setup.py build install
2. Patch the Mesa configure (or mess with the path) so it locates the ""python2"" interpreter that build_visit created.
"
2244,Pending,VisIt,Bug,High,"Strange --prefix install paths when specifying compilers via --cc, --cxx to build_visit","","","",Brad Whitlock,04/24/2015,"",0,"",04/24/2015 07:18 pm,05/05/2015 07:23 pm,2 - Rare,2 - Minor Irritation,2.8.2,"","",All,Any,"Hopper has multiple gcc versions available via modules. I wanted to explicitly specify the path to a gcc that I had load via modules so I would not accidentally get some other gcc on the system. Of course, this caused the auto-generated name for the install directories to include the path to the gcc compiler, which is not what I expected.

# command line
./build_visit --console --no-visit --no-thirdparty --thirdparty-path /global/u1/w/whitlocb/Development/thirdparty_static/2.9.0 --static --silo --hdf5 --szip --cc /opt/gcc/4.9.2/bin/gcc --cxx /opt/gcc/4.9.2/bin/g++ --makeflags -j4 --fortran

# Here's what build_visit actually did. Note the funky --prefix path.
Invoking command to configure HDF5
./configure CXX=""/opt/gcc/4.9.2/bin/g++"" CC=""/opt/gcc/4.9.2/bin/gcc""         CFLAGS=""-m64   -O2"" CXXFLAGS=""-m64   -O2""         FC=""/opt/gcc/4.9.2/bin/gfortran"" F77=""/opt/gcc/4.9.2/bin/gfortran"" FCFLAGS="" -m64 -fPIC"" FFLAGS="" -m64 -fPIC"" --enable-fortran         --prefix=""/global/u1/w/whitlocb/Development/thirdparty_static/2.9.0/hdf5/1.8.7/linux-x86_64_/opt/gcc/4.9.2/bin/gcc""         --with-szlib=/global/u1/w/whitlocb/Development/thirdparty_static/2.9.0/szip/2.1/linux-x86_64_/opt/gcc/4.9.2/bin/gcc --disable-shared --enable-static 

# Here's what I expected.
 --prefix=""/global/u1/w/whitlocb/Development/thirdparty_static/2.9.0/hdf5/1.8.7/linux-x86_64_gcc-4.9""

I ended up dropping the --cc and --cxx arguments and it did what I wanted. Still, making that original --prefix path seems like a bad behavior."
2251,Pending,VisIt,Bug,Normal,"Builds against installed VisIt fails to link due to ""-lvtksys""","","","",Brad Whitlock,05/06/2015,"",0,"",05/06/2015 09:45 am,05/12/2015 07:05 pm,3 - Occasional,3 - Major Irritation,2.9.0,"","",All,Any,"I tried the following on hopper so I could make an updated Xdmf plugin. I ran into problems with the generated link.txt files referencing ""-lvtksys"" when they should instead have attempted to link with ""-lvtksys-6.1"". I worked around the issue by editing the link.txt files that CMake made. Still, this ought to work. This was on hopper.nersc.gov. I don't know whether it happens elsewhere.

1. ssh hopper.nersc.gov
2. svn co http://portal.nersc.gov/svn/visit/trunk/src/databases/Xdmf
3. cd Xdmf
4. /usr/common/graphics/visit/bin/xml2cmake -clobber Xdmf.xml
5. cmake .  ( I used my own cmake )
6. make VERBOSE=1"
2258,Pending,VisIt,Feature,Normal,Add indication of user vs built-in plugin in the Plugin Manger window.,"","","",Brad Whitlock,05/07/2015,"",0,"",05/07/2015 02:50 pm,05/12/2015 06:46 pm,"","","",3 - Medium,2 - Rare,All,Any,I built a new version of the Xdmf reader to override the installed Xdmf reader on hopper. I could not tell whether my plugin was being used or not because Xdmf is a standard VisIt plugin and the Plugin Manager window alphabetizes the plugin names. User plugins are loaded first but I could not tell. It would be nice if the Plugin Manager window had an indication of whether the plugin is from the user or the installed directory.
2275,Pending,VisIt,Bug,Normal,Scatter plot wizard shows the variables for the wrong file.,"","","",Brad Whitlock,05/20/2015,"",0,"",05/20/2015 12:59 pm,05/26/2015 06:44 pm,2 - Rare,3 - Major Irritation,2.9.0,"","",All,Any,"Hello,

I'm trying to overlay a ScatterPlot on a Pseudocolor plot with data
from two different files, and I think this shows up a bug in VisIt:
(using VisIt 2.9.1 on Linux, from the latest 64-bit Ubuntu 11.04
binary download)

Steps to reproduce:
1) Open curv3d.silo from the visit_data_files.tar.gz (it doesn't have
to be Silo format, but this allows easy reproducibility)
2) Plot Pseudocolor of ""u""
3) For the same window, open scatter_new.okc (inline below - fairly
simple Xmdv format file)
4) Plot Scatter -> x
5) In the Scatter Plot Setup window, I want to select ""y"" as the
second variable, and ""z"" as the third (and perhaps ""p"" as the color
variable)
However, the variables shown in the drop-down menus seem to be from
curv3d.silo, not scatter_new.okc, so I can't do this.

If I select any variable from curv3d.silo, exit the Scatter Plot Setup
dialog box, and then edit the Scatter properties, I do see the correct
variables from scatter_new.okc so this is one solution.

The other solution/workaround is to plot the ScatterPlot first, but it
seems this shouldn't be necessary.

Is this an actual bug in VisIt or am I missing something obvious?

Given that there are two easy workarounds, this is a fairly minor
problem, but it would be nice if it could be fixed, and might affect
other multi-file plots.

Thanks,

Philip Blakely

scatter_new.okc:
6 4 12
x
y
z
t
rho
p
0.2 0.5 10
0.5 0.8 10
0.3 1.0 10
0.1 0.1 10
0.555403 2.27037 10
10.5287 10.5721 10
0.2 0.5 1.0 0.1 2.27037 10.5287
0.3 0.6 0.9 0.1 0.624075 10.5598
0.4 0.7 0.6 0.1 0.555403 10.5626
0.5 0.8 0.3 0.1 0.67199 10.5721"
2276,Pending,VisIt,Bug,Normal,Read of environment limited to 10k in libsim.,"","","",Brad Whitlock,05/20/2015,"",0,"",05/20/2015 03:09 pm,05/26/2015 06:42 pm,1 - Exceptional,4 - Crash / Wrong Results,2.9.0,"","",All,Any,"In the ReadEnvironmentFromCommand function inside libsim, which is used to read the VisIt environment, we limit the buffer used to store the environment to 10k. This enough for most cases. I was contacted by a user who said that the 10k limit was causing the environment to get truncated and this caused the load of the libsim runtime to fail. We will need to either bump up the limit (maybe 32k) or change the code so it can support various buffer sizes."
2351,Pending,VisIt,Feature,Normal,Enhance labels with support for more fonts.,"","","",Brad Whitlock,08/05/2015,"",0,"",08/05/2015 02:15 pm,08/05/2015 04:07 pm,"","","",3 - Medium,3 - Occasional,All,Any,"There was a question at visitusers.org about setting the font on axis labels. It seems that newer VTK versions have a vtkTextProperty that enables the path to a TTF font file to be used. This enables texture-based fonts in VTK to be rendered using the specified font. It would be great to investigate this more and allow the use of system fonts for VisIt axis labels, legends, and text annotations.

Issues:
1. Use Qt to locate and select font to use. Identify the file for the selected font and send to VTK text actor. This presents some client/server issues for SR mode. Send the font file to the server and cache it in ~/.visit?
2. There may be no vector font that supports custom font files. Silly since font code will often make triangles from the TTF font and rasterize those triangles to a texture. A long time ago, I had a way of turning the font definition into triangles. There must still be a way to do this and make a VTK vector text actor suitable for 3D axis labels.
3. Use a custom vector font in the Label plot."
2373,Pending,VisIt,Bug,Normal,Test suite's --retry flag is broken.,"","","",Brad Whitlock,09/09/2015,"",0,"",09/09/2015 07:04 pm,09/15/2015 06:34 pm,3 - Occasional,2 - Minor Irritation,2.8.2,"","",All,Any,I was running the test suite and tried the --retry flag to try and get it to run again but only on the failed tests from my prior run. The flag does not work and causes the Python interpreter to bail because there is no definition for the TestSuiteResults class.
2382,Pending,VisIt,Bug,High,"Files written by ""visit_composite"" tool have compatibility problems.","","","",Brad Whitlock,09/18/2015,"",0,"",09/18/2015 09:01 pm,10/08/2015 01:45 pm,3 - Occasional,2 - Minor Irritation,trunk,"","",All,Any,"I was writing a test case for template movies and ran into some problems with the files that were output from visit_composite. That's the program that assembles different viewports and does transitions and compositing effects. The program was recently changed to use VTK to write out files to remove a non-portable dependency on ImageMagick.

1. When I exported the template movie to MPEG, the PNG files that were produced choked ffmpeg on surface.
2. When I exported the template movie to TIFF, VisIt could not read in the resulting TIFF images and complained about adding 0's to pad the data array.
3. When I exported the template movie to BMP and PNG, VisIt could not faithfully draw the images I expected. I often got white, black, or red for the whole image.

I'm guessing that alpha is getting written out -- or something weird like that.

I ended up having to add a call to ""convert"" in the test case to make valid PNGs that VisIt likes. It would be good to correct 1-3 above and fix the test5 function in the movie.py test case so convert is no longer needed. Verify that template movies can make MPEG movies with ffmpeg."
2393,Pending,VisIt,Bug,High,CloseDatabase prior to CMFE causes parallel engine to crash during CMFE.,"","","",Brad Whitlock,09/25/2015,"",0,"",09/25/2015 02:41 am,10/08/2015 01:35 pm,3 - Occasional,5 - Very Serious,trunk,"","",All,Any,"Kathleen reported that the export_db.py test was failing on Windows because it tried to remove files that were open in the engine. I added the appropriate CloseDatabase() calls to the test to try and make it more Windows-friendly. Things seemed okay until I ran the test case in parallel. In parallel, the presence of certain CloseDatabase() calls causes the engine to crash while processing the load balancing for the CMFE. This happens on Mac and Linux. I commented out all the CloseDatabase() lines in export_db.py for the time-being. This bug should be considered done when the engine does not crash in parallel and the export_db.py test passes in parallel with the calls to CloseDatabase().

<pre>
import os, sys

def silo_data_path(filename):
    return os.path.join(""/usr/gapps/visit/data"", filename)

def cmfe_silo_data_path(filename):
    return silo_data_path(filename)

OpenDatabase(silo_data_path(""globe.silo""))
AddPlot(""Pseudocolor"", ""t"")
DrawPlots()
DeleteAllPlots()
CloseDatabase(silo_data_path(""globe.silo""))   ### If we do not have this then we're fine. Closing the database hoses CMFE.

OpenDatabase(silo_data_path(""wave.visit""))
DefineScalarExpression(""cmfe"", ""conn_cmfe(coord(<%s:quadmesh>)[1], quadmesh)"" % cmfe_silo_data_path(""wave0020.silo""))
AddPlot(""Pseudocolor"", ""cmfe"")
DrawPlots()
SaveWindow()

sys.exit(0)
</pre>

Here's the command I used on surface: ./visit -cli -np 2 -l srun -nowin -s crash.py

Here's the stack I get when I run the parallel engine under GDB:
<pre>
Program received signal SIGSEGV, Segmentation fault.
0x0000000000000019 in ?? ()
Missing separate debuginfos, use: debuginfo-install freetype-2.3.11-15.el6_6.1.x86_64 keyutils-libs-1.4-5.el6.x86_64 krb5-libs-1.10.3-37.1chaos.ch5.3.x86_64 libICE-1.0.6-1.el6.x86_64 libSM-1.2.1-2.el6.x86_64 libX11-1.6.0-2.2.el6.x86_64 libXau-1.0.8-2.1.ch5.2.x86_64 libXext-1.3.2-2.1.el6.x86_64 libXt-1.1.4-6.1.el6.x86_64 libcom_err-1.41.12-21.el6.x86_64 libgcc-4.4.7-11.el6.x86_64 libgfortran-4.4.7-11.el6.x86_64 libgomp-4.4.7-11.el6.x86_64 libibumad-1.3.9-1.el6.x86_64 libibverbs-1.1.8-3.el6.x86_64 libicu-4.2.1-11.el6.x86_64 libipathverbs-1.3-3.el6_5.x86_64 libmlx4-1.0.6-6.el6.x86_64 libmthca-1.0.6-3.el6.x86_64 libnl-1.1.4-2.el6.x86_64 librdmacm-1.0.18.1-1.el6.x86_64 libselinux-2.0.94-5.8.el6.x86_64 libstdc++-4.4.7-11.el6.x86_64 libuuid-2.17.2-12.18.el6.x86_64 libxcb-1.9.1-2.el6.x86_64 libxml2-2.7.6-17.el6_6.1.x86_64 mesa-libGLU-10.1.2-2.el6.x86_64 munge-libs-0.5.11-1.ch5.1.1.x86_64 numactl-2.0.9-2.el6.x86_64 openssl-1.0.1e-30.el6_6.11.x86_64 zlib-1.2.3-29.el6.x86_64
(gdb) where
#0  0x0000000000000019 in ?? ()
#1  0x00002aaaaf596fa2 in avtDatabase::GetMetaData(int, bool, bool, bool) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtdatabase_par.so
#2  0x00002aaaab5db6d4 in LoadBalancer::GetMeshName(ref_ptr<avtContract>, int) () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#3  0x00002aaaab5dc0ae in LoadBalancer::Reduce(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#4  0x00002aaaab5deb17 in ReduceCallback(void*, ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#5  0x00002aaab07c34b8 in avtOriginatingSource::BalanceLoad(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#6  0x00002aaab07c4589 in avtOriginatingSource::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#7  0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#8  0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#9  0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#10 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#11 0x00002aaaada602a6 in avtCMFEExpression::Execute() () from /g/g17/whitlocb/Development/trunk/src/lib/libavtexpressions_par.so
#12 0x00002aaab07a4082 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#13 0x00002aaaadb098af in avtExpressionEvaluatorFilter::Execute() () from /g/g17/whitlocb/Development/trunk/src/lib/libavtexpressions_par.so
#14 0x00002aaab07a4082 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#15 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#16 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#17 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#18 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#19 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#20 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#21 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#22 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#23 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#24 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#25 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#26 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#27 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#28 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#29 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#30 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#31 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#32 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#33 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#34 0x00002aaab07b2c0d in avtDataObjectSink::UpdateInput(ref_ptr<avtContract>) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#35 0x00002aaab07a3f23 in avtFilter::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#36 0x00002aaab0736c70 in avtDataObject::Update(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#37 0x00002aaab07be3e0 in avtTerminatingSink::Execute(ref_ptr<avtContract>) () from /g/g17/whitlocb/Development/trunk/src/lib/libavtpipeline_par.so
#38 0x00002aaaaebeff2e in avtPlot::Execute(ref_ptr<avtDataObject>, ref_ptr<avtContract>, WindowAttributes const*) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libavtplotter_par.so
---Type <return> to continue, or q <return> to quit--- 
#39 0x00002aaaab5addd7 in DataNetwork::GetWriter(ref_ptr<avtDataObject>, ref_ptr<avtContract>, WindowAttributes*) ()
   from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#40 0x00002aaaab5ee281 in NetworkManager::GetOutput(bool, bool, float*) () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#41 0x00002aaaab5d4b83 in EngineRPCExecutor<ExecuteRPC>::Execute(ExecuteRPC*) () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#42 0x00002aaab5bca78c in Subject::Notify() () from /g/g17/whitlocb/Development/trunk/src/lib/libvisitcommon.so
#43 0x00002aaab5ade02d in AttributeSubject::Notify() () from /g/g17/whitlocb/Development/trunk/src/lib/libvisitcommon.so
#44 0x00002aaaab6077a6 in MPIXfer::Process() () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#45 0x00002aaaab5d04a4 in Engine::EventLoop() () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#46 0x00002aaaab5d0a18 in Engine::PAR_EventLoop() () from /g/g17/whitlocb/Development/trunk/src/lib/libengine_par.so
#47 0x0000000000401a35 in EngineMain(int, char**) ()
#48 0x00002aaab8ed6d5d in __libc_start_main (main=0x401eb0 <main>, argc=9, ubp_av=0x7fffffffd0d8, init=<value optimized out>, 
    fini=<value optimized out>, rtld_fini=<value optimized out>, stack_end=0x7fffffffd0c8) at libc-start.c:226
#49 0x0000000000401819 in _start ()
</pre>"
2400,Pending,VisIt,Feature,Normal,Add option to save images server-side.,"","","",Brad Whitlock,09/30/2015,"",0,"",09/30/2015 04:23 pm,10/08/2015 01:28 pm,"","","",3 - Medium,3 - Occasional,All,Any,"Add an option to VisIt to allow server-side image saves. In the event of multiple engines, the destination engine would need to be selectable and the image should be composited on the viewer and sent to the engine to write it out. If there is a single engine then the image save could happen directly on the engine.

This would help address an issue with saving images from Libsim when connected interactively client/server. Calls to VisItSaveWindow() do different things depending on whether there is a viewer connection or whether Libsim is being used in batch mode. When interactive connections are used, Libsim sends a message to the viewer to tell it to save the window. The viewer ends up getting an image from the simulation and saving it client-side. We'd like to be able to save server-side as is done in batch mode.

Done:
1. When VisIt can save an image server-side.
2. When an interactive connection to the updateplots simulation can save its images server-side.
"
2417,Pending,VisIt,Bug,Normal,Problems creating multiblock Xdmf datasets.,"","","",Brad Whitlock,10/15/2015,"",0,"",10/15/2015 01:41 pm,06/27/2017 01:40 pm,3 - Occasional,4 - Crash / Wrong Results,2.9.2,"","",All,Any,"From the visitusers.org forum (http://visitusers.org/forum/YaBB.pl?num=1424715221):

I'm am brand new to Visit and appear to be running into the same problem using version 2.9.2.  I'm working on adding the ability to write HDF5 files out from a CFD code (multi-block, structured, overset) and want to be able to read these files into Visit.  While exploring the XDMF path to accomplish this I've run into the problem described in the original post.

If I place each block in top-level grid elements I can individually add mesh plots for each block.  Since the number of blocks can typically be on the order of 100 this approach doesn't seem practical.  So, I attempted to create an outer Grid element of type Tree as shown in xdmf file below.  However, when I attempt to draw the mesh for the grid named ""All"" (The top-level Tree type grid) I get the same message described in the original post, ""The source object specified is invalid.""

<pre>
<?xml version=""1.0"" ?>
<!DOCTYPE Xdmf SYSTEM ""Xdmf.dtd"" []>
<Xdmf Version=""2.0"" xmlns:xi=""(URL REMOVED)"">
<Domain>

<Grid Name=""All"" GridType=""Tree"">
  <Grid Name=""Back"" GridType=""Uniform"">
    <Topology Type=""3DSMesh"" Dimensions=""33 33 140""/>
    <Geometry Type=""X_Y_Z"">
      <DataItem Name=""x""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/back/ X
      </DataItem>

      <DataItem Name=""y""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/back/ Y
      </DataItem>

      <DataItem Name=""z""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/back/ Z
      </DataItem>
    </Geometry>
  </Grid>

  <Grid Name=""Front"" GridType=""Uniform"">
    <Topology Type=""3DSMesh"" Dimensions=""33 33 140""/>
    <Geometry Type=""X_Y_Z"">
      <DataItem Name=""x""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/front/ X
      </DataItem>

      <DataItem Name=""y""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/front/ Y
      </DataItem>

      <DataItem Name=""z""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/front/ Z
      </DataItem>
    </Geometry>
  </Grid>

  <Grid Name=""Top"" GridType=""Uniform"">
    <Topology Type=""3DSMesh"" Dimensions=""33 33 140""/>
    <Geometry Type=""X_Y_Z"">
      <DataItem Name=""x""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/top/ X
      </DataItem>

      <DataItem Name=""y""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/top/ Y
      </DataItem>

      <DataItem Name=""z""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/top/ Z
      </DataItem>
    </Geometry>
  </Grid>

  <Grid Name=""Bottom"" GridType=""Uniform"">
    <Topology Type=""3DSMesh"" Dimensions=""33 33 140""/>
    <Geometry Type=""X_Y_Z"">
      <DataItem Name=""x""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/bottom/ X
      </DataItem>

      <DataItem Name=""y""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/bottom/ Y
      </DataItem>

      <DataItem Name=""z""
                ItemType =""Uniform""
                Format=""HDF""
                NumberType=""Float""
                Precision=""8""
                Dimensions=""33 33 140"">
                hd5example3d.h5:/bottom/ Z
      </DataItem>
    </Geometry>
  </Grid>
</Grid>
</Domain>

</Xdmf> 
</pre>"
2452,Pending,VisIt,Bug,Normal,Molecule plot imposter sphere rendering causes black 2D text annotations.,"","","",Brad Whitlock,11/11/2015,"",0,"",11/11/2015 05:54 pm,12/15/2015 06:28 pm,3 - Occasional,4 - Crash / Wrong Results,2.10.0,"","",All,Any,"Legend and annotations that use textured letters are turning black when imposter rendering is enabled. The renderer for the Molecule plot is likely just messing up some of the GL texture state. The renderer probably needs to push/pop more GL state. I saw this on Mac.

1. Open noise.silo
2. Turn the background black with white foreground
3. Make a Molecule plot of PointVar
4. Turn on sphere imposter rendering 
"
2483,Pending,VisIt,Bug,Normal,Mesh plot does not show appropriate lines for polyhedral mesh.,"","","",Brad Whitlock,12/16/2015,"",0,"",12/16/2015 12:25 pm,03/29/2016 06:33 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",All,Any,"I received the following email:

  we have discovered another bug when visualizing GMV data with VisIt (we reported the last one 2.5 years ago, which you have fixed for version 2.7).
  Find attached a GMV geometry file with 6x2 cells and two screenshots how it looks like in the original GMV viewer.
  In VisIt, it looks weird around the shaved cells (1st layer in z-direction).
  Do you see any way to fix that? Thanks in advance!

The cause is probably polyhedral cells. Fix the mesh plot so it shows the edges that come from the original polyhedral cell edges.



"
2548,Pending,VisIt,Bug,Normal,Static linking issues with Libsim.,"","","",Brad Whitlock,03/14/2016,"",0,"",03/14/2016 08:09 pm,03/15/2016 08:02 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",All,Any,"We have a cmake script that combines a bunch of VisIt libraries together into a single libsimV2_static_par.a file that can be used in simulations. There are a few things wrong with the VisIt build that prevent easily using this library to build the example simulations.

1. When Mesa is present, we build a libvisit_vtk_osmesa.a library. When present, that library should be folded into the libsimV2_static_*.a files.
2. Change the example sim CMakeLists.txt to add ICET to the link line when ICET is present -- not just under BG/Q.
3. Change the example sim CMakeLists.txt to add Mesa to the link line when needed (follow logic in tools/diagnostics/osmesa).
4. We still may run into issues if MPI is not added last."
2549,Pending,VisIt,Bug,Normal,Static Libsim library does not include additional plugins.,"","","",Brad Whitlock,03/14/2016,"",0,"",03/14/2016 08:16 pm,03/15/2016 08:03 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",All,Any,"When static Libsim support was added, it wasn't seen as a big deal that we'd not include regular VisIt database plugins into the Libsim static library. After all, we were going to do rendering and write images in situ. Unfortunately, this prevents simulations from exporting to useful formats. I added in VTK support so we can at least export to VTK but there are other useful ones we're missing such as Silo. Adding Silo would mean that applications would have to link with it and this gets complicated fast for a bunch of formats. Including the database plugins into the static Libsim would be straightforward (edit CMake/CreateStaticSimV2.cmake.in and then sim/V2/runtime/StaticSymbolLocator.C). Maybe what we can do is make an options script that can be installed with VisIt that provides the big list of libraries, etc needed to link a static libsim application so we can do something like this:

gcc -o mysim mysim.c `libsim-config`

That would expand to a whole lot of stuff, with libraries linked against the installed VisIt's (and VTK and Silo and Mesa and IceT, ...) .a's / .so's

"
2550,Pending,VisIt,Bug,Normal,make install does not install static Libsim combined library.,"","","",Brad Whitlock,03/15/2016,"",0,"",03/15/2016 12:48 pm,03/15/2016 08:03 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",All,Any,"The VisIt build will make a combined static Libsim library (lisimV2_static_{ser,par}.a) but those files do not get installed during ""make install"". Those files should get installed as part of ""make install""."
2572,Pending,VisIt,Bug,Normal,Need to escape backslashes on recorded Python commands that reference files on Windows.,"","","",Brad Whitlock,03/30/2016,"",0,"",03/30/2016 10:28 pm,04/05/2016 06:50 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",Windows,Any,"I used command recording on Windows via the GUI to record some actions. The recorded actions were:

<pre>
OpenDatabase(""localhost:D:\VisItClass2016\data\noise.silo"", 0)
AddPlot(""Pseudocolor"", ""hardyglobal"", 1, 0)
DrawPlots()
</pre>

When I deleted the plot, closed the database, and ran the recorded code, VisIt complained:
<pre>
ERROR: VisIt could not read from the file ""D:\VisItClass2016\data
oise.silo"".

The generated error message was:

There was an error opening D:\VisItClass2016\data
oise.silo. It may be an invalid file.  VisIt tried using the following file format readers to open the file: <No suitable plugins were identified>

The following error(s) may be helpful in identifying the problem:
The file ""D:\VisItClass2016\data
oise.silo"" does not exist.

ERROR: Cannot create a plot until a database has been opened.
</pre>

It would appear that the backslash+'n' were interpreted as an end of line and caused the file read to fail. The solution is to audit the Python command recording in the CLI so that filenames that contain backslashes get backslashes escaped. When I make those corrections to the code in the Commands window, that allows it to run.

<pre>
OpenDatabase(""localhost:D:\\VisItClass2016\\data\\noise.silo"", 0)
AddPlot(""Pseudocolor"", ""hardyglobal"", 1, 0)
DrawPlots()
</pre>"
2573,Pending,VisIt,Bug,Normal,Problem detecting loss of Python console on Windows.,"","","",Brad Whitlock,03/30/2016,"",0,"",03/30/2016 10:34 pm,04/05/2016 06:49 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",Windows,Any,"1. Run VisIt on Windows.
2. Open the Command window and start recording.
3. Open a dataset, make a plot, draw the plot.
4. Stop recording.
5. Delete the plots, close the database.
6. Replay the recorded code to make the plot again.
7. Delete the plot, close the database.
8. Replay the recorded code. Nothing will happen.

Further attempts to record new actions to Python have no effect. VisIt does not realize that the Python interface has been lost so command recording is broken. VisIt must be restarted to correct this."
2581,Pending,VisIt,Bug,Normal,!NBLOCKS in .visit file is ignored for Silo format.,"","","",Brad Whitlock,04/05/2016,"",0,"",04/05/2016 09:25 pm,04/12/2016 07:20 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",All,Any,"I used VisIt scripting to partition a large dataset into smaller pieces using the Box operator and I exported the pieces to Silo. I then wanted to use the NBLOCKS directive in the .visit file so I could plot the whole thing. The !NBLOCKS directive didn't work. It worked though when I saved to VTK. So, I had to export to VTK and then read the .visit file and export to Silo, causing a 2 step process.

When I opened the .visit file, VisIt treated each domain as a time step. When did this break?? I tried 2.9 and 2.10 and both were broken.

!NBLOCKS 4
timestep0_domain0.silo
timestep0_domain1.silo
timestep0_domain2.silo
timestep0_domain3.silo
timestep1_domain0.silo
timestep1_domain1.silo
timestep1_domain2.silo
timestep1_domain3.silo"
2583,Pending,VisIt,Bug,Normal,Silo export does not allow certain characters in variable names.,"","","",Brad Whitlock,04/05/2016,"",0,"",04/05/2016 09:34 pm,04/12/2016 07:16 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",All,Any,"I get unruly data from CFD file formats and there are often variable names we would think are strange (e.g. ""some name [package]""). While it is often possible to plot these variables in VisIt, exporting to Silo doesn't work often because the Silo library complains about the variable name and stops the export. Why does Silo have to use the variable name directly when constructing its HDf5 array names, etc? Why not in this case, have Silo munge the name to something valid and then do translation internally when asked for the variable name that the user likes?"
2588,Pending,VisIt,Bug,Normal,Position widget used for placing annotations and legends in Annotation window isn't showing crosshairs on Mac.,"","","",Brad Whitlock,04/07/2016,"",0,"",04/08/2016 02:09 am,04/12/2016 07:09 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",OSX,Any,"When you position a legend in the Annotation window, you can use the position widget to set the legend's location on the normalized screen. The widget is a lineedit with a down-arrow on the right. When you click on the down-arrow, a small popup appears that lets draws a crosshairs on the popup to indicate where the selected location will be. The crosshair drawing isn't working on Mac. I've seen it work on Windows recently so it must be platform-specific."
2589,Pending,VisIt,Bug,Normal,ijk_gradient expression doesn't seem to work on curvilinear meshes.,"","","",Brad Whitlock,04/08/2016,"",0,"",04/08/2016 03:17 am,04/12/2016 07:07 pm,2 - Rare,4 - Crash / Wrong Results,2.10.0,"","",All,Any,"I assume ijk_gradient expression works on rectilinear and curvilinear. However, it looks like it gives bad results on curvilinear. I have a regular mesh that happens to be curvilinear and I did an ijk_gradient of the X coordinate, expecting constant gradient of 1. Instead I got some weird patterns in the output data, suggesting that it didn't work."
2595,Pending,VisIt,Bug,Normal,ProgrammableCompositor produces bad images using Intel 15 compiler.,"","","",Brad Whitlock,04/12/2016,"",0,"",04/12/2016 02:39 pm,04/12/2016 06:48 pm,3 - Occasional,5 - Very Serious,2.10.0,"","",All,Any,"I was recently doing in situ runs on titan and using the ProgrammableCompositor because I didn't use IceT (IceT performance was bad) and the images that popped out were incorrect. When I enabled the class' debugging features to write out some VTK data, I saw that the Z buffers were right but the colors were not. I figured this had to be due to some incorrect vectorization. I replaced __restrict__ directives with a bogus empty RESTRICT macro to prevent the compiler from being able to vectorize (it needs the restrict keyword to know that the data is not aliased). When I did that, the saved images were correct.

Track down which vectorized routine is going haywire in that compositor.

"
2596,Pending,VisIt,Bug,Normal,VisIt's use of IceT doesn't scale.,"","","",Brad Whitlock,04/12/2016,"",0,"",04/12/2016 02:56 pm,04/13/2016 12:17 pm,3 - Occasional,5 - Very Serious,2.10.0,"","",All,Any,"While doing some in situ rendering tests at scale, I found that IceT compositing was taking the bulk of the time. I wasn't too surprised there but the scale of the time was a surprise because it was *really* bad. Out of desperation, I switched to the Programmable compositor and got okay performance. I'm still wondering whether IceT can do better if we change how VisIt uses it.

I'm not sure whether this has always been the case but the way VisIt uses IceT doesn't scale whatsoever. The basic problem seems to be that VisIt doesn't take advantage of its knowledge of which ranks have data to exclude ranks from the compositing. The ProgrammableCompositor uses that information to only involve ranks with data in the compositing process. For IceT, we should use that information to split the communicator so we have one that just includes ranks that have data.

* Have a look at PV to see what they do with IceT as they apparently don't have this problem.
* Refactor VisIt code to use IceT better (comm splitting, etc)
* Update to IceT 2.1
* Run at scale into 40K-100K processor range (maybe cori for 40k or vulcan for 100k)
* Compare timings against IceT and ProgrammableCompositor
* If ProgrammableCompositor is still faster than IceT, dump IceT from VisIt since it adds build pain anyway

I might have a look at this in a few weeks if nobody can get to it.
"
2597,Pending,VisIt,Bug,Normal,Saved image lacks axis annotations if rank 0 not part of compositing.,Brad Whitlock,"","",Brad Whitlock,04/12/2016,"",0,"",04/12/2016 03:04 pm,04/12/2016 06:40 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",All,Any,"I was using the ProgrammableCompositor to save images of a slice, left in 3D, from in situ. I noticed that when I saved out the images from each rank before compositing that rank 0 had the axis annotations. None of my slice was on rank 0 so the final composited image did not include the axis annotations. The network manager should add rank 0 to the list of ranks that will composite if we have annotations enabled."
2598,Pending,VisIt,Bug,Normal,Statically linked libsim exhibits initialization delay.,"","","",Brad Whitlock,04/12/2016,"",0,"",04/12/2016 03:17 pm,04/12/2016 06:39 pm,3 - Occasional,3 - Major Irritation,2.10.0,"","",All,Any,"When I made a statically linked Libsim application, the startup time for Libsim was on the order of a few seconds still. Initially, this was because I was still doing calls to spawn a ""visit -env -engine"" to set up environment. Even after ditching that and doing putenv() calls myself in the application, the startup cost was still surprisingly high. I ran out to large scale and saw that the initialization time worsened with scale. Static Libsim initialization ought to be very fast since it's not loading a runtime library or plugins. Is Libsim still reading some config files, etc? Maybe we need to build statically and run under strace."
2599,Pending,VisIt,Feature,Normal,Generate LIBSIMConfig.cmake file for VisIt installation,"","","",Brad Whitlock,04/12/2016,"",0,"",04/12/2016 04:11 pm,04/12/2016 06:36 pm,"","","",3 - Medium,3 - Occasional,All,Any,"I needed to use static Libsim from a simulation. I wanted to use cmake to detect Libsim instead of having to add a bunch of stuff to the simulation's cmake. I devised a LIBSIMConfig.cmake file that can be used with FIND_PACKAGE. I put that file into install_static/2.11.0/linux-x86_64/libsim/V2/lib.  We should make it better and include it with the Libsim install. It's currently geared towards Libsim static where we need to know about VisIt, VTK, GL, IceT dependencies in order to link with Libsim. I think we'd need a static version or a shared version, depending on which VisIt is getting built.

* We probably need to install VTK, Mesa, IceT .a's for static builds so the LIBSIMConfig.cmake file can reference files that are all in the VisIt installation.

Code to use LIBSIMConfig.cmake
<pre>
find_package(LIBSIM REQUIRED)

add_library(libsim INTERFACE)
target_link_libraries(libsim INTERFACE ${LIBSIM_STATIC_PAR_LIBRARIES})
target_include_directories(libsim SYSTEM INTERFACE ${LIBSIM_INCLUDE_DIR})
</pre>


LIBSIMConfig.cmake:
<pre>
# LIBSIM_FOUND                - System has Libsim
# LIBSIM_INCLUDE_DIR          - The path to the Libsim header files
# LIBSIM_LIBRARY_DIR          - The path to the Libsim lib files
# LIBSIM_LIBRARIES            - The Libsim simV2.a file and 3rd party dependencies
# LIBSIM_FORTRAN_LIBRARIES    - The Libsim simV2.a, simV2f.a files and 3rd party dependencies
# LIBSIM_STATIC_SER_LIBRARIES - The Libsim simV2_static_ser.a file and 3rd party dependencies
# LIBSIM_STATIC_PAR_LIBRARIES - The Libsim simV2_static_par.a file and 3rd party dependencies (without MPI)

# Compute the installation prefix from this LIBSIMConfig.cmake file location.
get_filename_component(LIBSIM_INSTALL_PREFIX ""${CMAKE_CURRENT_LIST_FILE}"" PATH)
set(LIBSIM_MODULES_DIR ""${LIBSIM_INSTALL_PREFIX}/lib"")
get_filename_component(VISIT_ARCH_DIR ""${CMAKE_CURRENT_LIST_FILE}"" PATH)
get_filename_component(VISIT_ARCH_DIR ""${VISIT_ARCH_DIR}"" PATH)
get_filename_component(VISIT_ARCH_DIR ""${VISIT_ARCH_DIR}"" PATH)
get_filename_component(VISIT_ARCH_DIR ""${VISIT_ARCH_DIR}"" PATH)

set(LIBSIM_INSTALL_PREFIX ${VISIT_ARCH_DIR}/libsim/V2)
set(VISIT_ARCHIVE_DIR     ${VISIT_ARCH_DIR}/archives)

SET(LIBSIM_VERSION ""2.11.0"")

# NOTE: The engine-only build did not install any VisIt 3rd party libraries into the
#       VisIt installation. For now, we'll reference the libraries that were used to
#       build VisIt. However, to make it easier for users to statically link Libsim,
#       we'll need to install all those 3rd party .a's.

#if static and mesa found
set(LIBSIM_GL_LIBDIR /global/homes/w/whitlocb/Development/thirdparty_static_server/mesa/11.1.2/linux-x86_64_gcc-5.2/lib)
set(LIBSIM_GL_LIBRARIES ${LIBSIM_GL_LIBDIR}/libGL.a ${LIBSIM_GL_LIBDIR}/libglapi.a crypto dl)

#if static and icet found
set(LIBSIM_ICET_LIBDIR /global/homes/w/whitlocb/Development/thirdparty_static_server/icet/1.0.0/linux-x86_64_gcc-5.2/lib)
set(LIBSIM_ICET_LIBRARIES ${LIBSIM_ICET_LIBDIR}/libicet.a ${LIBSIM_ICET_LIBDIR}/libicet_mpi.a ${LIBSIM_ICET_LIBDIR}/libicet_strategies.a)

# VTK files
set(LIBSIM_VTK_LIBDIR /global/homes/w/whitlocb/Development/thirdparty_static_server/vtk/6.1.0/linux-x86_64_gcc-5.2/lib)
set(LIBSIM_VTK_LIBRARIES
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOLegacy-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOPLY-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOXML-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkInteractionStyle-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingOpenGL-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingFreeTypeOpenGL-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersHybrid-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersModeling-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkGeovisCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingOpenGL-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOGeometry-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkjsoncpp-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOXMLParser-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkexpat-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkInfovisLayout-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkInfovisCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkViewsCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkInteractionWidgets-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkInteractionStyle-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersHybrid-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersModeling-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingHybrid-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOImage-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkIOCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkpng-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtktiff-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkjpeg-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkmetaio-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkDICOMParser-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingGeneral-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingSources-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingAnnotation-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingFreeType-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkftgl-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkzlib-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingColor-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingVolume-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkRenderingCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersSources-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersGeometry-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersExtraction-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersGeneral-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonComputationalGeometry-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkFiltersStatistics-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingFourier-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkImagingCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonExecutionModel-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonDataModel-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonMisc-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonSystem-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonTransforms-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonMath-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkCommonCore-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkfreetype-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtksys-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkalglib-6.1.a
 ${LIBSIM_VTK_LIBDIR}/libvtkproj4-6.1.a
 )
 
set(LIBSIM_FOUND 1)

set(LIBSIM_INCLUDE_DIR ${LIBSIM_INSTALL_PREFIX}/include)
set(LIBSIM_LIBRARY_DIR  ${LIBSIM_INSTALL_PREFIX}/lib)

set(LIBSIM_THIRDPARTY_LIBRARIES ${LIBSIM_VTK_LIBRARIES} ${LIBSIM_ICET_LIBRARIES} ${LIBSIM_GL_LIBRARIES} z)

set(LIBSIM_LIBRARIES  ${LIBSIM_INSTALL_PREFIX}/lib/libsimV2.a ${LIBSIM_THIRDPARTY_LIBRARIES})
set(LIBSIM_FORTRAN_LIBRARIES ${LIBSIM_INSTALL_PREFIX}/lib/libsimV2.a ${LIBSIM_INSTALL_PREFIX}/lib/libsimV2f.a ${LIBSIM_THIRDPARTY_LIBRARIES})
set(LIBSIM_STATIC_SER_LIBRARIES  ${LIBSIM_INSTALL_PREFIX}/lib/libsimV2_static_ser.a ${LIBSIM_THIRDPARTY_LIBRARIES})
set(LIBSIM_STATIC_PAR_LIBRARIES  ${LIBSIM_INSTALL_PREFIX}/lib/libsimV2_static_par.a ${LIBSIM_THIRDPARTY_LIBRARIES})

MESSAGE(STATUS ""LIBSIM_FOUND = ${LIBSIM_FOUND}"")
MESSAGE(STATUS ""LIBSIM_VERSION = ${LIBSIM_VERSION}"")
MESSAGE(STATUS ""LIBSIM_INCLUDE_DIR = ${LIBSIM_INCLUDE_DIR}"")
MESSAGE(STATUS ""LIBSIM_LIBRARY_DIR = ${LIBSIM_LIBRARY_DIR}"")
MESSAGE(STATUS ""LIBSIM_LIBRARIES = ${LIBSIM_LIBRARIES}"")
MESSAGE(STATUS ""LIBSIM_FORTRAN_LIBRARIES = ${LIBSIM_FORTRAN_LIBRARIES}"")
MESSAGE(STATUS ""LIBSIM_STATIC_SER_LIBRARIES = ${LIBSIM_STATIC_SER_LIBRARIES}"")
MESSAGE(STATUS ""LIBSIM_STATIC_PAR_LIBRARIES = ${LIBSIM_STATIC_PAR_LIBRARIES}"")

</pre>"
2692,Pending,VisIt,Bug,High,Integral curve tests are slow.,"","","",Brad Whitlock,10/18/2016,"",0,"",10/18/2016 08:04 pm,10/20/2016 01:03 pm,3 - Occasional,2 - Minor Irritation,2.10.0,"","",All,Any,"Some of the integral curve tests (ic_pics.py, etc) take about 10 minutes to run on surface. It would be better if the offending tests were split into multiple, shorter running tests so the test suite can complete faster.

This is not an issue for overnight but it sure is a pain when running the test suite over and over again to test changes to the code."
2724,Pending,VisIt,Bug,High,Trunk now renders line dataset without color texturing.,"","","",Brad Whitlock,12/01/2016,"",0,"",12/01/2016 02:22 pm,12/06/2016 06:26 pm,3 - Occasional,4 - Crash / Wrong Results,2.10.0,"","",All,Any,"This recently started happening on the trunk with line datasets with nodal data.

1. Open attached dataset.
2. Make a Pseudocolor plot of airVf.
3. Change color table to hot_desaturated and make the line width 8.
4. Draw the plot.

The line will use colors that are interpolated through color space instead of using 1D textures to make a better picture.

I find that when I disable the avtPolylineCleanupFilter in the Pseudocolor plot that the textures are used again and the plot looks nice. Something about the polyline cleanup filter is breaking texturing."
3015,Pending,VisIt,Feature,Normal,Build new IceT on surface.,Eric Brugger,"","",Brad Whitlock,02/14/2018,"",0,"",02/14/2018 06:40 pm,02/20/2018 07:02 pm,"","",2.12.3,3 - Medium,3 - Occasional,All,Any,I'm going to be merging my IceT changes soon and the surface host profile will need to point to a new IceT. I changed it to point to my build for the time being.
3027,Pending,VisIt,Feature,Normal,Make it easier to add new launchers in host profiles menu.,"","","",Brad Whitlock,02/27/2018,"",0,"",02/27/2018 06:29 pm,02/27/2018 07:03 pm,"","",2.12.3,3 - Medium,3 - Occasional,All,Any,"I recently made a customlaucher to hijack an existing sbatch/mpirun launcher to run a different launcher. I did this because the menu in the Host profiles window shows a fixed list of launchers/sublaunchers.

I think it'd be nice if we set some VISIT_LAUNCHERS environment variable in the internallauncher based on the registered job submitter classes and then use the contents of that environment variable to add to the list of launchers in the Host Profile's launcher menu. This would make it so the only place we need to change to support a new launcher is in internallauncher."
3062,New,VisIt,Bug,Normal,VTK8 Wave.silo picture normals look cell-centered for node-centered variable.,"","","",Brad Whitlock,04/04/2018,"",0,"",04/04/2018 06:50 pm,05/31/2018 03:05 pm,3 - Occasional,2 - Minor Irritation,2.12.3,"","",All,Any,"After the VTK 8.1 update, I plotted wave.silo's ""pressure"" variable and the normals look cell-centered whereas before they were node-centered. Is this intentional?"
